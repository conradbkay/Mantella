{"version":3,"sources":["store/defaultState.ts","store/reducers/createReducer.ts","utils/utilities.ts","store/reducers/tasks.ts","store/reducers/projects.ts","store/reducers/pomodoro.ts","store/reducers/user.ts","store/reducers/reducer.ts","store/store.ts","store/actions/pomodoro.ts","utils/convertToTime.tsx","components/Pomodoro/Controls.tsx","components/Pomodoro/Display.tsx","components/styles/utils.ts","components/Pomodoro/Stopwatch.tsx","components/Pomodoro/Pomodoro.tsx","components/Pomodoro/Swal.ts","components/styles/formStyles.ts","store/actions/snackbar.ts","store/actions/project.ts","API/initialize.ts","store/actions/auth.ts","graphql/fragments.ts","graphql/mutations/auth.ts","components/Auth/Auth.tsx","graphql/mutations/project.ts","components/createProject/CreateProject.tsx","components/NoMatch/NoMatch.tsx","components/Landing/FeatureTable.tsx","components/Landing/FeatureGallery.tsx","components/Landing/About.tsx","components/ProjectFinder/ProjectFinder.tsx","components/Header.tsx","components/utils/SnackbarRoot.tsx","apollo.ts","components/utils/Routing.tsx","store/actions/list.ts","graphql/mutations/list.ts","components/Project/CreateColumn.tsx","components/Project/ProjectSettings.tsx","utils/hasPassed.ts","utils/formatDueDate.tsx","store/actions/task.ts","graphql/mutations/task.ts","components/Project/Task/Base.tsx","colors.ts","components/utils/chooseColor.tsx","components/Project/Task/Create.tsx","components/Project/Cell/ProjectCell.tsx","components/Project/Task/Edit.tsx","components/Project/Project.tsx","components/Settings/Settings.tsx","components/Dashboard/Dashboard.tsx","components/Calendar/WeekDay.tsx","components/Calendar/WeekControls.tsx","components/Calendar/Week.tsx","index.tsx"],"names":["defaultState","user","pomodoro","paused","working","selectingTask","selectedTaskId","currSeconds","breakSeconds","workSeconds","stopWatch","pastTimes","time","highest","snackbar","open","message","variant","isLoading","projects","createReducer","initialState","actionsMap","state","arguments","length","undefined","action","createNextState","draft","caseReducer","type","id","arr","passedId","findIndex","item","formalize","str","toLowerCase","replace","getAllTasks","tasks","map","project","concat","Object","toConsumableArray","getProjectIdFromTaskId","taskId","result","values","proj","task","taskCases","TICK","projectId","timeWorkedOn","SET_TASK","newTask","lists","list","taskIds","includes","splice","indexOf","tsk","objectSpread","SET_SUBTASK","subTasks","newSubtask","projectCases","SET_PROJECT","SET_LIST","changing","newList","push","name","SET_PROJECTS","projectsReducer","pomodoroReducer","pom","TOGGLE_TIMER","SET_LENGTH_MINUTES","slice","operationType","changingCurrent","minutes","newSeconds","RESET_POMODORO","SELECT_POMODORO_TASK","TOGGLE_SELECTING_TASK","SET_TIME_DEV","TICK_STOPWATCH","Math","max","TOGGLE_STOPWATCH","RESET_STOPWATCH","userReducer","REGISTER","LOGIN","snackbarReducer","OPEN_SNACKBAR","CLOSE_SNACKBAR","loadingReducer","START_LOADING","STOP_LOADING","reducer","combineReducers","composeEnhancers","composeWithDevTools","actionCreators","trace","traceLimit","store","createStore","applyMiddleware","invariant","thunk","toggleTimerA","toDaysHHMMSS","s","verbose","days","floor","hours","measuredTime","Date","setSeconds","toISOString","setLengthA","args","byMinutes","Controls","connect","workTime","breakTime","props","react_default","a","createElement","Fragment","style","textAlign","fontSize","margin","display","Button","onClick","color","width","marginLeft","marginRight","Add","fullWidth","Remove","reset","toggleSelectingTask","setTimeDev","Display","timeLeft","buttonText","Paper","minHeight","marginBottom","marginTop","backgroundColor","padding","float","toggleWorking","centerChildren","alignItems","justifyContent","interval","setInterval","Infinity","tickStopwatch","toggleStopwatch","Stopwatch","useEffect","clearInterval","renderprops","items","from","opacity","enter","leave","show","transitionStyles","PlayArrow","Pause","toggleTimer","tick","Pomodoro","withStyles","theme","createStyles","card","position","bottom","spacing","outline","left","maxWidth","minWidth","zIndex","closeButton","right","top","palette","grey","_useState","useState","_useState2","slicedToArray","tab","setTab","React","document","title","classes","stateFunc","toggleButtonText","text","icon","Dialog","buttons","stop","value","toggle","then","Swal","Card","className","DialogTitle","IconButton","Close","Tabs","onChange","e","v","Tab","label","Settings","formStyles","layout","defineProperty","breakpoints","up","paper","flexDirection","avatar","height","secondary","main","submit","openSnackbarA","setProjectA","newProj","selectMemberA","fetchQuery","_ref","asyncToGenerator","regenerator_default","mark","_callee","queryString","variables","axiosFunc","data","wrap","_context","prev","next","axios","post","query","withCredentials","sent","abrupt","_x","_x2","apply","this","initializeAuthState","dispatch","getState","transformUser","username","profileImg","joinedIds","email","loginA","taskFields","gql","_templateObject","listFields","_templateObject2","_templateObject3","projectFields","_templateObject4","userFields","_templateObject5","GQL_LOGIN","auth_templateObject","GQL_REGISTER","auth_templateObject2","GQL_LOGIN_WITH_COOKIE","auth_templateObject3","GQL_LOGOUT","auth_templateObject4","openSnackbar","register","authUser","login","AuthRender","authType","setEmail","_useState3","_useState4","password","setPassword","_useState5","_useState6","confirmText","setConfirmText","_useState7","_useState8","setUsername","Helmet_default","content","react_components_esm","onCompleted","registerData","window","location","hash","onError","error","mutation","auth","autoComplete","onSubmit","preventDefault","Avatar","LockOpen","Typography","component","Link","to","TextField","required","target","Grid","container","justify","loading","CircularProgress","disabled","trim","alignContent","src","GQL_CREATE_PROJECT","project_templateObject","GQL_DELETE_PROJECT","project_templateObject2","GQL_EDIT_PROJECT","project_templateObject3","setProject","CreateProject","setName","_useMutation","useMutation","createProject","_useMutation2","createProjectExec","react","CalendarTodayRounded","autoFocus","NoMatch","tableHeadData","features","styles","paddingBottom","FeatureTable","Table","TableHead","TableRow","val","i","TableCell","key","TableBody","feature","Check","Traffic","galleryOptions","description","FeatureGallery","flexWrap","galleryOption","flex","borderRadius","Icon_Icon","fontWeight","About","heroContent","heroTitle","kayLink","Helmet","async","defer","size","textDecoration","cursor","align","gutterBottom","data-version","data-size","data-locale","data-type","data-theme","data-vanity","rel","href","FeatureTable_FeatureTable","FeatureGallery_FeatureGallery","ProjectFinder","withRouter","search","setSearch","filter","myString","searchInput","List","subheader","ListSubheader","urlPrefix","whiteSpace","ListItem","button","pathname","split","toString","ListItemText","primary","noButton","noAuthItems","menuIcon","Help","HowToReg","authItems","PieChart","CalendarToday","Routed","authenticated","drawer","setDrawer","anchorEl","setAnchorEl","MenuItems","menuItem","AppBar","appBar","Toolbar","xs","paddingTop","currentTarget","Menu_default","Menu_Menu","Boolean","onClose","inline","noWrap","transform","trailProps","paddingRight","tagline","iconContainer","iconButton","tabContainer","indicatorColor","textColor","index","NavLink","root","tabItem","Tooltip","toUpperCase","Drawer","anchor","ListItemIcon","Header","boxShadow","borderBottom","link","down","closeSnackbar","SnackbarRoot","success","warning","standard","dark","close","variantIcon","CheckCircleIcon","WarningIcon","ErrorIcon","Info","backgroundClass","getClassSnackbarVariant","Icon","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","SnackbarContent","Close_default","client","ApolloClient","connectToDevTools","ApolloLink","graphQLErrors","networkError","_ref2","locations","path","console","HttpLink","uri","credentials","cache","InMemoryCache","mapState","PrivateRoute","PropComponent","componentProps","rest","objectWithoutProperties","react_router","assign","render","params","match","PublicOnlyRoute","setListA","GQL_CREATE_LIST","list_templateObject","GQL_DELETE_LIST","list_templateObject2","list_templateObject3","setList","CreateColumn","createList","createListExec","projId","DialogContent","DialogContentText","DialogActions","ProjectSettings","_React$useState","_React$useState2","hasClicked","setClicked","deleteProject","deleteProjectExec","ListItemAvatar","Delete","maxHeight","hasPassed","date","isArray","isBefore","god","hasOver","formatDistance","overdueFormat","format","baseFormat","formatDueDate","hasOverDue","dueDate","recurrance","setTaskA","cloneDeep","GQL_SET_SUBTASK","task_templateObject","GQL_SET_COMMENT","task_templateObject2","GQL_CREATE_TASK","task_templateObject3","GQL_EDIT_TASK","task_templateObject4","GQL_DRAG_TASK","task_templateObject5","_templateObject6","SubtaskMap","onCheckbox","initial","native","keys","subTask","overflow","div","completed","CheckBox","stopPropagation","CheckBoxOutlineBlankOutlined","selectPomodoroTask","stopSelectingMember","selectMember","setSubtask","BaseTask","badgeColor","badge","input","play","ownProps","isSelectingTask","isCurrentTask","showComments","setShowComments","showSubTasks","setShowSubTasks","formatDate","setFormatDate","callback","delay","savedCallback","useRef","current","useInterval","provided","snapshot","openFunc","log","setSubtaskExec","ref","innerRef","draggableProps","dragHandleProps","border","isDragging","Badge","colorSecondary","badgeContent","points","progress","Base_SubtaskMap","newSub","subtaskId","info","comments","comment","dateAdded","Comment","esm_List","alignSelf","LinearProgress","colors","White","Blue","Red","Yellow","Orange","Purple","cyan","Green","Magenta","Brown","ChooseColor","hasAllOption","gradientNames","join","FormControl","Select","MenuItem","selected","background","uuidv1","FormHelperText","CreateTask","setColor","setPoints","listId","setListId","_useState9","_useState10","setDueDate","createTask","createTaskExec","taskInfo","persist","parseInt","chooseColor_ChooseColor","lib","dropUp","containerClassName","ProjectCell","creating","setCreating","deletingList","setDeletingList","borderRight","borderTop","borderLeft","collapsedLists","overflowY","esm_Menu","collapseList","deleteList","setTimeout","react_beautiful_dnd_esm","isDropDisabled","droppableId","dropProvided","dropSnapshot","droppableProps","draggableId","dragProvided","dragSnapshot","placeholder","columnId","setTask","EditTaskModal","_useMutation3","setComment","setCommentExec","_useMutation5","editTaskExec","_useMutation7","_ref3","dragTask","dragTaskExec","ownerListId","find","newIndex","tasksInNewProgress","filterTask","indexesInList","tasko","min","oldListId","newListId","newProgress","paddingLeft","_ref4","getAllListsArr","DateTimePicker_default","Checkbox","disableRipple","checked","newCompleteStatus","onBlur","sub","subTaskId","uuid","commentId","newComments","getMobile","innerWidth","Project","fab","tooltip","appbar","textOverflow","&:hover","&:focus","borderColor","editingTaskId","setEditingTaskId","settings","setSettings","dialogOpen","setDialogOpen","setIsMobile","setCollapsedLists","_useState11","_useState12","deleteListExec","_useState13","_useState14","windowWidth","setWindowWidth","addEventListener","removeEventListener","editProjectExec","FilterList","Equalizer","onDragEnd","destination","source","vars","fromListId","_ref$2","toListId","toProgress","editProject","fromList","toList","actualIndex","reduce","accum","tableLayout","borderCollapse","col","verticalAlign","ProjectCell_ProjectCell","lId","tId","placement","Fab","reload","logout","genNums","amount","random","Dashboard","chartRef","myChartRef","getContext","chart","Chart","labels","datasets","fill","borderWidth","options","scales","yAxes","ticks","beginAtZero","update","names","WeekDay","d1","d2","day","isPast","addHours","withDate","getDate","sort","b","getTime","getFullYear","getMonth","getDay","isDraggingOver","transition","prov","snap","boxStyle","WeekControls","_nav","nav","toggleProject","currIds","withoutAllProjects","num","multiple","setDate","subDays","startDay","NavigateBefore","addDays","NavigateNext","CWeek","dragContainer","overflowX","tasksContainer","filterProjectId","setFilterProjectId","baseDay","setBaseDay","allTasks","weekEmpty","start","getDays","newDay","taskDueDate","diff","differenceInCalendarDays","findNewDate","filteringProjects","CalendarWeek","createMuiTheme","fabStyle","Router","setOpen","loaded","setLoaded","onload","loginWithCookie","print","t0","react_router_dom","bool","Timer","exact","Wrapper","es","react_common_esm","ThemeProvider","src_Router","momentLocalizer","require","Moment","locale","src_Wrapper","getElementById"],"mappings":"8TAUaA,EAAuB,CAClCC,KAAM,KACNC,SAAU,CACRC,QAAQ,EACRC,SAAS,EACTC,eAAe,EACfC,eAAgB,KAChBC,YAAa,KACbC,aAAc,IACdC,YAAa,KACbC,UAAW,CACTC,UAAW,GACXC,KAAM,EACNT,QAAQ,EACRU,QAAS,IAGbC,SAvBwC,CACxCC,MAAM,EACNC,QAAS,4DACTC,QAAS,WAqBTC,WAAW,EACXC,SAAU,aCDCC,EAAgB,SAC3BC,EACAC,GAEA,OAAO,WAA8C,IAA7CC,EAA6CC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAArCH,EAAcM,EAAuBH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAEnD,OAAOE,YAAgBL,EAAO,SAACM,GAC7B,IAAMC,EAAcR,EAAWK,EAAOI,MACtC,OAAOD,EAAcA,EAAYD,EAAcF,QAAiBD,sBCjCzDM,EAAK,SAChBC,EACAC,GAEA,OAAOD,EAAIE,UAAU,SAAAC,GAAI,OAAIA,EAAKJ,KAAOE,KAG9BG,EAAY,SAACC,GACxB,OAAOA,EACJC,cACAC,QAAQ,KAAM,IACdA,QAAQ,KAAM,KA6BNC,EAAc,SAACtB,GAC1B,IAAIuB,EAAiB,GAOrB,OALAvB,EAASwB,IAAI,SAAAC,GACXF,EAAK,GAAAG,OAAAC,OAAAC,EAAA,EAAAD,CAAOJ,GAAPI,OAAAC,EAAA,EAAAD,CAAiBF,EAAQF,UAIzBA,GAaIM,EAAyB,SACpC7B,EACA8B,GAEA,IAAIC,EAAS,GAWb,OATAJ,OAAOK,OAAOhC,GAAUwB,IAAI,SAAAS,GAC1BN,OAAOK,OAAOC,EAAKV,OAAOC,IAAI,SAAAU,GACxBA,EAAKrB,KAAOiB,IACdC,EAASE,EAAKpB,QAMbkB,GClCII,EAAY,CACvBC,KARW,SAACpC,EAAsBQ,GAClC,GAAIA,EAAOsB,QAAUtB,EAAO6B,UAAW,CACrC,IAAMJ,EAAOjC,EAASa,EAAGb,EAAUQ,EAAO6B,YAC1CJ,EAAKV,MAAMV,EAAGoB,EAAKV,MAAOf,EAAOsB,SAASQ,cAAgB,IAM5DC,SAzCe,SACfvC,EACAQ,GAEA,IAAMiB,EAAUzB,EAASa,EAAGb,EAAUQ,EAAO6B,YACvCd,EAAQE,EAAQF,MACC,OAAnBf,EAAOgC,SAGTf,EAAQgB,MAAMjB,IAAI,SAAAkB,GACZA,EAAKC,QAAQC,SAASpC,EAAOK,KAC/B6B,EAAKC,QAAQE,OAAOH,EAAKC,QAAQG,QAAQtC,EAAOK,IAAK,KAIzDY,EAAQF,MAAMsB,OAAOpB,EAAQF,MAAMP,UAAU,SAAA+B,GAAG,OAAIA,EAAIlC,KAAOL,EAAOK,OAEtEU,EAAMV,EAAGU,EAAOf,EAAOK,KAAvBc,OAAAqB,EAAA,EAAArB,CAAA,GACKnB,EAAOgC,UAwBdS,YAnBkB,SAACjD,EAAsBQ,GACzC,IAAMiB,EAAUzB,EAASa,EAAGb,EAAUQ,EAAO6B,YACvCH,EAAOT,EAAQF,MAAMV,EAAGY,EAAQF,MAAOf,EAAOsB,SAEpDI,EAAKgB,SAASrC,EAAGqB,EAAKgB,SAAU1C,EAAOK,KAAOL,EAAO2C,WACrD1B,EAAQF,MAAMV,EAAGY,EAAQF,MAAOf,EAAOsB,SAAWI,ICG9CkB,EAAyC,CAC7CC,YA5BkB,SAClBrD,EACAQ,GAEIA,EAAOiB,QACTzB,EAASa,EAAGb,EAAUQ,EAAOK,KAAOL,EAAOiB,eAEpCzB,EAASa,EAAGb,EAAUQ,EAAOK,MAsBtCyC,SAlBe,SACftD,EACAQ,GAEA,IAAM+C,EAAWvD,EAASa,EAAGb,EAAUQ,EAAO6B,YAAYI,MAEtDjC,EAAOgD,QACTD,EAASE,KAAK,CACZd,QAASnC,EAAOgD,QAAQb,SAAW,GACnCe,KAAMlD,EAAOgD,QAAQE,MAAQ,OAC7B7C,GAAIL,EAAOK,KAGb0C,EAASV,OAAOhC,EAAG0C,EAAU/C,EAAOK,IAAK,IAM3C8C,aAAc,SAAC3D,EAAUQ,GACvB,OAAOA,EAAOR,WAIL4D,EAAkB3D,EAC7BpB,EAAamB,SAD6B2B,OAAAqB,EAAA,EAAArB,CAAA,GAGrCyB,EACAjB,IC6DM0B,EAAkB5D,EAC7BpB,EAAaE,SACb,CACEqD,KA/FS,SAAC0B,EAAgBtD,GACxBsD,EAAI1E,YAAc,IAAM0E,EAAI9E,OAE9B8E,EAAI1E,aAAe,GAEnB0E,EAAI9E,QAAS,EACb8E,EAAI7E,SAAW6E,EAAI7E,QACnB6E,EAAI1E,YAAe0E,EAAI7E,QAA4B6E,EAAIzE,aAAtByE,EAAIxE,cAyFrCyE,aAtFiB,SACnBD,EACAtD,GAEAsD,EAAI9E,QAAU8E,EAAI9E,QAmFhBgF,mBA3BuB,SACzBF,EACAtD,GAEA,IAAMyD,EAAiC,SAAzBzD,EAAO0D,cAA2B,cAAgB,eAE1DC,EACa,qBAAhB3D,EAAOI,MAA+BkD,EAAI7E,SAC1B,sBAAhBuB,EAAOI,OAAiCkD,EAAI7E,QAEzC8C,EAAS+B,EAAIG,GAA0B,GAAjBzD,EAAO4D,QAEnC,GAAIrC,GAAU,EAAG,CACf,IAAMsC,EAAaF,EACfL,EAAI1E,YAA+B,GAAjBoB,EAAO4D,QACzBN,EAAI1E,YAER0E,EAAI1E,YAAciF,EAClBP,EAAIG,GAASlC,IAUbuC,eAjFmB,SACrBvF,EACAyB,GAFqB,OAGlB3B,EAAaE,UA+EdwF,qBA7EyB,SAC3BT,EACAtD,GAEAsD,EAAI5E,eAAgB,EAEhBsB,EAAOsB,SAAWgC,EAAI3E,eACxB2E,EAAI3E,eAAiB,KAErB2E,EAAI3E,eAAiBqB,EAAOsB,QAqE5B0C,sBAjE0B,SAC5BV,EACAtD,GAEAsD,EAAI5E,eAAiB4E,EAAI5E,eA8DvBuF,aA3DiB,SACnBX,EACAtD,GAEAsD,EAAI1E,YAAc,GAwDhBsF,eArDmB,SAACZ,EAAgBtD,GACtCsD,EAAIvE,UAAUE,MAAQ,EACtBqE,EAAIvE,UAAUG,QAAUiF,KAAKC,IAAId,EAAIvE,UAAUE,KAAMqE,EAAIvE,UAAUG,UAoDjEmF,iBAjDqB,SACvBf,EACAtD,GAEAsD,EAAIvE,UAAUP,QAAU8E,EAAIvE,UAAUP,QA8CpC8F,gBA3CoB,SACtBhB,EACAtD,GAGAsD,EAAIvE,UAAUE,KAAO,EACrBqE,EAAIvE,UAAUP,QAAS,KClEZ+F,EAAc9E,EACzBpB,EAAaC,KAPiC,CAC9CkG,SARe,SAAClG,EAAiB0B,GACjC,OAAOA,EAAO1B,MAQdmG,MANY,SAACnG,EAAiB0B,GAC9B,OAAOA,EAAO1B,QCaHoG,EAAkBjF,EAC7BpB,EAAac,SAZ4C,CACzDwF,cAAe,SAAC/E,EAAOI,GACrBJ,EAAMR,MAAO,EACbQ,EAAMP,QAAUW,EAAOX,QACvBO,EAAMN,QAAUU,EAAOV,SAEzBsF,eAAgB,SAAChF,EAAOI,GACtBJ,EAAMR,MAAO,KAcXyF,EAAiBpF,GAAuB,EALC,CAC7CqF,cAAe,SAAClF,EAAOI,GAAR,OAAkC,GACjD+E,aAAc,SAACnF,EAAOI,GAAR,OAAiC,KAKpCgF,EAAoCC,0BAAgB,CAC/D1F,UAAWsF,EACX1F,SAAUuF,EACVlF,SAAU4D,EACV7E,SAAU8E,EACV/E,KAAMiG,sBC7BFW,EAAmBC,8BAAoB,CAC3CC,eAH4B,GAI5BC,OAAO,EACPC,WAAY,MAGDC,EAAgCC,sBAC3CR,EACA3G,EACA6G,EAAiBO,0BAAgBC,MAAaC,+FCpBnCC,EAAe,iBAAO,CAAExF,KAAM,iBCA9ByF,EAAe,SAACC,EAAWC,GACtC,IAAIxE,EAAS,GAEPyE,EAAO7B,KAAK8B,MAAMH,EAAI,OAM5B,GALAA,GAAY,MAAPE,EACDA,IACFzE,GAAM,GAAAL,OAAO8E,EAAP,QAAA9E,OAA2B,IAAT8E,EAAa,KAAO,MAG1CD,EAAS,CACX,IAAMG,EAAQ/B,KAAK8B,MAAMH,EAAI,MAC7BA,GAAa,KAARI,EACDA,EAAQ,IACV3E,GAAM,GAAAL,OAAOgF,EAAP,SAAAhF,OAA8B,IAAVgF,EAAc,KAAO,MAEjD,IAAMtC,EAAUO,KAAK8B,MAAMH,EAAI,IAC/BA,GAAe,GAAVlC,EACDA,EAAU,IACZrC,GAAM,GAAAL,OAAO0C,EAAP,WAAA1C,OAAoC,IAAZ0C,EAAgB,KAAO,MAEnDsC,EAAQ,GAAKJ,EAAI,IACnBvE,GAAM,GAAAL,OAAO4E,EAAP,WAAA5E,OAAwB,IAAN4E,EAAU,IAAM,SAErC,CACL,IAAMK,EAAe,IAAIC,KAAK,MAC9BD,EAAaE,WAAWP,GAGG,QAD3BvE,GAAU4E,EAAaG,cAAc7C,MAAM,GAAI,KACpCA,MAAM,EAAG,GAClBlC,EAASA,EAAOkC,MAAM,GACU,MAAvBlC,EAAOkC,MAAM,EAAG,KACzBlC,EAASA,EAAOkC,MAAM,IAG1B,OAAOlC,kDCoCH6D,GAAiB,CACrBmB,WFrEwB,SAACC,GAAD,MAGnB,CACLpG,KAAM,qBACNsD,cAAe8C,EAAKpG,KACpBwD,QAAS4C,EAAKC,aEkEHC,GAAWC,YATP,SAAC/G,GAAD,MAAoB,CACnCgH,SAAUhH,EAAMrB,SAASO,YACzB+H,UAAWjH,EAAMrB,SAASM,eAS1BuG,GAFsBuB,CAhEN,SAACG,GAAkB,IAC3BF,EAAwBE,EAAxBF,SAAUC,EAAcC,EAAdD,UAElB,OACEE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEC,UAAW,SAAUC,SAAU,GAAIC,OAAQ,KAAzD,eACezB,EAAagB,IAE5BE,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,SACrBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAAS,kBAAMX,EAAMP,WAAW,CAAEnG,KAAM,QAASqG,UAAW,KAC5DiB,MAAM,YACNP,MAAO,CAAEQ,MAAO,OAAQC,WAAY,EAAGC,YAAa,IAEpDd,EAAAC,EAAAC,cAACa,GAAA,EAAD,OAEFf,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAAS,kBAAMX,EAAMP,WAAW,CAAEnG,KAAM,QAASqG,WAAY,KAC7DiB,MAAM,UACNK,WAAS,EACTZ,MAAO,CAAEQ,MAAO,OAAQC,WAAY,EAAGC,YAAa,IAEpDd,EAAAC,EAAAC,cAACe,GAAA,EAAD,QAGJjB,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLC,UAAW,SACXC,SAAU,GACVC,OAAQ,KAJZ,cAOczB,EAAae,IAE3BG,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,SACrBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAAS,kBAAMX,EAAMP,WAAW,CAAEnG,KAAM,OAAQqG,UAAW,KAC3DiB,MAAM,YACNP,MAAO,CAAEQ,MAAO,OAAQC,WAAY,EAAGC,YAAa,IAEpDd,EAAAC,EAAAC,cAACa,GAAA,EAAD,OAEFf,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAAS,kBAAMX,EAAMP,WAAW,CAAEnG,KAAM,OAAQqG,WAAY,KAC5DiB,MAAM,UACNK,WAAS,EACTZ,MAAO,CAAEQ,MAAO,OAAQC,WAAY,EAAGC,YAAa,IAEpDd,EAAAC,EAAAC,cAACe,GAAA,EAAD,qBCgCJ5C,GAAiB,CACrB6C,MH1E4B,iBAAO,CAAE7H,KAAM,mBG2E3C8H,oBHpEkC,iBAAO,CACzC9H,KAAM,0BGoEN+H,WHjEyB,iBAAO,CAChC/H,KAAM,kBGmEKgI,GAAUzB,YAXN,SAAC/G,GAAD,MAAoB,CACnCrB,SAAUqB,EAAMrB,SAChBwC,MAAOD,EAAYlB,EAAMJ,YAWzB4F,GAFqBuB,CA9EN,SAACG,GAAkB,IAC1BvI,EAAuBuI,EAAvBvI,SAAU8J,EAAavB,EAAbuB,SACZC,EAAU,GAAApH,OAAM3C,EAASC,OAAS,QAAU,OAAlC,KAAA0C,OACd3C,EAASE,QAAU,OAAS,SAE9B,OACEsI,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,KACpBP,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLO,MAAOnJ,EAASE,QAAU,MAAQ,QAClC2I,UAAW,SACXC,SAAU,KAGXgB,GAEHtB,EAAAC,EAAAC,cAACsB,GAAA,EAAD,CACEpB,MAAO,CACLqB,UAAW,GACXC,aAAc,GACdC,UAAW,EACXC,gBAAiB,QACjBC,QAAS,KAGX7B,EAAAC,EAAAC,cAAA,KAAGE,MAAO,CAAEI,QAAS,SAAUF,SAAU,KACtC9I,EAASG,cACN,oBACAH,EAASI,eACTmI,EAAM/F,MAAMV,EAAGyG,EAAM/F,MAAOxC,EAASI,iBAAkBuE,KACvD,eAIN6D,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEE,MAAM,YACNP,MAAO,CAAE0B,MAAO,QAASjB,WAAY,GACrCH,QAAS,kBAAMX,EAAMoB,wBAEpB3J,EAASG,cACN,SACA,WAAaH,EAASI,eAAiB,MAAQ,KAErDoI,EAAAC,EAAAC,cAAA,UACG1I,EAASI,gBAAmBJ,EAASG,cAClC,MAIRqI,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,SACrBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEC,QAASX,EAAMgC,cACfpB,MAAM,UACNK,WAAS,EACTzI,QAAQ,YAEPgJ,GAEHvB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEQ,MAAO,KACrBZ,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAASX,EAAMmB,MAAOP,MAAM,YAAYK,WAAS,GAAzD,sBC3EKgB,GAAgC,CAC3CxB,QAAS,OACTyB,WAAY,SACZC,eAAgB,SAChB7B,UAAW,8BCUT8B,GAA2BC,YAAY,kBAAM,MAAMC,KAqEjDhE,GAAiB,CACrBiE,cLtD4B,iBAAO,CACnCjJ,KAAM,mBKsDNkJ,gBLnD8B,iBAAO,CACrClJ,KAAM,qBKmDN6H,MLhD6B,iBAAO,CACpC7H,KAAM,qBKkDKmJ,GAAY5C,YAVR,SAAC/G,GAAD,MAAoB,CACnCb,UAAWa,EAAMrB,SAASQ,YAW1BqG,GAFuBuB,CAzEN,SAACG,GAClB0C,oBAAU,WACRC,cAAcP,IAEdA,GAAWC,YAAY,WAChBrC,EAAM/H,UAAUP,QACnBsI,EAAMuC,iBAEP,OAR+B,IAW5BtK,EAAqB+H,EAArB/H,UAAWkJ,EAAUnB,EAAVmB,MACnB,OACElB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,KACpBP,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLC,UAAW,SACXC,SAAU,GACVoB,aAAc,GACdf,MAAO3I,EAAUE,MAAQF,EAAUG,QAAU,UAAY,UAG1D2G,EAAa9G,EAAUE,OAE1B8H,EAAAC,EAAAC,cAACyC,GAAA,WAAD,CACEC,MAAO5K,EAAUE,KAAOF,EAAUG,QAClC0K,KAAM,CAAEC,QAAS,GACjBC,MAAO,CAAED,QAAS,GAClBE,MAAO,CAAEF,QAAS,IAEjB,SAAAG,GACC,IAAM7C,EAAuB,CAC3BE,SAAU,GACVK,MAAO,OACPe,aAAc,IAEhB,OACEuB,GACC,SAAAC,GAAgB,OACflD,EAAAC,EAAAC,cAAA,OAAKE,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,GAAOgG,EAAU8C,EAAqBlB,KAAhD,SACSlD,EAAa9G,EAAUG,aAMxC6H,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQ0B,eAAgB,aAC7ClC,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAAS,kBAAMQ,KAASd,MAAO,CAAEU,YAAa,IAAtD,SAGAd,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAASX,EAAMwC,gBAAiB5B,MAAM,aAC3C3I,EAAUP,OACTuI,EAAAC,EAAAC,cAACiD,GAAA,EAAD,CAAW/C,MAAO,CAAEU,YAAa,KAEjCd,EAAAC,EAAAC,cAACkD,GAAA,EAAD,CAAOhD,MAAO,CAAEU,YAAa,KAE9B9I,EAAUP,OAAS,QAAU,YCtBpC0K,GAA2BC,YAAY,kBAAM,MAAMC,KA6EjDhE,GAAiB,CACrBgF,YAAaxE,EACbyE,KNxHmB,SAAC7D,GAAD,MAAoD,CACvEpG,KAAM,OACNkB,OAAQkF,EAAKlF,OACbO,UAAW2E,EAAK3E,aMwHLyI,GAAW3D,YAXP,SAAC/G,GAAD,MAAoB,CACnCrB,SAAUqB,EAAMrB,SAChBiB,SAAUI,EAAMJ,SAChBuB,MAAOD,EAAYlB,EAAMJ,YAUzB4F,GAFsBuB,CAGtB4D,YAlHa,SAACC,GAAD,OACbC,YAAa,CACXC,KAAM,CACJC,SAAU,QACVC,OAAQJ,EAAMK,QAAQ,GACtBC,QAAS,OACTC,KAAMP,EAAMK,QAAQ,GACpBG,SAAU,IACVC,SAAU,IACVC,OAAQ,KACRvC,gBAAiB,WAEnBwC,YAAa,CACXR,SAAU,WACVS,MAAOZ,EAAMK,QAAQ,GACrBQ,IAAKb,EAAMK,QAAQ,GACnBnD,MAAO8C,EAAMc,QAAQC,KAAK,SAkG9BhB,CAnFgB,SAACzD,GAAkB,IAAA0E,EACbC,mBAAS,GADIC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAC5BI,EAD4BF,EAAA,GACvBG,EADuBH,EAAA,GAG7BnN,EAAWuI,EAAMvI,SAEvBuN,IAAMtC,UAAU,WACdC,cAAcP,IAEdA,GAAWC,YAAY,WAChB5K,EAASC,SACRD,EAASI,gBAAkBJ,EAASE,QACtCqI,EAAMuD,KAAK,CACT/I,OAAQ/C,EAASI,eACjBkD,UAAWR,EACTyF,EAAMtH,SACNjB,EAASI,kBAIbmI,EAAMuD,KAAK,KAMf0B,SAASC,MAAQzN,EAASC,OACtB,WADa,GAAA0C,OAEV3C,EAASE,QAAU,QAAU,SAFnB,KAAAyC,OAE+B2E,EAC1CtH,EAASK,YAAc,KAE5B,OAGL,IAAMkK,EAAgB,WACpBhC,EAAMsD,eAGAhL,EAA6B0H,EAA7B1H,KAAM6M,EAAuBnF,EAAvBmF,QAASC,EAAcpF,EAAdoF,UACjBjN,EAAO4G,EAAatH,EAASK,aAInC,OCxFkB,SAClBL,EACA2N,EACApD,GAEA,GAA6B,IAAzBvK,EAASK,YAAmB,CAC9B,IAAMuN,EAAgB,SAAAjL,OAAY3C,EAASE,QAAU,QAAU,WACzDuN,EAAK,GAAA9K,OAAM3C,EAASE,QAAU,OAAS,QAAlC,cACL2N,EAAO7N,EAASE,QAZxB,4EAEA,2NAWQ4N,EAAO9N,EAASE,QAAU,UAAY,UAC5C6N,IAAO,CACLN,QACAI,OACAC,OAEAE,QAAS,CACPC,KAAM,CAAEJ,KAAM,gBAAiBK,MAAO,QACtCC,OAAQ,CACNN,KAAMD,EACNM,MAAO,aAIVE,KAAK,SAACF,GACP,OAAQA,GACN,IAAK,OACHP,GAAU,GACV,MACF,IAAK,SACHpD,QDyDR8D,CAAKrO,EAAU2N,EAAW,kBAAMpD,MAG9B/B,EAAAC,EAAAC,cAAA,WACG7H,GACC2H,EAAAC,EAAAC,cAAC4F,EAAA,EAAD,CAAMC,UAAWb,EAAQvB,MACvB3D,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,iBACAhG,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEF,UAAWb,EAAQd,YACnB1D,QAAS,kBAAMyE,GAAU,KAEzBnF,EAAAC,EAAAC,cAACgG,EAAA,EAAD,OAEO,IAARrB,GACC7E,EAAAC,EAAAC,cAACmB,GAAD,CAASU,cAAe,kBAAMA,KAAiBT,SAAUpJ,IAElD,IAAR2M,GAAa7E,EAAAC,EAAAC,cAACP,GAAD,MACL,IAARkF,GAAa7E,EAAAC,EAAAC,cAACsC,GAAD,MACdxC,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CAAMT,MAAOb,EAAKuB,SAAU,SAACC,EAAGC,GAAJ,OAAkBxB,EAAOwB,KACnDtG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAKC,MAAM,UACXxG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAKjB,KAAMtF,EAAAC,EAAAC,cAACuG,EAAA,EAAD,QACXzG,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CAAKC,MAAM,yFEjHVE,GAAa,SAACjD,GAAD,OACxBC,YAAa,CACXiD,OAAOvM,OAAAwM,GAAA,EAAAxM,CAAA,CACLwG,MAAO,QACN6C,EAAMoD,YAAYC,GAAG,KAAO,CAC3BlG,MAAO,IACPC,WAAY,OACZC,YAAa,SAGjBiG,MAAO,CACLpF,UAAW,EACXnB,QAAS,OACTwG,cAAe,SACf/E,WAAY,SACZJ,QAAO,GAAA1H,OAAKsJ,EAAMK,QAAQ,EAAG,EAAG,KAElCmD,OAAQ,CACN1G,OAAQkD,EAAMK,QAAQ,GACtBlD,MAAO,GACPsG,OAAQ,GACRtF,gBAAiB6B,EAAMc,QAAQ4C,UAAUC,MAE3CC,OAAQ,CACN1F,UAAW8B,EAAMK,QAAQ,OCXlBwD,GAAgB,SAC3BhP,EACAC,GAF2B,MAGR,CACnBc,KAAM,gBACNf,UACAC,qDCdWgP,GAAc,SAAC9H,GAAD,MAGpB,CACLpG,KAAM,cACNC,GAAImG,EAAKnG,GACTY,QAASuF,EAAK+H,UAGHC,GAAgB,SAAChI,GAAD,MAA8C,CACzEpG,KAAM,gBACNC,GAAImG,EAAKnG,GACTwB,UAAW2E,EAAK3E,YCTL4M,GAAU,eAAAC,EAAAvN,OAAAwN,EAAA,EAAAxN,CAAAyN,EAAA5H,EAAA6H,KAAG,SAAAC,EACxBC,EACAC,GAFwB,IAAAC,EAAAC,EAAA,OAAAN,EAAA5H,EAAAmI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EAIAC,KAAMC,KAAN,WAEtB,CACEC,MAAOV,EACPC,aAEF,CAAEU,iBAAiB,IAVG,cAIlBT,EAJkBG,EAAAO,KAAAP,EAAAE,KAAA,EAaLL,EAAUC,KAbL,cAalBA,EAbkBE,EAAAO,KAAAP,EAAAQ,OAAA,SAejBV,EAAKA,MAfY,wBAAAE,EAAA5C,SAAAsC,MAAH,gBAAAe,EAAAC,GAAA,OAAApB,EAAAqB,MAAAC,KAAAnQ,YAAA,GAkBVoQ,GAAsB,SAAC3R,GAClC,OAAO,SAAC4R,EAAsBC,GACxB7R,GAAQA,EAAKkB,UACf0Q,ED7BiD,CACrD9P,KAAM,eACNZ,SC2B0BlB,EAAKkB,aCzBpB4Q,GAAgB,SAAC9R,GAAD,MAA0C,CACrE+R,SAAU/R,EAAK+R,SACfC,WAAYhS,EAAKgS,YAAc,GAC/BC,UAAWjS,EAAKkB,SAASwB,IAAI,SAAAS,GAAI,MACf,kBAATA,EAAoBA,EAAQA,EAAKpB,KAE1CA,GAAI/B,EAAK+B,GACTmQ,MAAOlS,EAAKkS,QAmBDC,GAAS,SAACnS,GACrB,OAAO,SAAC4R,EAAsBC,GACxB7R,GAGF4R,EAAS,CAAE9P,KAAM,QAAS9B,KAFT8R,GAAc9R,KAG/B4R,EAAS7B,GAAc,yBAA0B,YAEjD6B,EAASD,GAAoB3R,KAE7B4R,EAAS7B,GAAc,kBAAmB,6xCCtCzC,IAAMqC,GAAaC,KAAHC,MAuCVC,IAVgBF,KAAHG,MAUAH,KAAHI,OAQVC,GAAgBL,KAAHM,KACtBP,GACAG,IAoBSK,GAAaP,KAAHQ,KACnBH,q2BCvEG,IAAMI,GAAYT,KAAHU,KAClBH,IASSI,GAAeX,KAAHY,KACrBL,IAUSM,GAAwBb,KAAHc,KAC9BP,IAUSQ,GAAaf,KAAHgB,MCwMjBvM,GAAiB,CACrBwM,aAAcvD,GACdwD,SH7NuB,SAACvT,GACxB,OAAO,SAAC4R,EAAsBC,GAC5B,GAAI7R,EAAM,CACR,IAAMwT,EAAW1B,GAAc9R,GAE/B4R,EAAS7B,GAAc,mCAAoC,YAE3D6B,EAAS,CAAE9P,KAAM,WAAY9B,KAAMwT,IAEnC5B,EAASD,GAAoB3R,SAE7B4R,EAAS7B,GAAc,qBAAsB,YGmNjD0D,MAAOtB,IAGIuB,GAAazH,YAAWkD,GAAXlD,CACxB5D,YACE,KACAvB,GAFFuB,CAhNW,SAAA+H,GAAkE,IAA/DuD,EAA+DvD,EAA/DuD,SAAUL,EAAqDlD,EAArDkD,aAAc3F,EAAuCyC,EAAvCzC,QAAS4F,EAA8BnD,EAA9BmD,SAAUE,EAAoBrD,EAApBqD,MAAoBvG,EACnDC,mBAAS,IAD0CC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GACtEgF,EADsE9E,EAAA,GAC/DwG,EAD+DxG,EAAA,GAAAyG,EAE7C1G,mBAAS,IAFoC2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAEtEE,EAFsED,EAAA,GAE5DE,EAF4DF,EAAA,GAAAG,EAGvC9G,mBAAS,IAH8B+G,EAAArR,OAAAwK,EAAA,EAAAxK,CAAAoR,EAAA,GAGtEE,EAHsED,EAAA,GAGzDE,EAHyDF,EAAA,GAAAG,EAI7ClH,mBAAS,IAJoCmH,EAAAzR,OAAAwK,EAAA,EAAAxK,CAAAwR,EAAA,GAItEtC,EAJsEuC,EAAA,GAI5DC,EAJ4DD,EAAA,GAM7E,OACE7L,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,KACpBP,EAAAC,EAAAC,cAAC6L,GAAA9L,EAAD,KACED,EAAAC,EAAAC,cAAA,SAAO7G,KAAK,YAAZ,wCACA2G,EAAAC,EAAAC,cAAA,QACE8L,QAAQ,iDACR7P,KAAM,iBAGV6D,EAAAC,EAAAC,cAAA,QAAM6F,UAAWb,EAAQyB,QACvB3G,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,CACEC,YAAa,SAAC/D,GACZ,GAAiB,aAAb+C,EAAyB,CAC3B,IAAMiB,EAAiChE,EAEpB,OAAjBgE,GAC0B,OAA1BA,EAAarB,UACbqB,EAAarB,SAASvT,MAEtBuT,EAASqB,EAAarB,SAASvT,MAC/B6U,OAAOC,SAASC,KAAO,eAEvBzB,EACE,8CACA,aAGkB,UAAbK,IACL/C,GAAQA,EAAK6C,OAAS7C,EAAK6C,MAAMzT,MACnCyT,EAAM7C,EAAK6C,MAAMzT,MACjB6U,OAAOC,SAASC,KAAO,eAEvBzB,EAAa,2BAA4B,WAI/C0B,QAAS,SAACC,GACR3B,EAAa,0BAA2B,UAE1C4B,SAAuB,aAAbvB,EAA0BX,GAAeF,IAElD,SACCqC,EAKAlS,GAEA,OACEwF,EAAAC,EAAAC,cAAA,QACEyM,aAAa,KACbC,SAAU,SAAAvG,GACRA,EAAEwG,iBAEAH,EADe,aAAbxB,EACG,CAAEjD,UAAW,CAAEqB,WAAUgC,WAAU7B,UAEnC,CAAExB,UAAW,CAAEwB,QAAO6B,gBAI/BtL,EAAAC,EAAAC,cAACsB,GAAA,EAAD,CAAOuE,UAAWb,EAAQ6B,OACxB/G,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CAAQ/G,UAAWb,EAAQ+B,QACzBjH,EAAAC,EAAAC,cAAC6M,GAAA,EAAD,OAEF/M,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAY5M,MAAO,CAAEE,SAAU,KAAO4K,GACxB,aAAbA,GACClL,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEwM,UAAWC,IACXC,GAAG,SACH5U,QAAQ,WACR6H,MAAO,CAAEuB,UAAW,KAJtB,iBAUY,aAAbuJ,GACClL,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACE7M,OAAO,QACPS,WAAS,EACTqM,UAAQ,EACRV,aAAa,MACbvG,SAAU,SAAAC,GAAC,OAAIyF,EAAYzF,EAAEiH,OAAO5H,QACpCA,MAAO4D,EACP9C,MAAM,cAGVxG,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACE7M,OAAO,QACPS,WAAS,EACT7E,KAAK,QACLkR,UAAQ,EACRV,aAAa,KACbjH,MAAO+D,EACPrD,SAAU,SAAAC,GACR8E,EAAS9E,EAAEiH,OAAO5H,QAEpBc,MAAM,QACNnN,KAAK,UAGP2G,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACE7M,OAAO,QACPS,WAAS,EACTqM,UAAQ,EACRV,aAAa,KACbnG,MAAM,WACNrK,KAAK,WACL9C,KAAK,WACLC,GAAG,WACHoM,MAAO4F,EACPlF,SAAU,SAAAC,GAAC,OAAIkF,EAAYlF,EAAEiH,OAAO5H,UAGxB,aAAbwF,GACClL,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACE/T,KAAK,WACLkH,OAAO,QACPS,WAAS,EACTqM,UAAQ,EACRV,aAAa,MACbnG,MAAM,mBACNgG,MAAOd,IAAgBJ,EACvB5F,MAAOgG,EACPtF,SAAU,SAAAC,GAAC,OAAIsF,EAAetF,EAAEiH,OAAO5H,UAI3C1F,EAAAC,EAAAC,cAACqN,GAAA,EAAD,CACEC,WAAS,EACTC,QAAQ,SACRrN,MAAO,CAAEuB,UAAW,SAEnBnH,EAAOkT,SACN1N,EAAAC,EAAAC,cAACyN,GAAA,EAAD,CAAkBvN,MAAO,CAAEG,OAAQ,cAGrCP,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,YACRoI,MAAM,YACNK,WAAS,EACT4M,SACe,aAAb1C,IACwB,KAApBI,EAASuC,QAAiBvC,IAAaI,GAG7CrS,KAAK,SACL+G,MAAO,CACLuB,UAAW,KAGZuJ,IAGLlL,EAAAC,EAAAC,cAACqN,GAAA,EAAD,CACEC,WAAS,EACTpN,MAAO,CAAEuB,UAAW,IACpBmM,aAAa,iBAEb9N,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,KACEjG,EAAAC,EAAAC,cAAA,OACE6N,IAAI,6FACJ3N,MAAO,CAAE8G,OAAQ,GAAItG,MAAO,OAGhCZ,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAY7F,MAAO,CAAES,WAAY,IAC/Bb,EAAAC,EAAAC,cAAA,OACE6N,IAAI,sGACJ3N,MAAO,CAAE8G,OAAQ,GAAItG,MAAO,OAGhCZ,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAY7F,MAAO,CAAES,WAAY,IAC/Bb,EAAAC,EAAAC,cAAA,OACE6N,IAAI,iFACJ3N,MAAO,CAAE8G,OAAQ,GAAItG,MAAO,OAGhCZ,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAY7F,MAAO,CAAES,WAAY,IAC/Bb,EAAAC,EAAAC,cAAA,OACE6N,IAAI,4EACJ3N,MAAO,CAAE8G,OAAQ,GAAItG,MAAO,ynBCzN7C,IAAMoN,GAAqBpE,KAAHqE,KAC3BhE,IASSiE,GAAqBtE,KAAHuE,MAQlBC,GAAmBxE,KAAHyE,KACzBpE,ICwFE5L,GAAiB,CACrBwM,aAAcvD,GACdgH,WAAY/G,IAGDgH,GAAgB3O,YARZ,SAAC/G,GAAD,MAAoB,CACnCtB,KAAMsB,EAAMtB,OASZ8G,GAF2BuB,CAG3B4D,YAAWkD,GAAXlD,CAzFqB,SAACzD,GAA8B,IAAA0E,EAC5BC,mBAAS,IADmBC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAC7CtI,EAD6CwI,EAAA,GACvC6J,EADuC7J,EAAA,GAAA8J,EAGXC,aAGvCV,GAAoB,CACpB9B,YAAa,SAAAvE,GAAuB,IAApBgH,EAAoBhH,EAApBgH,cACVA,GAAiBA,EAAcrV,IACjCyG,EAAMuO,WAAW,CACfhV,GAAIqV,EAAcrV,GAClBkO,QAASmH,IAGXvC,OAAOC,SAASC,KAAO,aAAeqC,EAAerV,GACrDyG,EAAM8K,aAAa,+BAAgC,YAEnD9K,EAAM8K,aAAa,+BAAgC,YAGvD0B,QAAS,SAACC,GACRzM,EAAM8K,aAAa,8BAA+B,YArBF+D,EAAAxU,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,GAG7CI,EAH6CD,EAAA,GAGxBlB,EAHwBkB,EAAA,GAGxBlB,QAsBpBxI,EAAYnF,EAAZmF,QAER,OACE4J,EAAA,cAAAA,EAAA,cACEA,EAAA,sBAAM1O,MAAO,CAAEG,OAAQ,QAAUwF,UAAWb,EAAQyB,QAClDmI,EAAA,sBACElC,SAAU,SAAAvG,GACRA,EAAEwG,iBAEE9M,EAAMxI,KACRsX,EAAkB,CAChB5G,UAAW,CACT9L,KAAMA,GAAQ,qBAIlB4D,EAAM8K,aAAa,oCAAqC,aAI5DiE,EAAA,qBAAK/I,UAAWb,EAAQ6B,OACtB+H,EAAA,cAAChC,GAAA,EAAD,CAAQ/G,UAAWb,EAAQ+B,QACzB6H,EAAA,cAACC,GAAA,EAAD,OAEFD,EAAA,cAAC9B,GAAA,EAAD,CAAY5M,MAAO,CAAEE,SAAU,KAA/B,kBACCoN,GAAWoB,EAAA,cAACnB,GAAA,EAAD,CAAkBvN,MAAO,CAAEG,OAAQ,cAC/CuO,EAAA,qBAAK1O,MAAO,CAAEI,QAAS,OAAQI,MAAO,SACpCkO,EAAA,cAAC1B,GAAA,EAAD,CACE4B,WAAS,EACTxI,MAAM,eACNd,MAAOvJ,EACP6E,WAAS,EACToF,SAAU,SAACC,GAAD,OAAemI,EAAQnI,EAAEiH,OAAO5H,QAC1C2H,UAAQ,IAEVyB,EAAA,qBAAK1O,MAAO,CAAES,WAAY,GAAIc,UAAW,SACvCmN,EAAA,cAACrO,EAAA,EAAD,CACEL,MAAO,CAAEuB,UAAW,QACpBpJ,QAAQ,YACRoI,MAAM,YACNtH,KAAK,UAJP,mBC9EH4V,WAAUrP,YANN,SAAC/G,GAAD,MAAoB,CACnCtB,KAAMsB,EAAMtB,OAKSqI,CAAkB,SAACG,GAAD,OACvCC,EAAAC,EAAAC,cAAA,OAAK6F,UAAU,OACb/F,EAAAC,EAAAC,cAAA,WAAS6F,UAAU,mBACjB/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,QACd/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,sBAAhB,MAEF/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,QACd/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,sBAAhB,MAEF/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,QACd/F,EAAAC,EAAAC,cAAA,QAAM6F,UAAU,sBAAhB,MAEF/F,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAES,WAAY,OAAQC,YAAa,SAC7Cd,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEE,MAAM,YACNP,MAAO,CAAEQ,MAAO,KAChBuM,GAAIpN,EAAMxI,KAAO,aAAe,IAChC0V,UAAWC,IACX3U,QAAQ,aALV,wGCfF2W,GAA0B,CAAC,UAAW,WAAY,SAAU,cAE5DC,GAAW,CAEf,CAAC,WAAY,QAAS,QAAS,SAC/B,CAAC,QAAS,WAAY,UAAW,MACjC,CAAC,oBAAqB,QAAS,QAAS,SACxC,CAAC,YAAa,QAAS,QAAS,SAChC,CAAC,kBAAmB,QAAS,QAAS,SACtC,CAAC,mBAAoB,QAAS,QAAS,MACvC,CAAC,kBAAmB,MAAO,QAAS,SACpC,CAAC,gBAAiB,KAAM,MAAO,SAC/B,CAAC,WAAY,QAAS,KAAM,SAC5B,CAAC,QAAS,KAAM,KAAM,SACtB,CAAC,iBAAkB,QAAS,KAAM,OAG9BC,GAAS,CACbrI,MAAO,CACL9C,SAAU,IACV1D,OAAQ,SACRM,WAAY,OACZC,YAAa,OACbe,QAAS,GACTwN,cAAe,KAINC,GAAe,kBAC1BtP,EAAAC,EAAAC,cAACsB,GAAA,EAAD,CAAOpB,MAAOgP,GAAOrI,OACnB/G,EAAAC,EAAAC,cAACqP,GAAA,EAAD,KACEvP,EAAAC,EAAAC,cAACsP,GAAA,EAAD,KACExP,EAAAC,EAAAC,cAACuP,GAAA,EAAD,KACGP,GAAcjV,IAAI,SAACyV,EAAKC,GAAN,OACjB3P,EAAAC,EAAAC,cAAC0P,GAAA,EAAD,CAAWC,IAAKF,GAAID,OAI1B1P,EAAAC,EAAAC,cAAC4P,GAAA,EAAD,KACGX,GAASlV,IAAI,SAAC8V,EAASJ,GAAV,OACZ3P,EAAAC,EAAAC,cAACuP,GAAA,EAAD,CAAUI,IAAKF,GACZI,EAAQ9V,IAAI,SAACyV,EAAKrJ,GAAN,OACXrG,EAAAC,EAAAC,cAAC0P,GAAA,EAAD,CAAWC,IAAKxJ,GACL,UAARqJ,EACC1P,EAAAC,EAAAC,cAAC8P,GAAA,EAAD,CAAO5P,MAAO,CAAEO,MAAO,aACb,OAAR+O,EACF1P,EAAAC,EAAAC,cAACgG,EAAA,EAAD,CAAO9F,MAAO,CAAEO,MAAO,aACb,QAAR+O,EACF1P,EAAAC,EAAAC,cAAC+P,GAAA,EAAD,CAAS7P,MAAO,CAAEO,MAAO,YACf,QAAR+O,EACF,UAEAA,sBC5DZQ,GAAiB,CACrB,CACE/T,KAAM,WACNgU,YACE,2EACF7K,KAAM,cAER,CACEnJ,KAAM,gBACNgU,YACE,iFACF7K,KAAM,QAER,CACEnJ,KAAM,gBACNgU,YAAa,gDACb7K,KAAM,SAER,CACEnJ,KAAM,iBACNgU,YAAa,+CACb7K,KAAM,YAER,CACEnJ,KAAM,UACNgU,YACE,kEACF7K,KAAM,aAER,CACEnJ,KAAM,WACNgU,YACE,gEACF7K,KAAM,kBAER,CACEnJ,KAAM,aACNgU,YAAa,yCACb7K,KAAM,aAER,CACEnJ,KAAM,iBACNmJ,KAAM,aACN6K,YAAa,uDAEf,CACEhU,KAAM,kBACNmJ,KAAM,SACN6K,YAAa,iEAIJC,GAAiB,WAC5B,OACEpQ,EAAAC,EAAAC,cAACsB,GAAA,EAAD,CAAOpB,MAAO,CAAEyB,QAAS,GAAIoC,SAAU,IAAM1D,OAAQ,cACnDP,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACTwG,cAAe,MACfqJ,SAAU,SAGXH,GAAejW,IAAI,SAACqW,EAAeX,GAAhB,OAClB3P,EAAAC,EAAAC,cAAA,OAAK2P,IAAKF,EAAGvP,MAAO,CAAEmQ,KAAM,EAAG/P,QAAS,SACtCR,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLG,OAAQ,EACR2D,SAAU,IACVqM,KAAM,EACNC,aAAc,EACd3O,QAAS,EACTmF,cAAe,SACf/E,WAAY,QACZC,eAAgB,UAGlBlC,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACL4G,cAAe,MACfxG,QAAS,OACTyB,WAAY,WAGdjC,EAAAC,EAAAC,cAACuQ,GAAA,EAAD,CACErQ,MAAO,CAAEE,SAAU,GAAIQ,YAAa,EAAGH,MAAO,YAE7C2P,EAAchL,MAEjBtF,EAAAC,EAAAC,cAAA,KAAGE,MAAO,CAAEsQ,WAAY,IAAKpQ,SAAU,GAAIK,MAAO,YAC/C2P,EAAcnU,OAGnB6D,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEuB,UAAW,IAAM2O,EAAcH,oBC5D9CQ,GAAQnN,YA5BN,SAACC,GAAD,OACbC,YAAa,CACXkN,YAAa,CACXnP,UAAW,IACXI,QAAS,GACTrB,QAAS,OACTyB,WAAY,SACZC,eAAgB,gBAChBN,gBAAiB,QACjBgC,SAAU,WACVoD,cAAe,UAEjB6J,UAAW,CACTvQ,SAAU,GACVD,UAAW,UAEbyQ,QAAS,CACPjQ,WAAY,OACZC,YAAa,OACba,UAAW,GACXD,aAAc,GACdrB,UAAW,SACXoB,UAAW,QAMI+B,CAAmB,SAACzD,GAAkB,IACjDmF,EAAYnF,EAAZmF,QAER,OACElF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6Q,GAAA,OAAD,KACE/Q,EAAAC,EAAAC,cAAA,SAAO7G,KAAK,YAAZ,wEACA2G,EAAAC,EAAAC,cAAA,UACE7G,KAAK,kBACL0U,IAAI,qDACJiD,OAAK,EACLC,OAAK,IAEPjR,EAAAC,EAAAC,cAAA,QACE/D,KAAK,cACL6P,QAAQ,gFAGZhM,EAAAC,EAAAC,cAAA,OAAK6F,UAAWb,EAAQ0L,aACtB5Q,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYzU,QAAQ,KAAKwN,UAAWb,EAAQ2L,WAA5C,6BAGA7Q,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACI,QAAQ,SACnBR,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,YACRoI,MAAM,YACNuQ,KAAK,QACLxQ,QAAS,kBAAO2L,SAASC,KAAO,cAChClM,MAAO,CAAEuB,UAAW,SALtB,iBASA3B,EAAAC,EAAAC,cAAA,KAAGQ,QAAS,kBAAO2L,SAASC,KAAO,WAAYlM,MAAO,CAAC8G,OAAQ,OAAQ5G,SAAU,GAAIK,MAAO,OAAQwQ,eAAgB,YAAa5Q,OAAQ,YAAa6Q,OAAQ,YAA9J,oBAGJpR,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,WACpBP,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYzU,QAAQ,KAAK8Y,MAAM,SAASC,cAAY,GAApD,YAGAtR,EAAAC,EAAAC,cAAA,OAAK6F,UAAWb,EAAQ4L,SACtB9Q,EAAAC,EAAAC,cAAA,OACE6F,UAAU,mBACVwL,eAAa,KACbC,YAAU,QACVC,cAAY,QACZC,YAAU,WACVC,aAAW,OACXC,cAAY,wBAEZ5R,EAAAC,EAAAC,cAAA,KACEoN,OAAO,SACPuE,IAAI,sBACJ9L,UAAU,iBACV+L,KAAK,sEAJP,0BAUJ9R,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAY5M,MAAO,CAAEuB,UAAW,IAAMpJ,QAAQ,KAAK8Y,MAAM,UAAzD,YAGArR,EAAAC,EAAAC,cAAC6R,GAAD,MACA/R,EAAAC,EAAAC,cAAC8R,GAAD,gMCmBKC,GAAgBC,YAC3BtS,YAPe,SAAC/G,GAChB,MAAO,CACLJ,SAAUI,EAAMJ,WAKlBmH,CAAkB4D,YAnGL,SAACC,GAAD,OACbC,YAAa,CACXvI,KAAM,CACJyG,gBAAiB,UACjBrB,OAAQ,qBACRiQ,aAAc,EACd5P,MAAO,WA6FO4C,CA9EG,SAACzD,GAAkB,IAAA0E,EACZC,mBAAS,IADGC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GACjC0N,EADiCxN,EAAA,GACzByN,EADyBzN,EAAA,GAGhCO,EAAYnF,EAAZmF,QAEJzM,EAAQ2B,OAAAC,EAAA,EAAAD,CAAOA,OAAOK,OAAOsF,EAAMtH,WASvC,OAPAA,EAAWA,EAAS4Z,OAAO,SAAAnY,GACzB,IAAMoY,EAAmB3Y,EAAUO,EAAQiC,MACrCoW,EAAc5Y,EAAUwY,GAE9B,OAAOG,EAAS/W,QAAQgX,IAAgB,IAIxCvS,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAE6D,SAAU,IAAMpD,WAAY,OAAQC,YAAa,OAAQoD,SAAU,MAC5D,SAAlBnE,EAAMxH,SACLyH,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYqE,MAAM,SAASjR,MAAO,CAAEsB,aAAc,IAAMnJ,QAAQ,MAAhE,YAIFyH,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACE4B,UAA6B,SAAlBjP,EAAMxH,cAA4BS,EAC7CoH,MAAO,CAAEoQ,aAAc,MACvBxP,WAAS,EACTwF,MAAM,6BACNjO,QAA2B,SAAlBwH,EAAMxH,QAAsB,WAAqB,WAC1DmN,MAAOyM,EACP/L,SAAU,SAAAC,GAAC,OAAI+L,EAAU/L,EAAEiH,OAAO5H,UAEpC1F,EAAAC,EAAAC,cAACsS,GAAA,EAAD,CACEzM,UAAWb,EAAQ/J,KACnBsX,UAAWzS,EAAAC,EAAAC,cAACwS,GAAA,EAAD,CAAezF,UAAU,OAAzB,aAEVxU,EAASwB,IAAI,SAACC,EAASyV,GACtB,IACMgD,EADyB,mBAAhBzY,EAAQZ,GACI,GAAK,YAChC,OACE0G,EAAAC,EAAAC,cAAA,OAAK2P,IAAK3V,EAAQZ,GAAI8G,MAAO,CAAEwS,WAAY,WACzC5S,EAAAC,EAAAC,cAAC2S,GAAA,EAAD,CACEC,QAAM,EACNlF,SACE7N,EAAMsM,SAAS0G,SAASC,MAAM,aAAa,KAAO9Y,EAAQZ,GAE5D6T,GAAIwF,EAAYzY,EAAQZ,GAAG2Z,WAC3BvS,QAASX,EAAMW,QACfuM,UAAWC,KAEXlN,EAAAC,EAAAC,cAACgT,GAAA,EAAD,CAAcC,QAASjZ,EAAQiC,YAMzC6D,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEuB,UAAW,MACrB5B,EAAMqT,UACNpT,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,WACRoI,MAAM,UACNwM,GAAG,kBACHF,UAAWC,IACXlM,WAAS,GALX,wBCrDJqS,GAAc,CAClB,CACE7M,MAAO,QACPuM,SAAU,IACVO,SAAUC,MAEZ,CACE/M,MAAO,QACPuM,SAAU,SACVO,SAAUE,MAEZ,CACEhN,MAAO,WACPuM,SAAU,YACVO,SAAUE,OAIRC,GAAY,CAChB,CAAEjN,MAAO,WAAYuM,SAAU,YAAaO,SAAU7M,KACtD,CACED,MAAO,YACPuM,SAAU,aACVO,SAAUI,MAEZ,CACElN,MAAO,WACPuM,SAAU,YACVO,SAAUK,OA0MRC,GAAS1B,YAAWtS,YAJT,SAAC/G,GAAD,MAAoB,CACnCgb,cAAehb,EAAMtB,OAGGqI,CAvJX,SAACG,GAAkB,IAAA0E,EACJC,oBAAS,GADLC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GACzBqP,EADyBnP,EAAA,GACjBoP,EADiBpP,EAAA,GAAAyG,EAEA1G,mBAAS,MAFT2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAEzB4I,EAFyB3I,EAAA,GAEf4I,EAFe5I,EAAA,GAIxBnG,EAAYnF,EAAZmF,QAEFgP,EAAoC,OAAxBnU,EAAM8T,cAAyBJ,GAAYJ,GAEvD3N,EAAQwO,EAAUja,IAAI,SAAAka,GAAQ,OAAIA,EAASpB,WAAUxX,QACzDwE,EAAMsM,SAAS0G,UAGjB,OACE/S,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAACkU,GAAA,EAAD,CAAQxQ,SAAS,WAAWjD,MAAM,UAAUoF,UAAWb,EAAQmP,QAC7DrU,EAAAC,EAAAC,cAACoU,GAAA,EAAD,CAASlU,MAAO,CAAEqB,UAAW,GAAII,QAAS,aACxC7B,EAAAC,EAAAC,cAACqN,GAAA,EAAD,CAAMC,WAAS,EAAC1J,QAAS,EAAG7B,WAAW,UACrCjC,EAAAC,EAAAC,cAACqN,GAAA,EAAD,CACE7T,MAAI,EACJ6a,GAAI,GACJnU,MAAO,CAAE6B,WAAY,UACrB8D,UAAWb,EAAQqL,MAEM,OAAxBxQ,EAAM8T,eACL7T,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEL,MAAO,CACLG,OAAQ,qBACRiU,WAAY,EACZnF,cAAe,GAEjB1O,MAAM,UACNpI,QAAQ,WACRmI,QAAS,SAAA2F,GAAC,OAAI4N,EAAY5N,EAAEoO,iBAE5BzU,EAAAC,EAAAC,cAACwU,GAAAzU,EAAD,MACAD,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAES,WAAY,IAA3B,aAEFb,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CACEX,SAAUA,EACV3b,KAAMuc,QAAQZ,GACda,QAAS,kBAAMZ,EAAY,QAE3BjU,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAE2D,QAAS,OAAQxD,OAAQ,KACrCP,EAAAC,EAAAC,cAAC+R,GAAD,CAAe1Z,QAAQ,YAK/ByH,EAAAC,EAAAC,cAAA,OAAK6F,UAAWb,EAAQ4P,QACtB9U,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAYzU,QAAQ,KAAKoI,MAAM,UAAUoU,QAAM,GAC7C/U,EAAAC,EAAAC,cAACyC,GAAA,MAAD,CACEC,MAAO,eACPC,KAAM,CAAEmS,UAAW,0BACnB7H,GAAI,CAAE6H,UAAW,yBAEhB,SAAAtb,GAAI,OAAI,SAAAub,GAAU,OACjBjV,EAAAC,EAAAC,cAAA,KACEoN,OAAO,SACPwE,KAAK,wCACL1R,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,GACA6a,EADA,CAEHtU,MAAO,QACPwQ,eAAgB,OAChB+D,aAAc,IAEhBnP,UAAWb,EAAQiQ,SATrB,iBAiBRnV,EAAAC,EAAAC,cAACF,EAAAC,EAAME,SAAP,KACEH,EAAAC,EAAAC,cAAA,OAAK6F,UAAWb,EAAQkQ,eACtBpV,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEvF,QAAS,kBAAMqT,GAAU,IACzBhO,UAAWb,EAAQmQ,YAEnBrV,EAAAC,EAAAC,cAACwU,GAAAzU,EAAD,QAIJD,EAAAC,EAAAC,cAAA,OAAK6F,UAAWb,EAAQoQ,cACtBtV,EAAAC,EAAAC,cAACiG,EAAA,EAAD,CACET,OAAkB,IAAXA,GAAuBA,EAC9B6P,eAAe,UACfC,UAAU,WAETtB,EAAUja,IAAI,SAACP,EAAM+b,GAAP,OACbzV,EAAAC,EAAAC,cAACqG,EAAA,EAAD,CACEqH,SAAUvB,SAASC,KAAK5P,MAAM,KAAOhD,EAAKqZ,SAC1C3S,MAAO,CAAE8D,SAAU,IACnB2L,IAAK4F,EACLtI,GAAIzT,EAAKqZ,SACT9F,UAAWyI,IACXxQ,QAAS,CAAEyQ,KAAMzQ,EAAQ0Q,SACzBpP,MAAO9M,EAAK8M,YAMK,OAAxBzG,EAAM8T,eACL7T,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAC2V,GAAA,EAAD,CAAS5Q,MAAK,GAAA9K,OAAK4F,EAAM8T,cAAcvK,WACrCtJ,EAAAC,EAAAC,cAAC4M,GAAA,EAAD,CACE1M,MAAO,CACLG,OAAQ,YACRqB,gBAAiB,YAGlB7B,EAAM8T,cAAcvK,SAAS,GAAGwM,sBAUnD9V,EAAAC,EAAAC,cAAC6V,GAAA,EAAD,CAAQC,OAAO,QAAQ3d,KAAMyb,EAAQe,QAAS,kBAAMd,GAAU,KAC5D/T,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEQ,MAAO,SACnBZ,EAAAC,EAAAC,cAACsS,GAAA,EAAD,KACG0B,EAAUja,IAAI,SAACka,EAAUsB,GAAX,OACbzV,EAAAC,EAAAC,cAAC2S,GAAA,EAAD,CACEnS,QAAS,kBAAMqT,GAAU,IACzB5G,GAAIgH,EAASpB,SACb9F,UAAWyI,IACX5C,QAAM,EACNjD,IAAK4F,GAELzV,EAAAC,EAAAC,cAAC+V,GAAA,EAAD,KACEjW,EAAAC,EAAAC,cAACiU,EAASb,SAAV,OAEFtT,EAAAC,EAAAC,cAACgT,GAAA,EAAD,CAAcC,QAASgB,EAAS3N,kBAgBnC0P,GAAS1S,KAxMP,SAACC,GAAD,OACbC,YAAa,CACX2Q,OAAQ,CACNzQ,SAAU,WACVuS,UAAW,OACXC,aAAY,aAAAjc,OAAesJ,EAAMc,QAAQC,KAAK,MAC9C5C,gBAAiB,SAEnBkT,OAAQ,CACNtU,QAAS,UAEX+P,KAAM,CACJ/P,QAAS,QAEX6V,KAAM,CACJlF,eAAgB,OAChBxQ,MAAO,WAETwU,QAAS,CACP3U,QAAS,eACTK,WAAY,IAEduU,cAAchb,OAAAwM,GAAA,EAAAxM,CAAA,CACZoG,QAAS,QACRiD,EAAMoD,YAAYyP,KAAK,MAAQ,CAC9B9V,QAAS,QACTK,WAAY,SAGhByU,aAAalb,OAAAwM,GAAA,EAAAxM,CAAA,CACXyG,WAAY,QACX4C,EAAMoD,YAAYyP,KAAK,MAAQ,CAC9B9V,QAAS,SAGboV,QAAS,CACPpB,WAAY,GACZnF,cAAe,GACfnL,SAAU,QAEZmR,WAAY,MAgKM7R,CAAmBoQ,sHC9JnCvV,GAAiB,CACrBkY,cf3G4B,iBAAuB,CACnDld,KAAM,oBe6GKmd,GAAe5W,YAVX,SAAA+H,GAAA,IAAGvP,EAAHuP,EAAGvP,SAAH,MAA2B,CAC1CC,KAAMD,EAASC,KACfC,QAASF,EAASE,QAClBC,QAASH,EAASG,UASlB8F,GAF0BuB,CAG1B4D,YA7Ea,SAACC,GAAD,OACbC,YAAa,CACX+S,QAAS,CAAE7U,gBAAiB,WAC5B8U,QAAS,CAAE9U,gBAAiB,WAC5B+U,SAAU,GACVnK,MAAO,CAAE5K,gBAAiB6B,EAAMc,QAAQiI,MAAMoK,MAC9CC,MAAO,CAAEjW,MAAO,GAAIsG,OAAQ,IAC5B5O,QAAS,CAAEkI,QAAS,OAAQyB,WAAY,UACxCqD,KAAM,CAAEhF,SAAU,GAAIQ,YAAa2C,EAAMK,QAAQ,IACjD1L,SAASgC,OAAAwM,GAAA,EAAAxM,CAAA,GACNqJ,EAAMoD,YAAYyP,KAbG,KAayB,CAC7C5U,aAAc,sBAkEpB8B,CAzDwB,SAACzD,GAEzB,IAAM+W,EAAc,CAClBL,QAASM,KACTL,QAASM,KACTxK,MAAOyK,KACPN,SAAUO,MAEJhS,EAAmDnF,EAAnDmF,QAAS7M,EAA0C0H,EAA1C1H,KAAMC,EAAoCyH,EAApCzH,QAASC,EAA2BwH,EAA3BxH,QAASge,EAAkBxW,EAAlBwW,cACnCY,EA5CwB,SAAC5e,EAAmB2M,GAClD,MAAgB,YAAZ3M,EACK2M,EAAQuR,QACM,YAAZle,EACF2M,EAAQwR,QACM,UAAZne,EACF2M,EAAQsH,MAERtH,EAAQyR,SAoCeS,CAAwB7e,EAAS2M,GAE3DmS,EAAOP,EAAYve,GACzB,OACEuW,EAAA,cAACwI,GAAA,EAAD,CACEC,aAAc,CAAEC,SAAU,SAAUC,WAAY,UAChDpf,KAAMA,EACN+H,MAAO,CAAEsB,aAAc,IACvBqE,UAAWb,EAAQ9M,SACnBsf,iBAxCqB,IAyCrB7C,QAAS0B,GAETzH,EAAA,cAAC6I,GAAA,EAAD,CACE5R,UAAWoR,EACX7e,QACEwW,EAAA,sBAAM/I,UAAWb,EAAQ5M,SACvBwW,EAAA,cAACuI,EAAD,CAAMtR,UAAWb,EAAQI,OACzBwJ,EAAA,sBAAM1O,MAAO,CAAES,WAAY,GAAIP,SAAU,KAAOhI,IAGpDW,OAAQ,CACN6V,EAAA,cAAC7I,EAAA,EAAD,CACE4J,IAAI,QACJlP,MAAM,UACNoF,UAAWb,EAAQI,KACnB5E,QAAS6V,GAETzH,EAAA,cAAC8I,GAAA3X,EAAD,CAAW8F,UAAWb,EAAQ2R,mFC7F7BgB,GAAS,IAAIC,KAAa,CACrCC,mBAAmB,EACnB1B,KAAM2B,KAAWnV,KAAK,CACpB0J,aAAQ,SAAA5E,GAAqC,IAAlCsQ,EAAkCtQ,EAAlCsQ,cAAeC,EAAmBvQ,EAAnBuQ,aACpBD,GACFA,EAAche,IAAI,SAAAke,GAAA,IAAG7f,EAAH6f,EAAG7f,QAAS8f,EAAZD,EAAYC,UAAWC,EAAvBF,EAAuBE,KAAvB,OAChBC,QAAQ9L,MAAR,uBAAArS,OACyB7B,EADzB,gBAAA6B,OAC+Cie,EAD/C,YAAAje,OACmEke,MAInEH,GACFI,QAAQ9L,MAAR,oBAAArS,OAAkC+d,MAGtC,IAAIK,KAAS,CACXC,IAAG,WACHC,YAAa,cAGjBC,MAAO,IAAIC,iBCzBPC,GAAW,SAAC/f,GAAD,MAAoB,CACnCtB,KAAMsB,EAAMtB,OAQDshB,GAAejZ,YAAQgZ,GAARhZ,CAC1B,SAAA+H,GAAyE,IAA3DmR,EAA2DnR,EAAtEsF,UAA0B8L,EAA4CpR,EAA5CoR,eAAgBxhB,EAA4BoQ,EAA5BpQ,KAASyhB,EAAmB5e,OAAA6e,GAAA,EAAA7e,CAAAuN,EAAA,uCACvE,OACE3H,EAAAC,EAAAC,cAACgZ,EAAA,EAAD9e,OAAA+e,OAAA,GACMH,EADN,CAEEI,OAAQ,SAAArZ,GAAK,OACF,OAATxI,EACEyI,EAAAC,EAAAC,cAAC4Y,EAAD1e,OAAA+e,OAAA,CACEE,OAAQtZ,EAAMuZ,MAAMD,QACfN,IAGP/Y,EAAAC,EAAAC,cAACgZ,EAAA,EAAD,CAAU/L,GAAG,iBAOZoM,GAAkB3Z,YAAQgZ,GAARhZ,CAC7B,SAAAuY,GAAyE,IAA3DW,EAA2DX,EAAtElL,UAA0B8L,EAA4CZ,EAA5CY,eAAgBxhB,EAA4B4gB,EAA5B5gB,KAASyhB,EAAmB5e,OAAA6e,GAAA,EAAA7e,CAAA+d,EAAA,uCACvE,OACEnY,EAAAC,EAAAC,cAACgZ,EAAA,EAAD9e,OAAA+e,OAAA,GACMH,EADN,CAEEI,OAAQ,SAAArZ,GAAK,OACF,OAATxI,EACEyI,EAAAC,EAAAC,cAAC4Y,EAAD1e,OAAA+e,OAAA,GACMJ,EADN,CAEEM,OAAQtZ,EAAMuZ,MAAMD,QAChBN,IAGN/Y,EAAAC,EAAAC,cAACgZ,EAAA,EAAD,CAAU/L,GAAG,6DC9CZqM,GAAW,SAAC/Z,GAAD,MAIjB,CACLpG,KAAM,WACNC,GAAImG,EAAKnG,GACTwB,UAAW2E,EAAK3E,UAChBmB,QAASwD,EAAKxD,s1BCLT,IAAMwd,GAAkB7P,KAAH8P,KACxBzP,IAcS0P,GAAkB/P,KAAHgQ,MCkGtBvb,ID1FuBuL,KAAHiQ,KACtB5P,ICyFmB,CACrB6P,QAASN,KAGEO,GAAena,YAC1B,KACAvB,GAF0BuB,CAG1B4D,YAtFa,SAACC,GAAD,OACbC,YAAa,CACXU,YAAa,CACXR,SAAU,WACVS,MAAOZ,EAAMK,QAAQ,GACrBQ,IAAKb,EAAMK,QAAQ,GACnBnD,MAAO8C,EAAMc,QAAQC,KAAK,SAgF9BhB,CA5EoB,SAACzD,GAA6B,IAC1C7F,EAA8B6F,EAA9B7F,QAAS2a,EAAqB9U,EAArB8U,QAAS3P,EAAYnF,EAAZmF,QADwBT,EAG1BC,mBAAS,IAHiBC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAG3CtI,EAH2CwI,EAAA,GAGrC6J,EAHqC7J,EAAA,GAAA8J,EAKzBC,aAGvB+K,GAAiB,CACjBvN,YAAa,SAAAvE,GAAoB,IAAjBqS,EAAiBrS,EAAjBqS,WACdja,EAAM+Z,QAAQ,CACZxgB,GAAI0gB,EAAW7e,KAAM7B,GACrBwB,UAAWiF,EAAM7F,QAAQZ,GACzB2C,QAAS,CACPb,QAAS,GACTe,KAAM6d,EAAW7e,KAAMgB,MAAQ,aAVhC8d,EAL2C7f,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MAqBlD,OACEK,EAAA,cAACvJ,GAAA,EAAD,CAAQlN,MAAM,EAAMwc,QAASA,GAC3B/F,EAAA,sBACElC,SAAU,SAAAvG,GACRA,EAAEwG,iBAEFoN,EAAe,CACbhS,UAAW,CACT9L,KAAMA,GAAQ,OACd+d,OAAQhgB,EAAQZ,MAIpBub,MAGF/F,EAAA,cAAC9I,EAAA,EAAD,oBACA8I,EAAA,cAAC7I,EAAA,EAAD,CAAYF,UAAWb,EAAQd,YAAa1D,QAASmU,GACnD/F,EAAA,cAAC5I,EAAA,EAAD,OAEF4I,EAAA,cAACqL,GAAA,EAAD,KACErL,EAAA,cAACsL,GAAA,EAAD,uGAIAtL,EAAA,cAAC1B,GAAA,EAAD,CACEC,UAAQ,EACR2B,WAAS,EACTzO,OAAO,QACPiG,MAAM,YACNd,MAAOvJ,EACPiK,SAAU,SAAA+R,GAAA,IAAG7K,EAAH6K,EAAG7K,OAAH,OAAwBkB,EAAQlB,EAAO5H,QACjD1E,WAAS,KAGb8N,EAAA,cAACuL,GAAA,EAAD,KACEvL,EAAA,cAACrO,EAAA,EAAD,CAASC,QAASmU,EAASlU,MAAM,aAAjC,UAGAmO,EAAA,cAACrO,EAAA,EAAD,CAASlI,QAAQ,YAAYoI,MAAM,UAAUtH,KAAK,UAAlD,iECTJgF,GAAiB,CACrBiQ,WAAY/G,IAGD+S,GAAkB1a,YAC7B,KACAvB,GAF6BuB,CA1EN,SAACG,GAAkB,IAAAwa,EACTxV,IAAML,UAAS,GADN8V,EAAApgB,OAAAwK,EAAA,EAAAxK,CAAAmgB,EAAA,GACnCE,EADmCD,EAAA,GACvBE,EADuBF,EAAA,GAAA/L,EAGdC,aAG1BR,GAAoB,CACpBhC,YAAa,SAAAvE,GAAuB,IAApBgT,EAAoBhT,EAApBgT,cACVA,GAAiBA,EAAcrhB,IACjCyG,EAAMuO,WAAW,CAAEhV,GAAIqhB,EAAcrhB,GAAIkO,QAAS,UANjDoT,EAHmCxgB,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MA8B1C,OACEzO,EAAAC,EAAAC,cAACqF,GAAA,EAAD,CAAQsP,QAAS9U,EAAM8U,QAASxc,MAAM,GACpC2H,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAE8D,SAAU,WACxBlE,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,yBACAhG,EAAAC,EAAAC,cAACia,GAAA,EAAD,KACEna,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CAAY5M,MAAO,CAAEE,SAAU,KAC7BN,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAEO,MAAO,MAAOG,YAAa,IAA1C,iBAEFd,EAAAC,EAAAC,cAAC2S,GAAA,EAAD,KACE7S,EAAAC,EAAAC,cAAC2a,GAAA,EAAD,KACE7a,EAAAC,EAAAC,cAAC4a,GAAA,EAAD,OAEF9a,EAAAC,EAAAC,cAACgT,GAAA,EAAD,CACEC,QAAQ,sBACRhM,UAAU,8CAEZnH,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACEyQ,KAAK,SACLxQ,QAAS,WACH+Z,EACFG,EAAkB,CAAE3S,UAAW,CAAE3O,GAAIyG,EAAM7F,QAAQZ,MAEnDohB,GAAW,IAGf/Z,MAAM,UACNpI,QAASkiB,EAAa,YAAc,WACpCra,MAAO,CAAES,WAAY,GAAIka,UAAW,GAAIpZ,UAAW,SAElD8Y,EAAa,UAAY,YAIhCza,EAAAC,EAAAC,cAACma,GAAA,EAAD,KACEra,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAASX,EAAM8U,SAAvB,wDCzFKmG,GAAY,SAACC,GACxB,OAAIC,kBAAQD,GACFA,EAAa,KAEhBA,GAAOE,aAASF,EAAM,IAAI5b,iBCM7B+b,GAAM,SAACH,EAAYI,GACvB,OAAOL,GAAUC,IAASI,EALN,SAACJ,GACrB,MAAO,cAAgBK,aAAgB,IAAIjc,KAAQ4b,GAK/CM,CAAcN,GACd,OATa,SAACA,GAAD,OAAwBO,aAAOP,EAAM,iBASzCQ,CAAWR,IAGbS,GAAgB,SAAC/gB,EAAaghB,GACzC,OAAKhhB,EAAKihB,QAILjhB,EAAKkhB,YAINlhB,EAAKkhB,WAAW1Z,SAClB,aAAAhI,OAAoB2E,EAClBnE,EAAKkhB,WAAW1Z,UAChB,GAFF,WAAAhI,OAGWihB,GAAI,IAAI/b,KAAK1E,EAAKihB,SAAUD,IAPhCP,GAAI,IAAI/b,KAAK1E,EAAKihB,SAAUD,GAJ5B,4CClBEG,GAAW,SAACrc,GAAD,MAIjB,CACLpG,KAAM,WACNC,GAAImG,EAAKnG,GACTwB,UAAW2E,EAAK3E,UAChBG,QAASwE,EAAKxE,QAAU8gB,oBAAU3hB,OAAAqB,EAAA,EAAArB,CAAA,GAAKqF,EAAKxE,UAAa,6sECRpD,IAAM+gB,GAAkBpS,KAAHqS,KACxBtS,IAkBSuS,GAAkBtS,KAAHuS,KACxBxS,IAmBSyS,GAAkBxS,KAAHyS,KACxBpS,IAmBSqS,GAAgB1S,KAAH2S,KACtBtS,IA0BSuS,IAZkB5S,KAAH6S,KACxBxS,IAWyBL,KAAH8S,KACtBzS,KChCS0S,GAAa,SAAAhV,GAAA,IACxBhM,EADwBgM,EACxBhM,SACAihB,EAFwBjV,EAExBiV,WAEA3Z,GAJwB0E,EAGxBpN,OAHwBoN,EAIxB1E,MAJwB,OAWxBjD,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAES,WAAY,KACxBb,EAAAC,EAAAC,cAACyC,GAAA,WAAD,CACEka,QAAS,KACTC,QAAM,EACNla,MAAOK,EAAOtH,EAAW,GACzBohB,KACE9Z,EACItH,EAAS1B,IAAI,SAAA+iB,GAAO,OAAIA,EAAQ1jB,KAChC,GAENuJ,KAAM,CAAEC,QAAS,EAAGoE,OAAQ,EAAG+V,SAAU,UACzCla,MAAO,CAAED,QAAS,EAAGoE,OAAQ,QAC7BlE,MAAO,CAAEF,QAAS,EAAGoE,OAAQ,EAAG+V,SAAU,WAEzC,SAAAD,GAAO,OAAI,SAAAjd,GAAK,OACfC,EAAAC,EAAAC,cAACyC,GAAA,SAASua,IAAV,CACE9c,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,CACHoG,QAAS,OACTyB,WAAY,UACTlC,IAGLC,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLuB,UAAW,IAGZqb,EAAQG,UACPnd,EAAAC,EAAAC,cAACkd,GAAA,EAAD,CACE1c,QAAS,SAAA2F,GACPA,EAAEgX,kBACFT,EAAWxiB,OAAAqB,EAAA,EAAArB,CAAA,GAAI4iB,EAAL,CAAcG,WAAW,QAIvCnd,EAAAC,EAAAC,cAACod,GAAA,EAAD,CACE5c,QAAS,SAAA2F,GACPA,EAAEgX,kBACFT,EAAWxiB,OAAAqB,EAAA,EAAArB,CAAA,GAAI4iB,EAAL,CAAcG,WAAW,SAK3Cnd,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAES,WAAY,IAAMmc,EAAQ7gB,YA2S7CkC,GAAiB,CACrBkf,mBnCzYiC,SAAChjB,GAAD,MAA4B,CAC7DlB,KAAM,uBACNkB,WmCwYAijB,oBAAqB/V,GACrBpE,YAAaxE,EACb4e,aAAchW,GACdiW,WFlZyB,SAACje,GAAD,MAAkF,CAC3GpG,KAAM,cACNC,GAAImG,EAAKnG,GAAIwB,UAAW2E,EAAK3E,UAC7Bc,WAAY6D,EAAK7D,WAAYrB,OAAQkF,EAAKlF,UEkZ/BojB,GAAWna,YApST,kBACbE,YAAa,CACXka,WAAY,CACVhc,gBAAiB,WAEnBic,MAAO,CACLlc,UAAW,GACXb,YAAa,IAGfgd,MAAO,CACL1M,OAAQ,UACRxN,SAAU,WACVd,QAAS,EACTlC,MAAO,OACPsG,OAAQ,OACR5C,IAAK,EACLN,KAAM,EACNzD,OAAQ,EACRsB,QAAS,GAEXkc,KAAM,CACJlc,QAAS,EACTf,YAAa,EACbH,MAAO,0BA4QW6C,CACtB5D,YAfe,SAAC/G,EAAemlB,GAAhB,MAAwC,CACvDC,gBAAiBplB,EAAMrB,SAASG,cAChCumB,cAAerlB,EAAMrB,SAASI,iBAAmBomB,EAASrjB,KAAKrB,GAAG2Z,WAClEzb,SAAUqB,EAAMrB,WAcd6G,GAFFuB,CApQgB,SAACG,GAAqB,IAAA0E,EACEC,oBAAS,GADXC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAC/B0Z,EAD+BxZ,EAAA,GACjByZ,EADiBzZ,EAAA,GAAAyG,EAEE1G,oBAAS,GAFX2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAE/BiT,EAF+BhT,EAAA,GAEjBiT,EAFiBjT,EAAA,GAAAG,EAIF9G,mBAASgX,GAAc3b,EAAMpF,MAAM,IAJjC8Q,EAAArR,OAAAwK,EAAA,EAAAxK,CAAAoR,EAAA,GAI/B+S,EAJ+B9S,EAAA,GAInB+S,EAJmB/S,EAAA,GAMlCiQ,GAAc3b,EAAMpF,MAAM,KAAU4jB,GACtCC,EAAc9C,GAAc3b,EAAMpF,MAAM,IAlIxB,SAAC8jB,EAAsBC,GACzC,IAAMC,EAAgBC,sBAAO5lB,GAG7ByJ,oBAAU,WACRkc,EAAcE,QAAUJ,IAI1Bhc,oBAAU,WAIR,GAAc,OAAVic,EAAgB,CAClB,IAAMplB,EAAK8I,YAJb,WACEuc,EAAcE,WAGeH,GAC7B,OAAO,kBAAMhc,cAAcpJ,MAG5B,CAAColB,IAkHJI,CAAY,WACN/e,EAAMpF,KAAKihB,SACb4C,EAAc9C,GAAc3b,EAAMpF,MAAM,KAEzC,KAbmC,IAe9BA,EAAwDoF,EAAxDpF,KAAMsjB,EAAkDle,EAAlDke,gBAAiBc,EAAiChf,EAAjCgf,SAAUC,EAAuBjf,EAAvBif,SAAUC,EAAalf,EAAbkf,SAfbxQ,EAoBbC,aAA6DsN,GAAiB,CACrG9P,YAAa,SAAAiM,GAAkBA,EAAhBuF,YAKXpF,QAAQ4G,IAAI,wBAGhB3S,QAAS,eATJ4S,EApB+B/kB,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MAgCtC,OAAO9T,EACLqF,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEQ,MAAO,SACnBZ,EAAAC,EAAAC,cAAA,MAAA9F,OAAA+e,OAAA,CACE7f,GAAIqB,EAAKrB,GAAG2Z,WACZmM,IAAKL,EAAWA,EAASM,cAAWrmB,GAChC+lB,EAASO,eACTP,EAASQ,gBAJf,CAKEnf,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,CACHqH,UAxBW,GAyBXG,gBAAiBjH,EAAKgG,MAAQhG,EAAKgG,MAAQ,QAC3C6e,OAxBO,gCAyBPpJ,aAAc,UACX2I,EAASO,eAAelf,MALxB,CAMHO,MAAOqe,GAAYA,EAASS,WAAa,OAAoB,QAC7D1b,QAAS,SAEXrD,QAAS,WAOLud,EAEAle,EAAMwd,mBAAmB5iB,EAAKrB,GAAG2Z,YAEjCgM,OAIJjf,EAAAC,EAAAC,cAACwf,GAAA,EAAD,CACExa,QAAS,CACPya,eAAgB5f,EAAMmF,QAAQ0Y,WAC9BC,MAAO9d,EAAMmF,QAAQ2Y,OAEvBld,MAAO,UACPif,aAAcjlB,EAAKklB,OACnBzf,MAAO,CACLQ,MAAO,OACPJ,QAAS,OACTiB,UAzDS,GA0DTsC,QAAS,SAGX/D,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,EAAGK,MAAO,OAAQJ,QAAS,UAC/CR,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACTyB,WAAY,WAGdjC,EAAAC,EAAAC,cAAA,QACE5G,GAAIqB,EAAKrB,GACT8G,MAAO,CACLE,SAAU,GACV2D,SAAU,MACVtD,MACEqe,GAAYA,EAASS,WACjB,OACAzE,GACErgB,EAAKihB,QAAU,IAAIvc,KAAK1E,EAAKihB,cAAW5iB,IACnB,IAAlB2B,EAAKmlB,SACV,UACA,QACNjf,WAAY,EACZc,UAAW,IAGb3B,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,SACpB7F,EAAKwB,KAAOxB,EAAKwB,KAAO,kBAI/B6D,EAAAC,EAAAC,cAAC6f,GAAD,CACE9c,KAAMob,EACN1iB,SAAUhB,EAAKgB,SACfpB,OAAQI,EAAKrB,GACbsjB,WAAY,SAACoD,GACXjgB,EAAM2d,WAAW,CAACnjB,OAAQI,EAAKrB,GAAIwB,UAAWiF,EAAM7F,QAAQZ,GAAIA,GAAI0mB,EAAO1mB,GAAIsC,WAAYokB,IAC3Fb,EAAe,CAAClX,UAAW,CAACiS,OAAQna,EAAM7F,QAAQZ,GAAIiB,OAAQI,EAAKrB,GAAI2mB,UAAWD,EAAO1mB,GAAI4mB,KAAM,CAAC/jB,KAAM6jB,EAAO7jB,KAAMghB,UAAW6C,EAAO7C,iBAInH,IAAzBxiB,EAAKwlB,SAASpnB,QACbiH,EAAAC,EAAAC,cAACyC,GAAA,WAAD,CACEka,QAAS,KACTja,MAAOub,EACPtb,KAAM,CAAEqE,OAAQ,EAAG+V,SAAU,UAC7Bla,MAAO,CAAEmE,OAAQ,QACjBlE,MAAO,CAAEkE,OAAQ,EAAG+V,SAAU,WAE7B,SAAAha,GAAI,OACHA,GACC,SAAA7C,GAAK,OACJJ,EAAAC,EAAAC,cAACyC,GAAA,SAASua,IAAV,CAAc9c,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,CAAIyG,WAAY,GAAMT,IACvCJ,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLoU,WAAY,GACZnF,cAAe,GACfmB,aAAc,UAGf7V,EAAKwlB,SAASlmB,IAAI,SAAAmmB,GAAO,OACxBpgB,EAAAC,EAAAC,cAAA,OAAK2P,IAAKuQ,EAAQ9mB,GAAI8G,MAAO,CAAEO,MAAO,UACpCX,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAEO,MAAO,wBAElB+a,GAActhB,OAAAqB,EAAA,EAAArB,CAAA,GAEPO,EAFM,CAGTihB,QAASwE,EAAQC,UACjBxE,gBAAY7iB,KAEd,GACAga,MAAM,OAAO,IAGlB,QACAoN,EAAQA,gBASxBzlB,EAAKihB,SAA6B,IAAlBjhB,EAAKmlB,UACpB9f,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAES,WAAY,IAAM0d,IAIpCve,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACT4Q,OAAQ,YAG+B,IAAxChX,OAAOK,OAAOE,EAAKwlB,UAAUpnB,QAC5BiH,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEF,UAAWhG,EAAMmF,QAAQ6Y,KACzBrd,QAAS,SAAA2F,GACPA,EAAEgX,kBACFe,GAAiBD,KAGnBne,EAAAC,EAAAC,cAACogB,GAAA,EAAD,OAGqC,IAAxClmB,OAAOK,OAAOE,EAAKgB,UAAU5C,QAC5BiH,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACE7F,MAAO,CAAEU,YAAa,GACtBiF,UAAWhG,EAAMmF,QAAQ6Y,KACzBrd,QAAS,SAAA2F,GAEPA,EAAEgX,kBACFiB,GAAiBD,KAGnBre,EAAAC,EAAAC,cAACqgB,GAAA,EAAD,OAGmB,IAAtB5lB,EAAKI,cACJiF,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAEogB,UAAW,WAA1B,iBACiB1hB,EAAanE,EAAKI,cAAc,IAGjDgF,EAAMme,cAWNle,EAAAC,EAAAC,cAACkD,GAAA,EAAD,CACEhD,MAAO,CAAES,WAAY,QACrBkF,UAAWhG,EAAMmF,QAAQ6Y,KACzBrd,QAAS,SAAA2F,GACPA,EAAEgX,kBACFtd,EAAMwd,mBAAmB5iB,EAAKrB,IAC9ByG,EAAMsD,iBAhBVrD,EAAAC,EAAAC,cAACiD,GAAA,EAAD,CACE/C,MAAO,CAAES,WAAY,QACrBkF,UAAWhG,EAAMmF,QAAQ6Y,KACzBrd,QAAS,SAAA2F,GACPA,EAAEgX,kBACFtd,EAAMwd,mBAAmB5iB,EAAKrB,IAC9ByG,EAAMsD,oBAiBQ,IAAzB1I,EAAKgB,SAAS5C,QACbiH,EAAAC,EAAAC,cAACugB,GAAA,EAAD,CACErgB,MAAO,CACLoQ,aAAc,GAEhBjY,QAAQ,cACRoI,MAAM,YACN+E,MACoB,IAAlB/K,EAAKmlB,SACD,IACCnlB,EAAKgB,SAAS0W,OAAO,SAAA2K,GAAO,OAAIA,EAAQG,YAAWpkB,OAClD4B,EAAKgB,SAAS5C,OAChB,QAMZ,gDClZO2nB,GAAS,CACpBC,MAAO,UACPC,KAAM,UACNC,IAAK,UACLC,OAAQ,UACRC,OAAQ,UACRC,OAAQ,UACRC,KAAM,UACNC,MAAO,UACPC,QAAS,UACTC,MAAO,gCCQIC,GAAc,SAACthB,GAAoB,IACtCuhB,EAAiBvhB,EAAjBuhB,aACFC,EAAa,6BAAApnB,OAAgCC,OAAOK,OAAOimB,IAC9DhkB,MAAM,GACN8kB,KAAK,MAFW,KAInB,OACExhB,EAAAC,EAAAC,cAACuhB,GAAA,EAAD,CAAazgB,WAAS,GACpBhB,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,CACE1gB,WAAS,EACT0E,MAAO3F,EAAMY,MACbyF,SAAU,SAACC,GAAD,OAAYtG,EAAMqG,SAASC,EAAEiH,OAAO5H,SAE7C4b,GACCthB,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACEjc,MAAM,MACNkc,UAAU,EACVxhB,MAAO,CACLyhB,WAAYN,IAJhB,OAUDnnB,OAAO2iB,KAAK2D,IAAQzmB,IAAI,SAAC4V,EAAUF,GAAX,OACvB3P,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACEC,UAAU,EACVxhB,MAAO,CAAEwB,gBAAkB8e,GAAe7Q,IAAQ,SAClDA,IAAKiS,OACLpc,MAAQgb,GAAe7Q,IAEtBA,MAIP7P,EAAAC,EAAAC,cAAC6hB,GAAA,EAAD,0BC1CA1jB,GAAiB,CACrBiQ,WAAY/G,IAYDya,GAAapiB,YACxB,KACAvB,GAFwBuB,CAGxB,SAACG,GAAkB,IAAA0E,EACKC,mBAAS,IADdC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GACZtI,EADYwI,EAAA,GACN6J,EADM7J,EAAA,GAAAyG,EAEO1G,mBAAS,WAFhB2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAEZzK,EAFY0K,EAAA,GAEL4W,EAFK5W,EAAA,GAAAG,EAGS9G,mBAAS,GAHlB+G,EAAArR,OAAAwK,EAAA,EAAAxK,CAAAoR,EAAA,GAGZqU,EAHYpU,EAAA,GAGJyW,EAHIzW,EAAA,GAAAG,EAISlH,mBAAS3E,EAAM7F,QAAQgB,MAAM,GAAG5B,IAJzCuS,EAAAzR,OAAAwK,EAAA,EAAAxK,CAAAwR,EAAA,GAIZuW,EAJYtW,EAAA,GAIJuW,EAJIvW,EAAA,GAAAwW,EAKW3d,wBAAS1L,GALpBspB,EAAAloB,OAAAwK,EAAA,EAAAxK,CAAAioB,EAAA,GAKZzG,EALY0G,EAAA,GAKHC,EALGD,EAAA,GAAA7T,EAMMC,aAGvB0N,GAAiB,CACjBlQ,YAAa,SAAAvE,GAAoB,IAAjB6a,EAAiB7a,EAAjB6a,WACVA,GAAcA,EAAW7nB,MAAQ6nB,EAAWtoB,SAC9C6F,EAAMuO,WAAW,CACfhV,GAAIkpB,EAAWtoB,QAAQZ,GACvBkO,QAASgb,EAAWtoB,UAGxB6F,EAAM8U,WAERtI,QAAS,kBAAMxM,EAAM8U,aAbhB4N,EANYroB,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MAsBnB,OACEzO,EAAAC,EAAAC,cAACqF,GAAA,EAAD,CAAQlN,MAAM,EAAMwc,QAAS,kBAAM9U,EAAM8U,YACvC7U,EAAAC,EAAAC,cAAA,QACE0M,SAAU,SAAAvG,GACRA,EAAEwG,iBAEF4V,EAAe,CACbxa,UAAW,CACTiS,OAAQna,EAAM7F,QAAQZ,GACtB6oB,OAAQA,EACRO,SAAU,CACR7C,SACAlf,QACAxE,OACAyf,QAASA,EAAUA,EAAQ3I,gBAAaja,QAMhDgH,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,oBACAhG,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAY7F,MAAO,CAAEwD,SAAU,WACjCS,MAAO,EACPC,IAAK,EACL3D,MAAO,QAAUD,QAAS,kBAAMX,EAAM8U,YAClC7U,EAAAC,EAAAC,cAACgG,EAAA,EAAD,OAEFlG,EAAAC,EAAAC,cAACia,GAAA,EAAD,KACEna,EAAAC,EAAAC,cAACka,GAAA,EAAD,gKAKApa,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACTyB,WAAY,SACZC,eAAgB,WAChBqO,KAAM,WACN5O,UAAW,KAGb3B,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEhN,MAAO,CAAEG,OAAQ,SACjB8M,UAAQ,EACR2B,WAAS,EACTzW,QAAQ,WACRoI,MAAM,YACN6F,MAAM,QACNd,MAAOvJ,EACPiK,SAAU,SAAA+R,GAAA,IAAG7K,EAAH6K,EAAG7K,OAAH,OACRkB,EAAQlB,EAAO5H,QAEjB1E,WAAS,IAEXhB,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEhN,MAAO,CAAEG,OAAQ,QAASK,MAAO,OACjCyM,UAAQ,EACRrM,WAAS,EACTzI,QAAQ,WACRiO,MAAM,SACNd,MAAOma,EACPxmB,KAAK,SACL+M,SAAU,SAAAC,GACRA,EAAEsc,UACEC,SAASvc,EAAEiH,OAAO5H,QAAU,GAC9Bwc,EAAUU,SAASvc,EAAEiH,OAAO5H,YAKpC1F,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQmB,UAAW,KACxC3B,EAAAC,EAAAC,cAAC2iB,GAAD,CACEliB,MAAOA,GAAS,UAChByF,SAAU,SAACzF,GACTshB,EAASthB,MAIbX,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEQ,MAAO,MAErBZ,EAAAC,EAAAC,cAACuhB,GAAA,EAAD,CAAazgB,WAAS,GACpBhB,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,CACE1gB,WAAS,EACT0E,MAAOyc,EACP/b,SAAU,SAAAC,GACR+b,EAAU/b,EAAEiH,OAAO5H,SAGpB3F,EAAM7F,QAAQgB,MAAMjB,IAAI,SAACkB,EAAMwU,GAC9B,OACE3P,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CAAU9R,IAAK1U,EAAK7B,GAAIoM,MAAOvK,EAAK7B,IAClC0G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK/E,EAAKgB,WAMpB6D,EAAAC,EAAAC,cAAC6hB,GAAA,EAAD,sBAGJ/hB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQmB,UAAW,KACxC3B,EAAAC,EAAAC,cAAC4iB,GAAA,eAAD,CACAC,QAAM,EACJC,mBAAmB,YACnBtd,MAAOkW,EACPxV,SAAU,SAAC6U,GACTsH,EAAWtH,QAKnBjb,EAAAC,EAAAC,cAACma,GAAA,EAAD,KACEra,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQC,QAAS,kBAAMX,EAAM8U,WAAWlU,MAAM,aAA9C,UAGAX,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQpH,KAAK,SAASd,QAAQ,YAAYoI,MAAM,WAAhD,8BC9IGsiB,GAAc,SAACljB,GAC1B,IAAI/F,EAAQ+F,EAAM5E,KAAKC,QACpBnB,IAAI,SAAAM,GAAM,OAAIwF,EAAM7F,QAAQF,MAAMV,EAAGyG,EAAM7F,QAAQF,MAAOO,MAC1D8X,OAAO,SAAA1X,GACN,OAAOA,EAAKmlB,WAAa/f,EAAM+f,WAGZ,IAAnB/f,EAAM+f,WACR9lB,EAAQA,GARkC,IAAAyK,EAWZC,mBAAS,IAXGC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAWrCye,EAXqCve,EAAA,GAW3Bwe,EAX2Bxe,EAAA,GAAAyG,EAYZ1G,mBAAS,MAZG2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAYrC4I,EAZqC3I,EAAA,GAY3B4I,EAZ2B5I,EAAA,GAAAG,EAaJ9G,mBAAS,MAbL+G,EAAArR,OAAAwK,EAAA,EAAAxK,CAAAoR,EAAA,GAarC4X,EAbqC3X,EAAA,GAavB4X,EAbuB5X,EAAA,GAe5C,OACEzL,EAAAC,EAAAC,cAAA,MACEE,MAAO,CACLkjB,YAAW,OAAAnpB,OAA4B,IAAnB4F,EAAM+f,SAAiB,SAAW,QAA3C,YACX1J,aACErW,EAAM7F,QAAQgB,MAAMzB,UAAU,SAAA0B,GAAI,OAAI4E,EAAM5E,KAAK7B,KAAO6B,EAAK7B,OAC7DyG,EAAM7F,QAAQgB,MAAMnC,OAAS,EACzB,yBACAC,EACNuqB,UAAW,oBACXC,WACqB,IAAnBzjB,EAAM+f,SAAN,OAAA3lB,OACW4F,EAAM+f,SAAW,SAAW,QADvC,iBAEI9mB,EACN4H,MAAO,OACPiB,QAAS9B,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAAM,UAAY,EACpEyhB,UAAWhb,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAAM,IAAM,OAChEoqB,UAAW,SAGO,IAAnB3jB,EAAM+f,UACL9f,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQD,OAAQ,IACpCR,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,KACxC0G,EAAAC,EAAAC,cAAA,MACEE,MAAO,CACLE,SAAU,GACVC,OAAQ,oBACRI,MAAO,SAJX,eAUFX,EAAAC,EAAAC,cAAA,MAAIE,MAAO,CAAEG,OAAQ,WAAYD,SAAU,KACxCP,EAAM5E,KAAKgB,MAEd6D,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEvF,QAAS,SAAA2F,GAAC,OAAI4N,EAAY5N,EAAEoO,gBAC5BrU,MAAO,CAAES,WAAY,SAErBb,EAAAC,EAAAC,cAACyjB,GAAA,EAAD,QAEA5jB,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,KAC7C0G,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEtF,MAAM,UACNP,MAAO,CAAES,WAAY,GACrBH,QAAS,kBAAMyiB,EAAY,YAE3BnjB,EAAAC,EAAAC,cAACa,GAAA,EAAD,OAGAf,EAAAC,EAAAC,cAACyU,GAAA,EAAD,CACErb,GAAG,cACH0a,SAAUA,EACV3b,KAAMuc,QAAQZ,GACda,QAAS,kBAAMZ,EAAY,QAE3BjU,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACEjhB,QAAS,WACPuT,EAAY,MACZlU,EAAM6jB,aAAa7jB,EAAM5E,KAAK7B,MAG/ByG,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAAM,aAAe,YAEjE0G,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACEjhB,QAAS,WACPuT,EAAY,QAFhB,QAOAjU,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CACEjhB,QAAS,WACH0iB,GAAgBrjB,EAAM7F,QAAQgB,MAAMnC,OAAS,GAC/Ckb,EAAY,MACZlU,EAAM8jB,WAAW9jB,EAAM5E,KAAK7B,MAE5B+pB,GAAgB,GAChBS,WAAW,kBAAMT,GAAgB,IAAQ,QAK5CD,EACCpjB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEO,MAAO,MAAO+P,WAAY,MAAxC,WAEA,YAMV1Q,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CACEC,eAAgBjkB,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IACzD2qB,YAAW,GAAA9pB,OAAK4F,EAAM5E,KAAK7B,GAAhB,WAAAa,OAA4B4F,EAAM+f,WAE5C,SAACoE,EAAcC,GACd,OACEnkB,EAAAC,EAAAC,cAAA,MAAA9F,OAAA+e,OAAA,CACE/Y,MAAO,CACL4G,cAAe,SACfxG,QAAS,OACTiB,UAAW1B,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAChD,EACA,GACJ4N,OAAM,eAAA/M,OAAiB4F,EAAM+f,SAAW,OAAS,QAA3C,KACNle,gBAAiB,QACjByN,cAAetP,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAAM,EAAI,KAEhE4qB,EAAaE,eAXnB,CAYEhF,IAAK8E,EAAa7E,WAEhBtf,EAAM0jB,eAAepoB,SAAS0E,EAAM5E,KAAK7B,IAcvC,KAbAU,EAAMC,IAAI,SAACU,EAAMgV,GAAP,OACR3P,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CAAWM,YAAa1pB,EAAKrB,GAAImc,MAAO9F,EAAGE,IAAKlV,EAAKrB,IAClD,SAACgrB,EAAcC,GAAf,OACCvkB,EAAAC,EAAAC,cAACyd,GAAD,CACEsB,SAAU,kBAAMlf,EAAMkf,SAAStkB,EAAKrB,KACpCY,QAAS6F,EAAM7F,QACfS,KAAMA,EACNokB,SAAUuF,EACVtF,SAAUuF,QAMrBL,EAAaM,eAKrBtB,GACCljB,EAAAC,EAAAC,cAAC8hB,GAAD,CACEnN,QAAS,kBAAMsO,EAAY,KAC3BjpB,QAAS6F,EAAM7F,QACfioB,OAAQpiB,EAAM7F,QAAQgB,MAAM,GAAG5B,GAC/BmrB,SAAUvB,oEC5Hd7kB,GAAiB,CACrBqmB,QAAS5I,GACTxN,WAAY/G,IAWDod,GAAgB/kB,YAtBZ,SAAC/G,EAAemlB,GAC/B,IAAM9jB,EAAUrB,EAAMJ,SAASa,EAAGT,EAAMJ,SAAUulB,EAASljB,YAE3D,MAAO,CACLH,KAAMT,EAAQF,MAAMV,EAAGY,EAAQF,MAAOgkB,EAASzjB,SAC/C9B,SAAUI,EAAMJ,WAmBlB4F,GAF2BuB,CAG3B,SAACG,GAAkB,IAAA0E,EAEKC,mBAASqX,oBAAUhc,EAAMpF,OAF9BgK,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAEZ9J,EAFYgK,EAAA,GAEN+f,EAFM/f,EAAA,GAAA8J,EAIMC,aAGvBsN,GAAiB,CACjB9P,YAAa,SAAAvE,GAAoB,IAAjB+V,EAAiB/V,EAAjB+V,WACd3d,EAAM2kB,QAAQ,CACZprB,GAAIokB,EAAWpkB,GACfwB,UAAWiF,EAAMjF,UACjBG,QAAQb,OAAAqB,EAAA,EAAArB,CAAA,GAAMsjB,QARbyB,EAJY/kB,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MAAAmW,EAiBMlW,aAGvBwN,GAAiB,CACjBhQ,YAAa,SAAAiM,GAAoB,IAAjB0M,EAAiB1M,EAAjB0M,WACdH,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHyqB,IAGL9kB,EAAM2kB,QAAQ,CACZprB,GAAIurB,EAAWvrB,GACfwB,UAAWiF,EAAMjF,UACjBG,QAAQb,OAAAqB,EAAA,EAAArB,CAAA,GAAMyqB,QAZbC,EAjBY1qB,OAAAwK,EAAA,EAAAxK,CAAAwqB,EAAA,MAAAG,EAkCIrW,aAGrB4N,GAAe,CACfrU,UAAW,CACT1N,OAAQwF,EAAMxF,OACdU,QAAS,CACPkB,KAAMxB,EAAKwB,KACX0jB,OAAQllB,EAAKklB,OACbjE,QAASjhB,EAAKihB,QAEdjb,MAAOhG,EAAKgG,OAEduZ,OAAQna,EAAMjF,aAbXkqB,EAlCY5qB,OAAAwK,EAAA,EAAAxK,CAAA2qB,EAAA,MAAAE,EAkDIvW,aAGrB8N,GAAe,CACftQ,YAAa,SAAAgZ,GAAkB,IAAfC,EAAeD,EAAfC,SACdplB,EAAMuO,WAAW,CAAEhV,GAAI6rB,EAASjrB,QAAQZ,GAAIkO,QAAS2d,EAASjrB,aAL3DkrB,EAlDYhrB,OAAAwK,EAAA,EAAAxK,CAAA6qB,EAAA,MA2Db/qB,EAAU6F,EAAMtH,SAASa,EAAGyG,EAAMtH,SAAUsH,EAAMjF,YAElDuqB,EAAcnrB,EAAQgB,MAAMoqB,KAAK,SAAAnqB,GAAI,OACzCA,EAAKC,QAAQC,SAASV,EAAKrB,MAC1BA,GA/DgB8R,EAiES1G,mBAAS2gB,GAjElBha,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAiEZ+W,EAjEY9W,EAAA,GAiEJ+W,EAjEI/W,EAAA,GAmEnB,OACErL,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACqF,GAAA,EAAD,CAAQlN,MAAI,EAACwc,QAAS,kBAAM9U,EAAM8U,YAChC7U,EAAAC,EAAAC,cAAA,QACE0M,SAAU,SAAAvG,GAUR,GATAtG,EAAM2kB,QAAQ,CACZprB,GAAIyG,EAAMpF,KAAKrB,GACfwB,UAAWiF,EAAMjF,UACjBG,QAASN,IAGX2d,QAAQ4G,IAAIvkB,GAEZqqB,IACI7C,IAAWkD,EAAa,CAC1B,IAAIE,EAAW,EAETC,EAAqBtrB,EAAQF,MAAMqY,OAAO,SAAAoT,GAC9C,OACEvrB,EAAQgB,MAAM5B,EAAGY,EAAQgB,MAAOinB,IAAS/mB,QAAQC,SAC/CV,EAAKrB,KACFqB,EAAKmlB,WAAa2F,EAAW3F,WAItC,GAAI0F,EAAmBzsB,OAAQ,CAC7B,IAAM2sB,EAAgBF,EAAmBvrB,IAAI,SAAA0rB,GAC3C,OAAOzrB,EAAQgB,MACb5B,EAAGY,EAAQgB,MAAOinB,IAClB/mB,QAAQG,QAAQoqB,EAAMrsB,MAG1BisB,EADenoB,KAAKwoB,IAAL5c,MAAA5L,KAAIhD,OAAAC,EAAA,EAAAD,CAAQsrB,IAI7BN,EAAa,CACXnd,UAAW,CACT4d,UAAWR,EACXS,UAAW3D,EACXoD,WACAjsB,GAAIqB,EAAKrB,GACTysB,YAAaprB,EAAKmlB,SAClBhlB,UAAWiF,EAAMjF,aAIvBuL,EAAEwG,iBACF9M,EAAM8U,WAERzU,MAAO,CACL8D,SAAU,IACVzC,UAAW,IACXI,QAAS,WACTwN,cAAe,KAGjBrP,EAAAC,EAAAC,cAAC8F,EAAA,EAAD,CAAa5F,MAAO,CAAE4lB,YAAa,QAAnC,aACAhmB,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACTyB,WAAY,SACZC,eAAgB,WAChBqO,KAAM,aAGRvQ,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEhN,MAAO,CAAEG,OAAQ,SACjB8M,UAAQ,EACR2B,WAAS,EACTzW,QAAQ,WACRoI,MAAM,YACN6F,MAAM,QACNd,MAAO/K,EAAKwB,KACZiK,SAAU,SAAA6f,GAAA,IAAG3Y,EAAH2Y,EAAG3Y,OAAH,OACRoX,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GAAKO,EAAN,CAAYwB,KAAMmR,EAAO5H,UAElC1E,WAAS,IAEXhB,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEhN,MAAO,CAAEG,OAAQ,QAASK,MAAO,OACjCyM,UAAQ,EACRrM,WAAS,EACTzI,QAAQ,WACRiO,MAAM,SACNd,MAAO/K,EAAKklB,OACZxmB,KAAK,SACL+M,SAAU,SAAAC,GACRA,EAAEsc,UACEC,SAASvc,EAAEiH,OAAO5H,QAAU,GAC9Bgf,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GAAKO,EAAN,CAAYklB,OAAQ+C,SAASvc,EAAEiH,OAAO5H,cAKrD1F,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQmB,UAAW,IACxC3B,EAAAC,EAAAC,cAAC2iB,GAAD,CACEliB,MAAOhG,EAAKgG,OAAS,UACrByF,SAAU,SAACzF,GACT+jB,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GAAKO,EAAN,CAAYgG,cAIvBX,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEQ,MAAO,MAErBZ,EAAAC,EAAAC,cAACuhB,GAAA,EAAD,CAAazgB,WAAS,GACpBhB,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,CACE1gB,WAAS,EACT0E,MAAOyc,EACP/b,SAAU,SAAAC,GACR+b,EAAU/b,EAAEiH,OAAO5H,S/C/LP,SAACjN,GAC7B,IAAIyC,EAAiB,GAMrB,OAJAzC,EAASwB,IAAI,SAAAC,GACXgB,EAAK,GAAAf,OAAAC,OAAAC,EAAA,EAAAD,CAAOc,GAAPd,OAAAC,EAAA,EAAAD,CAAiBF,EAAQgB,UAGzBA,E+C2LQgrB,CAAenmB,EAAMtH,UAAUwB,IAAI,SAACkB,EAAMwU,GACzC,OACE3P,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CAAU9R,IAAK1U,EAAK7B,GAAIoM,MAAOvK,EAAK7B,IAClC0G,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAK/E,EAAKgB,MADZ,MAC0B,IAEtB4D,EAAMtH,SAASa,EAAGyG,EAAMtH,SAAUsH,EAAMjF,YACrCqB,UAOf6D,EAAAC,EAAAC,cAAC6hB,GAAA,EAAD,sBAGJ/hB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEI,QAAS,OAAQmB,UAAW,IACxC3B,EAAAC,EAAAC,cAACimB,GAAAlmB,EAAD,CACE+iB,mBAAmB,YACnBtd,MAAO/K,EAAKihB,QAAU,IAAIvc,KAAK1E,EAAKihB,cAAW5iB,EAC/CoN,SAAU,SAAC6U,GACTyJ,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHO,EADE,CAELihB,QAASX,EAAOA,EAAKhI,WAAa,YAM1CjT,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CACE5M,MAAO,CACLuB,UAAW,GACXrB,SAAU,IAEZ/H,QAAQ,aALV,YASCoC,EAAKgB,SAAS1B,IAAI,SAAC+iB,EAASrN,GAAV,OACjB3P,EAAAC,EAAAC,cAAA,OAAK2P,IAAKmN,EAAQ1jB,GAAI8G,MAAO,CAAEI,QAAS,OAAQmB,UAAW,IACzD3B,EAAAC,EAAAC,cAACkmB,GAAA,EAAD,CACEhmB,MAAO,CAAEU,YAAa,GAAIF,MAAO,GAAIsG,OAAQ,IAC7Cmf,eAAa,EACbC,QAAS3rB,EAAKgB,SAASgU,GAAGwN,UAC1B/W,SAAU,SAAAC,GACR,IAAM1K,EAAQvB,OAAAC,EAAA,EAAAD,CAAOO,EAAKgB,UACpB4qB,GAAqB5qB,EAASgU,GAAGwN,UACvCxhB,EAASgU,GAAGwN,UAAYoJ,EACxB7B,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GAAKO,EAAN,CAAYgB,cAEnBwjB,EAAe,CACblX,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnB2mB,UAAWjD,EAAQ1jB,GACnB4mB,KAAM,CACJ/jB,KAAMxB,EAAKgB,SAASgU,GAAGxT,KACvBghB,UAAWoJ,SAMrBvmB,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEyC,IAAKmN,EAAQ1jB,GACbiH,OAAO,OACP8M,UAAQ,EACRrM,WAAS,EACTwF,MAAK,WAAArM,OAAawV,GAClBjK,MAAO/K,EAAKgB,SAASgU,GAAGxT,KACxBqqB,OAAQ,SAAAngB,GACN8Y,EAAe,CACblX,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnB2mB,UAAWjD,EAAQ1jB,GACnB4mB,KAAM,CACJ/jB,KAAMxB,EAAKgB,SAASgU,GAAGxT,KACvBghB,UAAWH,EAAQG,eAK3B/W,SAAU,SAAAC,GACRqe,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHO,EADE,CAELgB,SAAQ,GAAAxB,OAAAC,OAAAC,EAAA,EAAAD,CACHO,EAAKgB,SAASe,MAAM,EAAGiT,IADpB,CAAAvV,OAAAqB,EAAA,EAAArB,CAAA,GAEDO,EAAKgB,SAASgU,GAFb,CAEiBxT,KAAMkK,EAAEiH,OAAO5H,SAFhCtL,OAAAC,EAAA,EAAAD,CAGHO,EAAKgB,SAASe,MAAMiT,EAAI,WAKnC3P,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACE7F,MAAO,CACLS,WAAY,GACZD,MAAO,GACPsG,OAAQ,GACRvF,UAAW,QAEbjB,QAAS,WACPgkB,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHO,EADE,CAELgB,SAAUhB,EAAKgB,SAAS0W,OAAO,SAACoU,GAAD,OAASA,EAAIntB,KAAOqB,EAAKgB,SAASgU,GAAGrW,QAEtE6lB,EAAe,CACblX,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnB2mB,UAAWjD,EAAQ1jB,GACnB4mB,KAAM,UAKZlgB,EAAAC,EAAAC,cAAC4a,GAAA,EAAD,UAIN9a,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,WACR6H,MAAO,CACLuB,UAAW,EACXD,aAAc,EACdb,WAAY,QAEdH,QAAS,WACP,IAAMgmB,EAAYC,OAClBjC,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHO,EADE,CAELgB,SAAQ,GAAAxB,OAAAC,OAAAC,EAAA,EAAAD,CAAMO,EAAKgB,UAAX,CAAqB,CAACrC,GAAIotB,EAAWvJ,WAAW,EAAOhhB,KAAM,qBAGvEgjB,EAAe,CACblX,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnB2mB,UAAWyG,EACXxG,KAAM,CACJ/jB,KAAM,eACNghB,WAAW,QAMnBnd,EAAAC,EAAAC,cAACa,GAAA,EAAD,CAAKX,MAAO,CAAEU,YAAa,KA3B7B,eA+BAd,EAAAC,EAAAC,cAAC8M,GAAA,EAAD,CACE5M,MAAO,CACLuB,UAAW,GACXrB,SAAU,IAEZ/H,QAAQ,aALV,YASCoC,EAAKwlB,SAASlmB,IAAI,SAACmmB,EAASzQ,GAAV,OACjB3P,EAAAC,EAAAC,cAAA,OAAK2P,IAAKuQ,EAAQ9mB,GAAI8G,MAAO,CAAEuB,UAAW,EAAGnB,QAAS,SACpDR,EAAAC,EAAAC,cAACkN,GAAA,EAAD,CACEyC,IAAKuQ,EAAQ9mB,GACbiH,OAAO,QACPimB,OAAQ,SAAAngB,GACNye,EAAe,CACb7c,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnBstB,UAAWxG,EAAQ9mB,GACnB6W,YAAaxV,EAAKwlB,SAASxQ,GAAGyQ,YAIpC/S,UAAQ,EACRmX,YAAY,eACZxjB,WAAS,EACT0E,MAAO/K,EAAKwlB,SAASxQ,GAAGyQ,QACxB5Z,MAAOkV,GAActhB,OAAAqB,EAAA,EAAArB,CAAA,GAChBO,EADe,CAElBihB,QAASwE,EAAQC,UACjBxE,gBAAY7iB,KACX0D,MAAM,GACT0J,SAAU,SAAAC,GACR,IAAMwgB,EAAWzsB,OAAAC,EAAA,EAAAD,CAAOO,EAAKwlB,UAC7B0G,EAAYlX,GAAGyQ,QAAU/Z,EAAEiH,OAAO5H,MAElCgf,EAAQtqB,OAAAqB,EAAA,EAAArB,CAAA,GACHO,EADE,CAELwlB,SAAU0G,QAIhB7mB,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACE7F,MAAO,CACLS,WAAY,GACZc,UAAW,OACXf,MAAO,GACPsG,OAAQ,IAEVxG,QAAS,WACPokB,EAAe,CACb7c,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnBstB,UAAWxG,EAAQ9mB,QAKzB0G,EAAAC,EAAAC,cAAC4a,GAAA,EAAD,UAIN9a,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,WACRmI,QAAS,WACPokB,EAAe,CACb7c,UAAW,CACTiS,OAAQna,EAAMjF,UACdP,OAAQwF,EAAMpF,KAAKrB,GACnB6W,YAAa,cAInB/P,MAAO,CAAEuB,UAAW,IAEpB3B,EAAAC,EAAAC,cAACa,GAAA,EAAD,CAAKX,MAAO,CAAEU,YAAa,KAb7B,eAiBAd,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,OACTmB,UAAW,EACXO,eAAgB,aAGlBlC,EAAAC,EAAAC,cAACO,EAAA,EAAD,CAAQE,MAAM,YAAYtH,KAAK,SAASd,QAAQ,aAAhD,cC9YCuuB,GAAY,SAAC1a,GACxB,OAAOA,EAAO2a,YAAc,KA4TxB1oB,GAAiB,CACrBiQ,WAAY/G,GACZkW,aAAchW,GACdoD,aAAcvD,GACdwS,QAASN,IAGEwN,GAAUxjB,YAzWR,SAACC,GAAD,OACbC,YAAa,CACXujB,IAAK,CACHrjB,SAAU,QACVC,OAAQJ,EAAMK,QAAQ,GACtBO,MAAOZ,EAAMK,QAAQ,IAEvBojB,QAAS,CACP5mB,SAAU,IAEZ6mB,OAAQ,GACRrJ,MAAO,CACLb,SAAU,SACVrK,WAAY,SACZwU,aAAc,WACdljB,SAAU,MACV5D,SAAU,GACVyD,QAAS,OACTnC,gBAAiB,UACjB4O,aAAc,EACd5P,MAAO,OACPiB,QAAS,EACT2d,OAAQ,wBACR6H,UAAW,CACTzlB,gBAAiB,SAEnB0lB,UAAW,CACTC,YAAa,eA8UE/jB,CACrB5D,YAde,SAAC/G,EAAemlB,GAC/B,MAAO,CACL9jB,QAASrB,EAAMJ,SAASa,EAAGT,EAAMJ,SAAUulB,EAAS3E,OAAO/f,OAc3D+E,GAFFuB,CAxTe,SAACG,GAAkB,IAAA0E,EACQC,mBAAS,IADjBC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAC3B+iB,EAD2B7iB,EAAA,GACZ8iB,EADY9iB,EAAA,GAAAyG,EAEF1G,oBAAS,GAFP2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAE3Bsc,EAF2Brc,EAAA,GAEjBsc,EAFiBtc,EAAA,GAAAG,EAGE9G,oBAAS,GAHX+G,EAAArR,OAAAwK,EAAA,EAAAxK,CAAAoR,EAAA,GAG3Boc,EAH2Bnc,EAAA,GAGfoc,EAHepc,EAAA,GAAAG,EAIFlH,mBAASoiB,GAAU1a,SAJjBP,EAAAzR,OAAAwK,EAAA,EAAAxK,CAAAwR,EAAA,GAIjBkc,GAJiBjc,EAAA,GAAAA,EAAA,IAAAwW,EAKU3d,mBAAS,IALnB4d,EAAAloB,OAAAwK,EAAA,EAAAxK,CAAAioB,EAAA,GAK3BoB,EAL2BnB,EAAA,GAKXyF,EALWzF,EAAA,GAAA0F,EAUVtjB,mBACtB3E,EAAM7F,QAAU6F,EAAM7F,QAAQiC,UAAOnD,GAXLivB,EAAA7tB,OAAAwK,EAAA,EAAAxK,CAAA4tB,EAAA,GAU3B7rB,EAV2B8rB,EAAA,GAUrBzZ,EAVqByZ,EAAA,GAAAxZ,EAcTC,aAGvBiL,GAAiB,IAHZuO,EAd2B9tB,OAAAwK,EAAA,EAAAxK,CAAAqU,EAAA,MAAAmW,EAmBXlW,aAGrB8N,GAAe,IAHV4I,EAnB2BhrB,OAAAwK,EAAA,EAAAxK,CAAAwqB,EAAA,MAAAuD,EA6GIzjB,mBAAS0H,OAAO2a,YA7GpBqB,EAAAhuB,OAAAwK,EAAA,EAAAxK,CAAA+tB,EAAA,GA6G3BE,EA7G2BD,EAAA,GA6GdE,EA7GcF,EAAA,GA+GlCrjB,IAAMtC,UAAU,WAMd,OALA2J,OAAOmc,iBAAiB,SAAU,WAChCT,EAAYhB,GAAU1a,SACtBkc,EAAelc,OAAO2a,cAGjB,kBACL3a,OAAOoc,oBAAoB,SAAU,WACnCV,EAAYhB,GAAU1a,SACtBkc,EAAelc,OAAO2a,gBAEzB,IA1H+B,IAAAhC,EA4HRrW,aAGxBN,GAAkB,IAHbqa,EA5H2BruB,OAAAwK,EAAA,EAAAxK,CAAA2qB,EAAA,MAiI1B7f,EAAqBnF,EAArBmF,QAAShL,EAAY6F,EAAZ7F,QACjB,OAAIA,EAEA8F,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6L,GAAA9L,EAAD,KACED,EAAAC,EAAAC,cAAA,SAAO7G,KAAK,YAAZ,wCACA2G,EAAAC,EAAAC,cAAA,QACE/D,KAAM,cACN6P,QAAS,qCAGbhM,EAAAC,EAAAC,cAACkU,GAAA,EAAD,CAAQzT,MAAM,UAAUoF,UAAWb,EAAQiiB,OAAQvjB,SAAS,UAC1D5D,EAAAC,EAAAC,cAACoU,GAAA,EAAD,KACEtU,EAAAC,EAAAC,cAAA,SACEE,MAAO,CAAEQ,MAAK,GAAAzG,OAAKkuB,EAAc,IAAnB,OACdtiB,UAAWb,EAAQ4Y,MACnBpY,MAAOvJ,EACPqqB,OAAQ,kBACNiC,EAAgB,CACdxgB,UAAW,CACTT,QAAS,CAAErL,KAAMA,GAAQ,WACzB7C,GAAIY,EAAQZ,OAIlB8M,SAAU,SAACC,GAAD,OAAYmI,EAAQnI,EAAEiH,OAAO5H,UAEzC1F,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAES,WAAY,SACxBb,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAYvF,QAAS,kBAAM,OACzBV,EAAAC,EAAAC,cAACwoB,GAAA,EAAD,OAEF1oB,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CACEvF,QAAS,kBAAMinB,GAAY,IAC3BvnB,MAAO,CAAES,WAAY,IAErBb,EAAAC,EAAAC,cAACuG,EAAA,EAAD,OAEFzG,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAY7F,MAAO,CAAES,WAAY,IAC/Bb,EAAAC,EAAAC,cAACyoB,GAAA,EAAD,UAKR3oB,EAAAC,EAAAC,cAACsB,GAAA,EAAD,CACEpB,MAAO,CACLG,OAAQ,GACRsB,QAAS,GACTwN,cAAe,GACf5N,UAAW,wBAGbzB,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CAAiB6E,UAxJP,SAACpuB,GACjB,GAAKA,EAAOquB,cAIVruB,EAAOsuB,OAAO7E,cAAgBzpB,EAAOquB,YAAY5E,aACjDzpB,EAAOsuB,OAAOrT,QAAUjb,EAAOquB,YAAYpT,OAF7C,CAJwC,IAJ1BsT,EAI0BphB,EAWO,CAC7CnN,EAAOsuB,OAAO7E,YAAYjR,MAAM,WAChCxY,EAAOquB,YAAY5E,YAAYjR,MAAM,YAF/BgW,EAXgC5uB,OAAAwK,EAAA,EAAAxK,CAAAuN,EAAA,SAAAshB,EAAA7uB,OAAAwK,EAAA,EAAAxK,CAAAuN,EAAA,MAWlBuhB,EAXkBD,EAAA,GAWRE,EAXQF,EAAA,GAgBlCG,EAAcrN,aAAUhc,EAAM7F,SAE9BmvB,EAAWD,EAAYluB,MAAM5B,EAAG8vB,EAAYluB,MAAO8tB,IAEnDM,EAASF,EAAYluB,MAAM5B,EAAG8vB,EAAYluB,MAAOguB,IAGnDK,EACF/uB,EAAOquB,YAAYpT,MACnB1V,EAAM7F,QAAQF,MAAMwvB,OAAO,SAACC,EAAO9uB,GACjC,OACEA,EAAKmlB,SAAW8C,SAASuG,EAAY,KACrCG,EAAOluB,QAAQC,SAASV,EAAKrB,IAEtBmwB,EAAQ,EAEVA,GACN,GAGHJ,EAAS/vB,KAAOgwB,EAAOhwB,IACvByG,EAAM7F,QAAQF,MAAMV,EAAGyG,EAAM7F,QAAQF,MAAOQ,EAAO6pB,cAChDvE,WAAa8C,SAASuG,EAAY,KAGnCI,EACAF,EAASjuB,QAAQ3B,UAAU,SAAAc,GAAM,OAAIA,IAAWC,EAAO6pB,gBAGvDkF,GAAe,GAIfA,EAAc,IAChBA,EAAc,GAIhBF,EAASjuB,QAAUiuB,EAASjuB,QAAQiX,OAClC,SAAA9X,GAAM,OAAIA,IAAWC,EAAO6pB,cAI9BiF,EAAOluB,QAAQE,OAAOiuB,EAAa,EAAG/uB,EAAO6pB,aAG7C+E,EAAYpvB,MACVV,EAAG8vB,EAAYpvB,MAAOQ,EAAO6pB,cAC7BvE,SAAW8C,SAASuG,EAAY,IAGlCppB,EAAMuO,WAAW,CAAEhV,GAAIyG,EAAM7F,QAAQZ,GAAIkO,QAAS4hB,IAvEpCL,EAyEP,CACLzvB,GAAIkB,EAAO6pB,YACXkB,SAAUgE,EACV1D,UAAWmD,EACXlD,UAAWoD,EACXnD,YAAanD,SAASuG,GACtBruB,UAAWiF,EAAM7F,QAAQZ,IA9E3B8rB,EAAa,CAAEnd,UAAW8gB,OA4JlB/oB,EAAAC,EAAAC,cAAA,SACEE,MAAO,CACLspB,YAAa,QACb9oB,MAAO,OACP+oB,eAAgB,aAGlB3pB,EAAAC,EAAAC,cAAC4P,GAAA,EAAD,KACE9P,EAAAC,EAAAC,cAAA,MAAIE,MAAO,CAAEI,QAAS,SACnB,CAAC,EAAG,EAAG,GAAGvG,IAAI,SAAA2vB,GAAG,OAChB5pB,EAAAC,EAAAC,cAAA,MACE2P,IAAK+Z,EACLxpB,MAAO,CACLQ,MAAO,OACPgB,gBAAiB,UACjB4hB,WAAYoG,EAAM,OAAS,oBAC3BtG,YAAa,oBACbC,UAAW,oBACXljB,UAAW,SACXwB,QAAS,EACTvB,SAAU,KAGH,IAARspB,EACG,cACQ,IAARA,EACA,cACA,eAIT1vB,EAAQgB,MAAMjB,IAAI,SAAAkB,GAAI,OACrB6E,EAAAC,EAAAC,cAAA,MACEE,MAAO,CACLypB,cAAe,MACfrpB,QAAS,QAEXqP,IAAK1U,EAAK7B,IAET,CAAC,EAAG,EAAG,GAAGW,IAAI,SAAC6lB,EAAUnQ,GAAX,OACb3P,EAAAC,EAAAC,cAAC4pB,GAAD,CACEjG,WAAY,SAAA1B,GACVpiB,EAAM+Z,QAAQ,CACZxgB,GAAI6oB,EACJrnB,UAAWiF,EAAM7F,QAAQZ,GACzB2C,QAAS,OAEXisB,EAAe,CACbjgB,UAAW,CACTnN,UAAWiF,EAAM7F,QAAQZ,GACzBA,GAAI6B,EAAK7B,OAIfsqB,aAAc,SAAAzB,GACRsB,EAAepoB,SAAS8mB,GAC1B4F,EACEtE,EAAepR,OAAO,SAAA0X,GAAG,OAAI5H,IAAW4H,KAG1ChC,EAAiB,GAAA5tB,OAAAC,OAAAC,EAAA,EAAAD,CAAKqpB,GAAL,CAAqBtB,MAG1CsB,eAAgBA,EAChBxE,SAAU,SAAC+K,GAAD,OAAiBvC,EAAiBuC,IAC5Cna,IAAKF,EACLmQ,SAAUA,EACV3kB,KAAMA,EACNjB,QAASA,YAStB0tB,GACC5nB,EAAAC,EAAAC,cAAC6Z,GAAD,CACElF,QAAS,kBAAMgT,GAAc,IAC7B3tB,QAASA,KAKf8F,EAAAC,EAAAC,cAAC2V,GAAA,EAAD,CACEoU,UAAU,OACV/kB,QAAS,CAAEgiB,QAAShiB,EAAQgiB,SAC5BjiB,MAAM,YAENjF,EAAAC,EAAAC,cAACgqB,GAAA,EAAD,CACExpB,QAAS,kBAAMmnB,GAAc,IAC7BlnB,MAAM,UACNoF,UAAWb,EAAQ+hB,KAEnBjnB,EAAAC,EAAAC,cAACa,GAAA,EAAD,QAGH2mB,GACC1nB,EAAAC,EAAAC,cAACoa,GAAD,CACEpgB,QAAS6F,EAAM7F,QACf2a,QAAS,kBAAM8S,GAAY,MAG9BH,GACCxnB,EAAAC,EAAAC,cAACykB,GAAD,CACEpqB,OAAQitB,EACR3S,QAAS,kBAAM4S,EAAiB,KAChC3sB,UAAWiF,EAAM7F,QAAQZ,MAM5B0G,EAAAC,EAAAC,cAAC+O,GAAD,SCxTH5Q,GAAiB,CACrBwM,aAAcvD,IAGHb,GAAW7G,YACtB,KAD6BxF,OAAAqB,EAAA,EAAArB,CAAA,GAExBiE,IAFiBuB,CAGtB4D,YAzEa,SAACC,GAAD,OACbC,YAAa,CACXiS,KAAM,CACJ1R,SAAU,IACVpD,WAAY,OACZC,YAAa,OACbc,gBAAiB6B,EAAMc,QAAQsd,WAAW9a,MAC1CnG,MAAO,MACPe,UAAW,OAiEf6B,CA3DgB,SAACzD,GAAkB,IAC3BmF,EAAYnF,EAAZmF,QACR,OACElF,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAC6Q,GAAA,OAAD,KACE/Q,EAAAC,EAAAC,cAAA,aAAQ,wCAEVF,EAAAC,EAAAC,cAACsS,GAAA,EAAD,CACEC,UAAWzS,EAAAC,EAAAC,cAACwS,GAAA,EAAD,aACX3M,UAAWb,EAAQyQ,MAEnB3V,EAAAC,EAAAC,cAAC2S,GAAA,EAAD,KACE7S,EAAAC,EAAAC,cAACgT,GAAA,EAAD,CACEC,QAAQ,UACRhM,UAAU,iCAEZnH,EAAAC,EAAAC,cAAC+L,GAAA,EAAD,CACEQ,SAAU9B,GACVuB,YAAa,WACXG,SAASyF,KAAO,KAChBzF,SAAS8d,UAEX5d,QAAS,WACPxM,EAAM8K,aAAa,oCAAqC,WAGzD,SACCuf,EACA5vB,GAEA,OACEwF,EAAAC,EAAAC,cAACO,EAAA,EAAD,CACElI,QAAQ,YACRoI,MAAM,UACND,QAAS,kBAAM0pB,EAAO,CAAEniB,UAAW,MACnC7H,MAAO,CACLS,WAAY,SALhB,yCCtDZwpB,GAAU,SAACC,GAGf,IAFA,IAJejtB,EAIT7C,EAAS,GAENmV,EAAI,EAAGA,EAAI2a,EAAQ3a,IAC1BnV,EAAO0B,MAPMmB,EAOO,IANfD,KAAK8B,MAAM9B,KAAKmtB,SAAWntB,KAAK8B,MAAM7B,MAS7C,OAAO7C,GAGHoH,GAAkB,CACtB,0BACA,0BACA,0BACA,0BACA,0BACA,2BACA,4BAGI2lB,GAAc,CAClB,oBACA,oBACA,oBACA,oBACA,oBACA,qBACA,sBAGWiD,GAAY,WACvB,IAAMC,EAAW1lB,IAAM6Z,SA2CvB,OAzCA7Z,IAAMtC,UAAU,WACd,IAAMioB,EAAcD,EAAS5L,QAAgB8L,WAAW,MAGlDC,EAAQ,IAAIC,KAAMH,EAAY,CAClCrxB,KAAM,MACN8O,KAAM,CACJ2iB,OAAQ,CACN,UACA,WACA,QACA,QACA,MACA,OACA,QAEFC,SAAU,CACR,CACEvkB,MAAO,oCACP2B,KAAMkiB,GAAQ,GACdW,MAAM,EACNppB,mBACA2lB,eACA0D,YAAa,KAInBC,QAAS,CACPC,OAAQ,CAAEC,MAAO,CAAC,CAAEC,MAAO,CAAEC,aAAa,EAAMjuB,IAAK,WAInD8E,EAAWC,YAAY,WAC3BwoB,EAAMziB,KAAK4iB,SAAU,GAAG5iB,KAAOkiB,GAAQ,GAEvCO,EAAOW,UACN,KAEH,OAAO,kBAAM7oB,cAAcP,MAI3BnC,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAE6D,SAAU,MAAO1D,OAAQ,KACrCP,EAAAC,EAAAC,cAAA,UAAQ5G,GAAG,UAAU8lB,IAAKqL,mECjElC,IAAMe,GAAQ,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OA+F5CC,GAAUjoB,YA7FR,SAACC,GAAD,MAAmB,IA6FXD,CAAmB5D,YAPzB,SAAC/G,EAAemlB,GAAhB,MAAwC,CACvDhkB,MAAOnB,EAAMJ,SAAS+wB,OAAO,SAACC,EAAO/uB,GACnC,SAAAP,OAAAC,OAAAC,EAAA,EAAAD,CAAWqvB,GAAXrvB,OAAAC,EAAA,EAAAD,CAAqBM,EAAKV,SACzB,IACHvB,SAAUI,EAAMJ,WAGwBmH,CAzFzB,SAACG,GAAkB,IAdnB2rB,EAAUC,EAejBC,EAAsB7rB,EAAtB6rB,IAAK5xB,EAAiB+F,EAAjB/F,MAAOyb,EAAU1V,EAAV0V,MACduF,EAAY6Q,aAAOC,aAASF,EAAK,KACjCG,EAAW/xB,EAAMqY,OACrB,SAAA1X,GAAI,YACe3B,IAAjB2B,EAAKihB,SACLoQ,aAAQ,IAAI3sB,KAAK1E,EAAKihB,YAAeoQ,aAAQJ,KAQjD,OANIG,EAAShzB,QACXgzB,EAASE,KACP,SAAChsB,EAAGisB,GAAJ,OAAU,IAAI7sB,KAAKY,EAAE2b,SAAUuQ,UAAY,IAAI9sB,KAAK6sB,EAAEtQ,SAAUuQ,YAKlEnsB,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLkjB,YAAuB,IAAV7N,EAAc,yBAAsBzc,EACjDuX,KAAM,yBAGRvQ,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLwD,SAAU,WACVtD,SAAU,SACVoQ,WAAY,IACZnQ,OAAQ,cACR8O,cAAe,QACf1O,OA1CO+qB,EA0CQE,EA1CED,EA0CG,IAAItsB,KAxC9BqsB,EAAGU,gBAAkBT,EAAGS,eACxBV,EAAGW,aAAeV,EAAGU,YACrBX,EAAGM,YAAcL,EAAGK,UAsCoB,UAAY,UAG/CJ,EAAII,UACLhsB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEE,SAAU,WAAakrB,GAAMc,aAAOV,MAEpD5rB,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CACEC,eAAgBhJ,EAChBiJ,YAAa2H,EAAIO,UAAUlZ,YAE1B,SAAC8L,EAAUC,GAAX,OACChf,EAAAC,EAAAC,cAAA,MAAA9F,OAAA+e,OAAA,CACE/Y,MAAO,CACLwB,gBAAiBod,EAASuN,eAAiB,UAAY,QACvDC,WAAY,4BACZtlB,OAAQ,SAEN6X,EAASqF,eANf,CAOEhF,IAAKL,EAASM,WAEb0M,EAAS9xB,IAAI,SAACU,EAAMgV,GAAP,OACZ3P,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CACElU,IAAKlV,EAAKrB,GACVmc,MAAO9F,EACP0U,YAAa1pB,EAAKrB,GAAG2Z,YAEpB,SAACwZ,EAAMC,GAAP,OACC1sB,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAACoU,WAAY7E,EAAI,EAAI,KACjC3P,EAAAC,EAAAC,cAACyd,GAAD,CACEzjB,QACE6F,EAAMtH,SACJa,EACEyG,EAAMtH,SACN6B,EAAuByF,EAAMtH,SAAUkC,EAAKrB,MAIlD2lB,SAAU,kBAAM,MAChBF,SAAU0N,EACVzN,SAAU0N,EACV/xB,KAAMA,SAMbokB,EAASyF,uCCpEhBmI,GAA0B,CAC9B1qB,WAAY,SACZsO,KAAM,EACN/P,QAAS,OACT0B,eAAgB,UA2DL0qB,GAAeppB,YAnFb,SAACC,GAAD,IAAAopB,EAAA,OACbnpB,YAAa,CACXopB,KAAGD,EAAA,GAAAzyB,OAAAwM,GAAA,EAAAxM,CAAAyyB,EACAppB,EAAMoD,YAAYC,GALR,KAIV1M,OAAAqB,EAAA,EAAArB,CAAA,GAEIuyB,KAFJvyB,OAAAwM,GAAA,EAAAxM,CAAAyyB,EAIAppB,EAAMoD,YAAYyP,KARR,KAQyB,CAClCxV,YAAa,SALd+rB,MAiFqBrpB,CAtDN,SAACzD,GAAkB,IAC/BtH,EAAqCsH,EAArCtH,SAAUs0B,EAA2BhtB,EAA3BgtB,cAAeC,EAAYjtB,EAAZitB,QAGjC,OADA1U,QAAQ4G,IAAInf,GAEVC,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLI,QAAS,SAGXR,EAAAC,EAAAC,cAACwhB,GAAA,EAAD,CACEthB,MAAKhG,OAAAqB,EAAA,EAAArB,CAAA,CAAI6J,SAAU,OAAU0oB,IAC7BjnB,MAA0B,IAAnBsnB,EAAQj0B,OAAe,CAAC,MAAQi0B,EACvC5mB,SAAU,SAAAC,GACR,IAAM4mB,EAAsB5mB,EAAEiH,OAAO5H,MAAc2M,OACjD,SAAC6a,GAAD,MAAyB,OAARA,IAEnBH,EAEI1mB,EAAUiH,OAAO5H,MAAMrK,SAAS,QAC/B2xB,EAAQ3xB,SAAS,OACY,IAA9B4xB,EAAmBl0B,OACjB,CAAC,MACDk0B,IAGRE,UAAQ,GAERntB,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CAAUjc,OAAQ,GAAlB,gBACCtL,OAAOK,OAAOhC,GAAUwB,IAAI,SAAAC,GAAO,OAClC8F,EAAAC,EAAAC,cAACyhB,GAAA,EAAD,CAAU9R,IAAK3V,EAAQZ,GAAIoM,MAAOxL,EAAQZ,IACvCY,EAAQiC,SAIf6D,EAAAC,EAAAC,cAAA,OAAK6F,UAAWhG,EAAMmF,QAAQ4nB,KAC5B9sB,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAYvF,QAAS,kBAAMX,EAAMqtB,QAAQC,aAAQttB,EAAMutB,SAAU,MAC/DttB,EAAAC,EAAAC,cAACqtB,GAAA,EAAD,OAEFvtB,EAAAC,EAAAC,cAAA,QAAME,MAAO,CAAEG,OAAQ,SAAvB,GAAApG,OACMqhB,aAAOzb,EAAMutB,SAAU,SAD7B,OAAAnzB,OAC2CqhB,aACvCgS,aAAQztB,EAAMutB,SAAU,GACxB,WAGJttB,EAAAC,EAAAC,cAAC+F,EAAA,EAAD,CAAYvF,QAAS,kBAAMX,EAAMqtB,QAAQI,aAAQztB,EAAMutB,SAAU,MAC/DttB,EAAAC,EAAAC,cAACutB,GAAA,EAAD,QAGHrhB,OAAO2a,YAhFG,KAgFuB/mB,EAAAC,EAAAC,cAAA,OAAKE,MAAOusB,kBCpD9Ce,GAAQlqB,YAhBC,SAACC,GAAD,OACbC,YAAa,CACXiqB,cAAe,CACbnO,OAAQ,oBACRhP,aAAc,QACdod,UAAW,SACXjsB,UAAW,IAEbksB,eAAgB,CACdpsB,UAAW,IACXmsB,UAAW,OACXptB,QAAS,OACT+P,KAAM,eAIE/M,CAAmB,SAACzD,GAAkB,IAAA0E,EACJC,mBAAS,CAAC,OADNC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GAC3CqpB,EAD2CnpB,EAAA,GAC1BopB,EAD0BppB,EAAA,GAAAyG,EAEpB1G,mBAAS,IAAIrF,MAFOgM,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAE3C4iB,EAF2C3iB,EAAA,GAElC4iB,EAFkC5iB,EAAA,GAI5C6iB,EAAWnuB,EAAMtH,SAAS+wB,OAAO,SAACxvB,EAAOE,GAC7C,SAAAC,OAAAC,OAAAC,EAAA,EAAAD,CAAWJ,GAAXI,OAAAC,EAAA,EAAAD,CAAqBF,EAAQF,SAC5B,IAEGm0B,EAAYvZ,QAAQsZ,EAAS7b,OAAO,SAAC1X,GAAD,YAA2B3B,IAAjB2B,EAAKihB,UAAuB7iB,QA+B1EkG,EAhEQ,SAACmvB,GAEf,IADA,IAAM5zB,EAAiB,CAAC6yB,aAAQe,EAAO,GAAIA,GAClCze,EAAI,EAAGA,EAAI,EAAGA,IACrBnV,EAAO0B,KAAKsxB,aAAQY,EAAOze,EAAI,IAGjC,OAAOnV,EA0DM6zB,CAAQL,GACrB,OACEhuB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAAA,OAAKE,MAAO,CAAEG,OAAQ,KACpBP,EAAAC,EAAAC,cAAC0sB,GAAD,CACEU,SAAUruB,EAAK,GACf+tB,QAASc,EACTr1B,SAAUsH,EAAMtH,SAChBs0B,cAAe,SAAC7S,GACd6T,EAAmB7T,IAErBkT,QAAS,SAACkB,GAAD,OAAkBL,EAAWK,MAExCtuB,EAAAC,EAAAC,cAAC6jB,GAAA,EAAD,CAAiB6E,UA1CL,SAACpuB,GAAuB,IAChCsuB,EAAqCtuB,EAArCsuB,OAAQD,EAA6BruB,EAA7BquB,YAAaxE,EAAgB7pB,EAAhB6pB,YAE7B,GAAKwE,GAAeC,EAAO7E,cAAgB4E,EAAY5E,YAAvD,CAIA,IAAMtpB,EAAOuzB,EAAS50B,EAAG40B,EAAU7J,IAU7BppB,EAAOb,OAAAqB,EAAA,EAAArB,CAAA,GACRO,EADQ,CAEXihB,QAVkB,SAAC2S,GACnB,IAAMD,EAAS,IAAIjvB,KAAKujB,SAASiG,EAAY5E,cAEvCuK,EAAOC,aAAyBH,EAAQ,IAAIjvB,KAAKkvB,IAEvD,OAAOf,aAAQ,IAAInuB,KAAKkvB,GAAcC,GAAMvb,WAKnCyb,CAAYR,EAAS50B,EAAG40B,EAAU7J,IAAczI,WAG3D7b,EAAM2kB,QAAQ,CACZprB,GAAI+qB,EACJppB,UACAH,UAAWR,EAAuByF,EAAMtH,SAAU4rB,QAkB9CrkB,EAAAC,EAAAC,cAAA,OAAK6F,UAAWhG,EAAMmF,QAAQyoB,eAC5B3tB,EAAAC,EAAAC,cAAA,OAAK6F,UAAWhG,EAAMmF,QAAQ2oB,gBAC3B5uB,EAAKhF,IAAI,SAAC2xB,EAAKjc,GAAN,OACR3P,EAAAC,EAAAC,cAACurB,GAAD,CACEkD,kBAAmBb,EACnBlC,IAAKA,EACL/b,IAAKF,EACL8F,MAAO9F,UAOlBwe,GACCnuB,EAAAC,EAAAC,cAAA,MAAIE,MAAO,CAACG,OAAQ,YAAaF,UAAW,WAA5C,uCAUFhC,GAAiB,CACrBqmB,QAAS5I,IAGE8S,GAAehvB,YARX,SAAC/G,GAAD,MAAoB,CACnCJ,SAAUI,EAAMJ,WAShB4F,GAF0BuB,CAG1B8tB,+GCrGF,IAOMjqB,GAAQorB,YAAe,CAC3BtqB,QAAS,CACP4O,QAAS,CACP/L,KATU,WAWZD,UAAW,CACTC,KAbY,cAkBL0nB,GAA0B,CACrClrB,SAAU,QACVC,OAAQJ,GAAMK,QAAQ,GACtBE,KAAMP,GAAMK,QAAQ,GACpBK,OAAQ,KAYJ4qB,GAAS,WAAM,IAAAtqB,EACKC,oBAAS,GADdC,EAAAvK,OAAAwK,EAAA,EAAAxK,CAAAqK,EAAA,GACZpM,EADYsM,EAAA,GACNqqB,EADMrqB,EAAA,GAAAyG,EAES1G,oBAAS,GAFlB2G,EAAAjR,OAAAwK,EAAA,EAAAxK,CAAAgR,EAAA,GAEZ6jB,EAFY5jB,EAAA,GAEJ6jB,EAFI7jB,EAAA,GAwBnB,OApBAe,OAAO+iB,OAAP/0B,OAAAwN,EAAA,EAAAxN,CAAAyN,EAAA5H,EAAA6H,KAAgB,SAAAC,IAAA,IAAAoQ,EAAAiX,EAAA,OAAAvnB,EAAA5H,EAAAmI,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAC,KAAA,EAAAD,EAAAE,KAAA,EAIgDb,GAC1D2nB,aAAM5kB,KALI,OAAA0N,EAAA9P,EAAAO,MAGVwmB,EAHUjX,EAGViX,kBAKqBA,EAAgB73B,KACrCiH,EAAM2K,SAASO,GAAO0lB,EAAgB73B,OAEtCiH,EAAM2K,SAAS7B,GAAc,sBAAuB,aAGtD4nB,GAAU,GAdE7mB,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAinB,GAAAjnB,EAAA,SAgBZ6mB,GAAU,GAhBE,yBAAA7mB,EAAA5C,SAAAsC,EAAA,iBAqBd/H,EAAAC,EAAAC,cAACqvB,EAAA,EAAD,KACEvvB,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAACgW,GAAD,MACAlW,EAAAC,EAAAC,cAACqD,GAAD,CAAUlL,KAAMA,EAAM8M,UAAW,SAACqqB,GAAD,OAAmBR,EAAQQ,OAE1Dn3B,GACA2H,EAAAC,EAAAC,cAAAF,EAAAC,EAAAE,SAAA,KACEH,EAAAC,EAAAC,cAACgqB,GAAA,EAAD,CACE9pB,MAAO0uB,GACPnuB,MAAM,YACND,QAAS,kBAAMsuB,GAAQ,KAEvBhvB,EAAAC,EAAAC,cAACuvB,GAAA,EAAD,QAILR,EACCjvB,EAAAC,EAAAC,cAACgZ,EAAA,EAAD,KACElZ,EAAAC,EAAAC,cAAC2Y,GAAD,CACE6W,OAAK,EACLrX,KAAK,YACLpL,UAAWxG,GACXsS,eAAgB,KAElB/Y,EAAAC,EAAAC,cAAC2Y,GAAD,CACE6W,OAAK,EACLrX,KAAK,YACLpL,UAAW2hB,GACX7V,eAAgB,KAElB/Y,EAAAC,EAAAC,cAACqZ,GAAD,CACEmW,OAAK,EACLrX,KAAK,SACLpL,UAAWhC,GACX8N,eAAgB,CAAE7N,SAAU,WAE9BlL,EAAAC,EAAAC,cAACqZ,GAAD,CACEmW,OAAK,EACLrX,KAAK,YACLpL,UAAWhC,GACX8N,eAAgB,CAAE7N,SAAU,cAE9BlL,EAAAC,EAAAC,cAAC2Y,GAAD,CACE6W,OAAK,EACLrX,KAAK,kBACLpL,UAAWsB,GACXwK,eAAgB,KAElB/Y,EAAAC,EAAAC,cAAC2Y,GAAD,CACE6W,OAAK,EACLrX,KAAK,eACLpL,UAAW+Z,GACXjO,eAAgB,KAElB/Y,EAAAC,EAAAC,cAAC2Y,GAAD,CACE6W,OAAK,EACLrX,KAAK,aACLpL,UAAWud,GACXzR,eAAgB,KAElB/Y,EAAAC,EAAAC,cAACqZ,GAAD,CACEmW,OAAK,EACLrX,KAAK,IACLpL,UAAW0D,GACXoI,eAAgB,iBAAO,MAEzB/Y,EAAAC,EAAAC,cAACgZ,EAAA,EAAD,CAAOjM,UAAWgC,MAGpBjP,EAAAC,EAAAC,cAAA,OACEE,MAAO,CACLwD,SAAU,WACVU,IAAK,EACLT,OAAQ,EACRG,KAAM,EACNK,MAAO,EACP7D,QAAS,OACT0B,eAAgB,iBAGlBlC,EAAAC,EAAAC,cAACyN,GAAA,EAAD,CACEvN,MAAO,CACLQ,MAAO,QACPsG,OAAQ,QACRpG,YAAa,GACba,UAAW,WAUdguB,GAAU,WACrB,OACE3vB,EAAAC,EAAAC,cAAC0vB,EAAA,EAAD,CAAUpxB,MAAOA,GACfwB,EAAAC,EAAAC,cAAC2vB,GAAA,EAAD,CAAgBhY,OAAQA,IACtB7X,EAAAC,EAAAC,cAAC4vB,EAAA,EAAD,CAAkBrsB,MAAOA,IACvBzD,EAAAC,EAAAC,cAACsW,GAAD,MACAxW,EAAAC,EAAAC,cAAC6vB,GAAD,UAUJC,GAAkBC,EAAQ,KAEhCC,KAAOC,OAAO,MACdH,KAEA5W,iBAAOpZ,EAAAC,EAAAC,cAACkwB,GAAD,MAAaprB,SAASqrB,eAAe","file":"static/js/main.795ae498.chunk.js","sourcesContent":["import { TSnackbar } from '../types/state'\r\n\r\nimport { TState } from '../types/state'\r\n\r\nexport const defaultSnackbar: TSnackbar = {\r\n  open: false,\r\n  message: \"YOU CAN'T SEE ME! BAM DAM WHAN CHAM, Boo do do dodo doooo\",\r\n  variant: 'success'\r\n}\r\n\r\nexport const defaultState: TState = {\r\n  user: null,\r\n  pomodoro: {\r\n    paused: true,\r\n    working: true,\r\n    selectingTask: false,\r\n    selectedTaskId: null,\r\n    currSeconds: 60 * 25, // will be reset to startSeconds when they click start either way\r\n    breakSeconds: 60 * 5,\r\n    workSeconds: 60 * 25,\r\n    stopWatch: {\r\n      pastTimes: [],\r\n      time: 0,\r\n      paused: true,\r\n      highest: 0\r\n    }\r\n  },\r\n  snackbar: defaultSnackbar,\r\n  isLoading: false,\r\n  projects: []\r\n}\r\n","import createNextState, { Draft } from 'immer'\r\nimport { Reducer } from 'redux'\r\nimport { TState } from '../../types/state'\r\nimport { TAction, ReducerCases } from '../actions/types'\r\n\r\n/**\r\n * An *case reducer* is a reducer function for a speficic action type. Case\r\n * reducers can be composed to full reducers using `createReducer()`.\r\n *\r\n * Unlike a normal Redux reducer, a case reducer is never called with an\r\n * `undefined` state to determine the initial state. Instead, the initial\r\n * state is explicitly specified as an argument to `createReducer()`.\r\n *\r\n * In addition, a case reducer can choose to mutate the passed-in `state`\r\n * value directly instead of returning a new state. This does not actually\r\n * cause the store state to be mutated directly; instead, thanks to\r\n * [immer](https://github.com/mweststrate/immer), the mutations are\r\n * translated to copy operations that result in a new state.\r\n */\r\nexport type CaseReducer<S = TState, A = TAction> = (\r\n  state: Draft<S>,\r\n  action: A\r\n) => S | void\r\n\r\n/**\r\n * A mapping from action types to case reducers for `createReducer()`.\r\n */\r\n\r\nexport const createReducer = <S = TState>(\r\n  initialState: S,\r\n  actionsMap: ReducerCases<S>\r\n): Reducer<S> => {\r\n  return (state = initialState, action: TAction): S => {\r\n    // @ts-ignore createNextState() produces an Immutable<Draft<S>>\r\n    return createNextState(state, (draft: Draft<S>) => {\r\n      const caseReducer = actionsMap[action.type]\r\n      return caseReducer ? caseReducer(draft as any, action as any) : undefined\r\n    })\r\n  }\r\n}\r\n","import { cloneDeep } from 'lodash'\r\nimport { TProject, TTask, TList } from '../types/project'\r\n\r\nexport const id = (\r\n  arr: Array<any & { id: string }>,\r\n  passedId: string\r\n): number => {\r\n  return arr.findIndex(item => item.id === passedId)\r\n}\r\n\r\nexport const formalize = (str: string): string => {\r\n  return str\r\n    .toLowerCase()\r\n    .replace(/,/g, '')\r\n    .replace(/ /g, '')\r\n}\r\n\r\nexport const filterItemsFromIds = <T = any>(\r\n  ids: number[],\r\n  items: { [id: string]: any } & T // add index signature\r\n): T => {\r\n  const newItems = cloneDeep(items) // changed in past :()\r\n  Object.keys(newItems)\r\n    .map(key => parseInt(key, 10)) // Object.keys returns strings nomatter what\r\n    .forEach((key: any) => {\r\n      if (!ids.includes(key)) {\r\n        delete newItems[key]\r\n      }\r\n    })\r\n  return newItems\r\n}\r\n\r\nexport const getDaysInMonth = (month: number, year: number): Date[] => {\r\n  // Since no month has fewer than 28 days\r\n  const date: Date = new Date(year, month, 1)\r\n  const days: Date[] = []\r\n  while (date.getMonth() === month) {\r\n    days.push(new Date(date))\r\n    date.setDate(date.getDate() + 1)\r\n  }\r\n  return days\r\n}\r\n\r\nexport const getAllTasks = (projects: TProject[]): TTask[] => {\r\n  let tasks: TTask[] = []\r\n\r\n  projects.map(project => {\r\n    tasks = [...tasks, ...project.tasks]\r\n    return\r\n  })\r\n\r\n  return tasks\r\n}\r\n\r\nexport const getAllListsArr = (projects: TProject[]): TList[] => {\r\n  let lists: TList[] = []\r\n\r\n  projects.map(project => {\r\n    lists = [...lists, ...project.lists]\r\n  })\r\n\r\n  return lists\r\n}\r\n\r\nexport const getProjectIdFromTaskId = (\r\n  projects: TProject[],\r\n  taskId: string\r\n): string => {\r\n  let result = ''\r\n\r\n  Object.values(projects).map(proj => {\r\n    Object.values(proj.tasks).map(task => {\r\n      if (task.id === taskId) {\r\n        result = proj.id\r\n      }\r\n      return\r\n    })\r\n  })\r\n\r\n  return result\r\n}\r\n\r\nexport const moveInArray = (element: any, index: number, offset: number) => {\r\n  const newIndex = index + offset\r\n\r\n  const newArr = [...element]\r\n\r\n  if (newIndex > -1 && newIndex < newArr.length) {\r\n    const removedElement = newArr.splice(index, 1)[0]\r\n    newArr.splice(newIndex, 0, removedElement)\r\n  }\r\n\r\n  return newArr\r\n}\r\n","import { ReducerCases } from '../actions/types'\r\nimport { setSubtaskA, setTaskA } from '../actions/task'\r\nimport { tickA } from '../actions/pomodoro'\r\nimport { TProject } from '../../types/project'\r\nimport { id } from '../../utils/utilities'\r\n\r\nconst SET_TASK = (\r\n  projects: TProject[],\r\n  action: ReturnType<typeof setTaskA>\r\n) => {\r\n  const project = projects[id(projects, action.projectId)]\r\n  const tasks = project.tasks\r\n  if (action.newTask === null) {\r\n    // REFERENCE CLEANUP\r\n\r\n    project.lists.map(list => {\r\n      if (list.taskIds.includes(action.id)) {\r\n        list.taskIds.splice(list.taskIds.indexOf(action.id), 1)\r\n      }\r\n    })\r\n\r\n    project.tasks.splice(project.tasks.findIndex(tsk => tsk.id === action.id))\r\n  } else {\r\n    tasks[id(tasks, action.id)] = {\r\n      ...action.newTask\r\n    }\r\n  }\r\n}\r\n\r\nconst SET_SUBTASK = (projects: TProject[], action: ReturnType<typeof setSubtaskA>) => {\r\n  const project = projects[id(projects, action.projectId)]\r\n  const task = project.tasks[id(project.tasks, action.taskId)]\r\n\r\n  task.subTasks[id(task.subTasks, action.id)] = action.newSubtask\r\n  project.tasks[id(project.tasks, action.taskId)] = task\r\n}\r\n// const SET_COLUMN = () => {}\r\n\r\nconst TICK = (projects: TProject[], action: ReturnType<typeof tickA>) => {\r\n  if (action.taskId && action.projectId) {\r\n    const proj = projects[id(projects, action.projectId)]\r\n    proj.tasks[id(proj.tasks, action.taskId)].timeWorkedOn += 1\r\n  }\r\n}\r\n\r\nexport const taskCases = {\r\n  TICK,\r\n  SET_TASK,\r\n  SET_SUBTASK\r\n} as ReducerCases<TProject[]>\r\n","import { TProject } from '../../types/project'\r\nimport { defaultState } from '../defaultState'\r\nimport { createReducer } from './createReducer'\r\nimport { TState } from '../../types/state'\r\nimport { setProjectA, setProjectsA } from '../actions/project'\r\nimport { setListA } from '../actions/list'\r\nimport { ReducerCases } from '../actions/types'\r\nimport { taskCases } from './tasks'\r\nimport { id } from '../../utils/utilities'\r\n\r\nconst SET_PROJECT = (\r\n  projects: TProject[],\r\n  action: ReturnType<typeof setProjectA>\r\n) => {\r\n  if (action.project) {\r\n    projects[id(projects, action.id)] = action.project\r\n  } else {\r\n    delete projects[id(projects, action.id)]\r\n  }\r\n}\r\n\r\nconst SET_LIST = (\r\n  projects: TProject[],\r\n  action: ReturnType<typeof setListA>\r\n) => {\r\n  const changing = projects[id(projects, action.projectId)].lists\r\n\r\n  if (action.newList) {\r\n    changing.push({\r\n      taskIds: action.newList.taskIds || [],\r\n      name: action.newList.name || 'List',\r\n      id: action.id,\r\n    })\r\n  } else {\r\n    changing.splice(id(changing, action.id), 1)\r\n  }\r\n}\r\nconst projectCases: ReducerCases<TProject[]> = {\r\n  SET_PROJECT,\r\n  SET_LIST,\r\n  SET_PROJECTS: (projects, action: ReturnType<typeof setProjectsA>) => {\r\n    return action.projects\r\n  }\r\n}\r\n\r\nexport const projectsReducer = createReducer<TState['projects']>(\r\n  defaultState.projects,\r\n  {\r\n    ...projectCases,\r\n    ...taskCases\r\n  } as ReducerCases<TState['projects']>\r\n)\r\n","import {\r\n  selectPomodoroTaskA,\r\n  resetPomodoroA,\r\n  toggleTimerA\r\n} from './../actions/pomodoro'\r\nimport { defaultState } from '../defaultState'\r\nimport { createReducer } from './createReducer'\r\nimport { TState, TPomodoro } from '../../types/state'\r\nimport {\r\n  tickA,\r\n  toggleStopwatchA,\r\n  setLengthA,\r\n  resetStopwatchA,\r\n  setTimeDevA,\r\n  toggleSelectingTaskA\r\n} from '../actions/pomodoro'\r\nimport { ReducerCases } from '../actions/types'\r\n\r\nconst TICK = (pom: TPomodoro, action: ReturnType<typeof tickA>) => {\r\n  if (pom.currSeconds > 0 && !pom.paused) {\r\n    // just a double check\r\n    pom.currSeconds -= 1\r\n  } else {\r\n    pom.paused = true\r\n    pom.working = !pom.working\r\n    pom.currSeconds = !pom.working ? pom.workSeconds : pom.breakSeconds\r\n  }\r\n}\r\nconst TOGGLE_TIMER = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof toggleTimerA>\r\n) => {\r\n  pom.paused = !pom.paused\r\n}\r\n\r\nconst RESET_POMODORO = (\r\n  pomodoro: TPomodoro,\r\n  action: ReturnType<typeof resetPomodoroA>\r\n) => defaultState.pomodoro\r\n\r\nconst SELECT_POMODORO_TASK = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof selectPomodoroTaskA>\r\n) => {\r\n  pom.selectingTask = false\r\n\r\n  if (action.taskId === pom.selectedTaskId) {\r\n    pom.selectedTaskId = null // deselect\r\n  } else {\r\n    pom.selectedTaskId = action.taskId\r\n  }\r\n}\r\n\r\nconst TOGGLE_SELECTING_TASK = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof toggleSelectingTaskA>\r\n) => {\r\n  pom.selectingTask = !pom.selectingTask\r\n}\r\n\r\nconst SET_TIME_DEV = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof setTimeDevA>\r\n) => {\r\n  pom.currSeconds = 4\r\n}\r\n\r\nconst TICK_STOPWATCH = (pom: TPomodoro, action: ReturnType<typeof tickA>) => {\r\n  pom.stopWatch.time += 1\r\n  pom.stopWatch.highest = Math.max(pom.stopWatch.time, pom.stopWatch.highest)\r\n}\r\n\r\nconst TOGGLE_STOPWATCH = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof toggleStopwatchA>\r\n) => {\r\n  pom.stopWatch.paused = !pom.stopWatch.paused\r\n}\r\n\r\nconst RESET_STOPWATCH = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof resetStopwatchA>\r\n) => {\r\n  // don't reset highscore!\r\n  pom.stopWatch.time = 0\r\n  pom.stopWatch.paused = true\r\n}\r\n\r\nconst SET_LENGTH_MINUTES = (\r\n  pom: TPomodoro,\r\n  action: ReturnType<typeof setLengthA>\r\n) => {\r\n  const slice = action.operationType === 'WORK' ? 'workSeconds' : 'breakSeconds'\r\n\r\n  const changingCurrent =\r\n    (action.type === 'CHANGE_WORK_TIME' && pom.working) ||\r\n    (action.type === 'CHANGE_BREAK_TIME' && !pom.working)\r\n\r\n  const result = pom[slice] + action.minutes * 60\r\n\r\n  if (result >= 0) {\r\n    const newSeconds = changingCurrent\r\n      ? pom.currSeconds + action.minutes * 60\r\n      : pom.currSeconds\r\n\r\n    pom.currSeconds = newSeconds\r\n    pom[slice] = result\r\n  }\r\n}\r\n\r\nexport const pomodoroReducer = createReducer<TState['pomodoro']>(\r\n  defaultState.pomodoro,\r\n  {\r\n    TICK,\r\n    TOGGLE_TIMER,\r\n    SET_LENGTH_MINUTES,\r\n    RESET_POMODORO,\r\n    SELECT_POMODORO_TASK,\r\n    TOGGLE_SELECTING_TASK,\r\n    SET_TIME_DEV,\r\n    TICK_STOPWATCH,\r\n    TOGGLE_STOPWATCH,\r\n    RESET_STOPWATCH\r\n  } as ReducerCases<TState['pomodoro']>\r\n)\r\n","import { ReducerCases } from '../actions/types'\r\nimport { defaultState } from '../defaultState'\r\nimport { createReducer } from './createReducer'\r\nimport { TAuthUser, TState } from '../../types/state'\r\nimport { TRegister, TLogin } from '../actions/auth'\r\n\r\nconst REGISTER = (user: TAuthUser, action: TRegister) => {\r\n  return action.user\r\n}\r\nconst LOGIN = (user: TAuthUser, action: TLogin) => {\r\n  return action.user\r\n}\r\n\r\nconst userCases: ReducerCases<TState['user']> = {\r\n  REGISTER,\r\n  LOGIN\r\n}\r\n\r\n/** tags will be stored in a store, tasks can select tags */\r\nexport const userReducer = createReducer<TState['user']>(\r\n  defaultState.user,\r\n  userCases\r\n)\r\n","import { projectsReducer } from './projects'\r\nimport { pomodoroReducer } from './pomodoro'\r\nimport { TAction } from '../actions/types'\r\nimport { Reducer, combineReducers } from 'redux'\r\nimport { TState } from '../../types/state'\r\nimport { ReducerCases } from '../actions/types'\r\nimport { createReducer } from './createReducer'\r\nimport { TStartLoading, TStopLoading } from '../actions/loading'\r\nimport { TOpenSnackbar } from '../actions/snackbar'\r\nimport { defaultState } from '../defaultState'\r\nimport { userReducer } from './user'\r\n\r\nconst snackbarReducers: ReducerCases<TState['snackbar']> = {\r\n  OPEN_SNACKBAR: (state, action: TOpenSnackbar) => {\r\n    state.open = true\r\n    state.message = action.message\r\n    state.variant = action.variant\r\n  },\r\n  CLOSE_SNACKBAR: (state, action) => {\r\n    state.open = false\r\n  }\r\n}\r\n\r\nexport const snackbarReducer = createReducer<TState['snackbar']>(\r\n  defaultState.snackbar,\r\n  snackbarReducers\r\n)\r\n\r\nconst loadingReducers: ReducerCases<boolean> = {\r\n  START_LOADING: (state, action: TStartLoading) => true,\r\n  STOP_LOADING: (state, action: TStopLoading) => false\r\n}\r\n\r\nconst loadingReducer = createReducer<boolean>(false, loadingReducers)\r\n\r\nexport const reducer: Reducer<TState, TAction> = combineReducers({\r\n  isLoading: loadingReducer,\r\n  snackbar: snackbarReducer,\r\n  projects: projectsReducer,\r\n  pomodoro: pomodoroReducer,\r\n  user: userReducer\r\n})\r\n","import { createStore, applyMiddleware, Store } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport { reducer } from './reducers/reducer'\r\nimport { defaultState } from './defaultState'\r\nimport { TState } from '../types/state'\r\nimport { TAction } from './actions/types'\r\nimport invariant from 'redux-immutable-state-invariant'\r\n\r\nconst actionCreators: any[] = []\r\n\r\nconst composeEnhancers = composeWithDevTools({\r\n  actionCreators,\r\n  trace: true,\r\n  traceLimit: 100\r\n})\r\n\r\nexport const store: Store<TState, TAction> = createStore(\r\n  reducer,\r\n  defaultState,\r\n  composeEnhancers(applyMiddleware(invariant(), thunk))\r\n)\r\n","export const toggleTimerA = () => ({ type: 'TOGGLE_TIMER' })\r\n\r\nexport const setLengthA = (args: {\r\n  type: 'BREAK' | 'WORK'\r\n  byMinutes: number\r\n}) => ({\r\n  type: 'SET_LENGTH_MINUTES',\r\n  operationType: args.type,\r\n  minutes: args.byMinutes\r\n})\r\n\r\nexport const tickA = (args: { taskId?: string; projectId?: string }) => ({\r\n  type: 'TICK',\r\n  taskId: args.taskId,\r\n  projectId: args.projectId\r\n})\r\n\r\nexport const resetPomodoroA = () => ({ type: 'RESET_POMODORO' })\r\n\r\nexport const selectPomodoroTaskA = (taskId: null | string) => ({\r\n  type: 'SELECT_POMODORO_TASK',\r\n  taskId\r\n})\r\n\r\nexport const toggleSelectingTaskA = () => ({\r\n  type: 'TOGGLE_SELECTING_TASK'\r\n})\r\n\r\nexport const setTimeDevA = () => ({\r\n  type: 'SET_TIME_DEV'\r\n})\r\n\r\nexport const tickStopwatchA = () => ({\r\n  type: 'TICK_STOPWATCH'\r\n})\r\n\r\nexport const toggleStopwatchA = () => ({\r\n  type: 'TOGGLE_STOPWATCH'\r\n})\r\n\r\nexport const resetStopwatchA = () => ({\r\n  type: 'RESET_STOPWATCH'\r\n})\r\n\r\nexport type PomodoroAction =\r\n  | ReturnType<typeof toggleTimerA>\r\n  | ReturnType<typeof setLengthA>\r\n  | ReturnType<typeof tickA>\r\n  | ReturnType<typeof resetPomodoroA>\r\n  | ReturnType<typeof selectPomodoroTaskA>\r\n  | ReturnType<typeof toggleSelectingTaskA>\r\n  | ReturnType<typeof setTimeDevA>\r\n  | ReturnType<typeof tickStopwatchA>\r\n  | ReturnType<typeof toggleStopwatchA>\r\n  | ReturnType<typeof resetStopwatchA>\r\n","export const toDaysHHMMSS = (s: number, verbose?: true): string => {\r\n  let result = ''\r\n\r\n  const days = Math.floor(s / 86400)\r\n  s -= days * 86400\r\n  if (days) {\r\n    result += `${days} Day${days !== 1 ? 's ' : ' '}`\r\n  }\r\n\r\n  if (verbose) {\r\n    const hours = Math.floor(s / 3600)\r\n    s -= hours * 3600\r\n    if (hours > 0) {\r\n      result += `${hours} Hour${hours !== 1 ? 's ' : ' '}`\r\n    }\r\n    const minutes = Math.floor(s / 60)\r\n    s -= minutes * 60\r\n    if (minutes > 0) {\r\n      result += `${minutes} Minute${minutes !== 1 ? 's ' : ' '}`\r\n    }\r\n    if (hours < 1 && s > 0) {\r\n      result += `${s} second${s !== 1 ? 's' : ''}`\r\n    }\r\n  } else {\r\n    const measuredTime = new Date(null as any)\r\n    measuredTime.setSeconds(s)\r\n\r\n    result += measuredTime.toISOString().slice(11, 19) // 8:43:32\r\n    if (result.slice(0, 2) === '00') {\r\n      result = result.slice(3)\r\n    } else if (result.slice(0, 1) === '0') {\r\n      result = result.slice(1)\r\n    }\r\n  }\r\n  return result // 2 days, 8:43:32\r\n}\r\n","import React from 'react'\r\nimport { setLengthA } from '../../store/actions/pomodoro'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../types/state'\r\nimport { Button } from '@material-ui/core'\r\nimport { Add, Remove } from '@material-ui/icons'\r\nimport { toDaysHHMMSS } from '../../utils/convertToTime'\r\n\r\ntype TProps = ReturnType<typeof mapState> & typeof actionCreators\r\n\r\nconst CControls = (props: TProps) => {\r\n  const { workTime, breakTime } = props\r\n\r\n  return (\r\n    <>\r\n      <div style={{ textAlign: 'center', fontSize: 18, margin: 10 }}>\r\n        Break Time: {toDaysHHMMSS(breakTime)}\r\n      </div>\r\n      <div style={{ display: 'flex' }}>\r\n        <Button\r\n          onClick={() => props.setLengthA({ type: 'BREAK', byMinutes: 1 })}\r\n          color=\"secondary\"\r\n          style={{ width: '100%', marginLeft: 8, marginRight: 4 }}\r\n        >\r\n          <Add />\r\n        </Button>\r\n        <Button\r\n          onClick={() => props.setLengthA({ type: 'BREAK', byMinutes: -1 })}\r\n          color=\"primary\"\r\n          fullWidth\r\n          style={{ width: '100%', marginLeft: 4, marginRight: 8 }}\r\n        >\r\n          <Remove />\r\n        </Button>\r\n      </div>\r\n      <div\r\n        style={{\r\n          textAlign: 'center',\r\n          fontSize: 18,\r\n          margin: 10\r\n        }}\r\n      >\r\n        Work Time: {toDaysHHMMSS(workTime)}\r\n      </div>\r\n      <div style={{ display: 'flex' }}>\r\n        <Button\r\n          onClick={() => props.setLengthA({ type: 'WORK', byMinutes: 5 })}\r\n          color=\"secondary\"\r\n          style={{ width: '100%', marginLeft: 8, marginRight: 4 }}\r\n        >\r\n          <Add />\r\n        </Button>\r\n        <Button\r\n          onClick={() => props.setLengthA({ type: 'WORK', byMinutes: -5 })}\r\n          color=\"primary\"\r\n          fullWidth\r\n          style={{ width: '100%', marginLeft: 4, marginRight: 8 }}\r\n        >\r\n          <Remove />\r\n        </Button>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  workTime: state.pomodoro.workSeconds,\r\n  breakTime: state.pomodoro.breakSeconds\r\n})\r\n\r\nconst actionCreators = {\r\n  setLengthA\r\n}\r\n\r\nexport const Controls = connect(\r\n  mapState,\r\n  actionCreators\r\n)(CControls)\r\n","import React from 'react'\r\nimport { Button, Paper } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  resetPomodoroA,\r\n  setTimeDevA,\r\n  toggleSelectingTaskA\r\n} from '../../store/actions/pomodoro'\r\nimport { TState } from '../../types/state'\r\nimport { getAllTasks, id } from '../../utils/utilities'\r\n\r\ntype OwnProps = {\r\n  toggleWorking: () => void\r\n  timeLeft: string\r\n}\r\n\r\ntype TProps = ReturnType<typeof mapState> & typeof actionCreators & OwnProps\r\n\r\nconst CDisplay = (props: TProps) => {\r\n  const { pomodoro, timeLeft } = props\r\n  const buttonText = `${pomodoro.paused ? 'Start' : 'Stop'} ${\r\n    pomodoro.working ? 'Work' : 'Break'\r\n  }`\r\n  return (\r\n    <div style={{ margin: 10 }}>\r\n      <div\r\n        style={{\r\n          color: pomodoro.working ? 'red' : 'green',\r\n          textAlign: 'center',\r\n          fontSize: 24\r\n        }}\r\n      >\r\n        {timeLeft}\r\n      </div>\r\n      <Paper\r\n        style={{\r\n          minHeight: 36,\r\n          marginBottom: 10,\r\n          marginTop: 5,\r\n          backgroundColor: 'white',\r\n          padding: 10\r\n        }}\r\n      >\r\n        <p style={{ display: 'inline', fontSize: 20 }}>\r\n          {pomodoro.selectingTask\r\n            ? 'Selecting Task...'\r\n            : pomodoro.selectedTaskId\r\n            ? props.tasks[id(props.tasks, pomodoro.selectedTaskId!)].name\r\n            : 'Select Task'\r\n          /* ? tasks[pomodoro.selectedTaskId].name : 'No Task Selected'} */\r\n          }\r\n        </p>\r\n        <Button\r\n          color=\"secondary\"\r\n          style={{ float: 'right', marginLeft: 5 }}\r\n          onClick={() => props.toggleSelectingTask()}\r\n        >\r\n          {pomodoro.selectingTask\r\n            ? 'Cancel'\r\n            : 'Select ' + (pomodoro.selectedTaskId ? 'New' : '')}\r\n        </Button>\r\n        <p>\r\n          {pomodoro.selectedTaskId && !pomodoro.selectingTask\r\n            ? '' // toDaysHHMMSS(tasks[pomodoro.selectedTaskId].timeWorkedOn)\r\n            : ''}\r\n        </p>\r\n      </Paper>\r\n      <div style={{ display: 'flex' }}>\r\n        <Button\r\n          onClick={props.toggleWorking}\r\n          color=\"primary\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n        >\r\n          {buttonText}\r\n        </Button>\r\n        <div style={{ width: 8 }} />\r\n        <Button onClick={props.reset} color=\"secondary\" fullWidth>\r\n          Reset\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  pomodoro: state.pomodoro,\r\n  tasks: getAllTasks(state.projects)\r\n})\r\n\r\nconst actionCreators = {\r\n  reset: resetPomodoroA,\r\n  toggleSelectingTask: toggleSelectingTaskA,\r\n  setTimeDev: setTimeDevA\r\n}\r\n\r\nexport const Display = connect(\r\n  mapState,\r\n  actionCreators\r\n)(CDisplay)\r\n","import { CSSProperties } from 'react'\r\n\r\nexport const centerChildren: CSSProperties = {\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  textAlign: 'center'\r\n}\r\n","import React, { CSSProperties, useEffect } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../types/state'\r\nimport { toDaysHHMMSS } from '../../utils/convertToTime'\r\nimport {\r\n  tickStopwatchA,\r\n  toggleStopwatchA,\r\n  resetStopwatchA\r\n} from '../../store/actions/pomodoro'\r\nimport { Button } from '@material-ui/core'\r\nimport { Transition } from 'react-spring/renderprops'\r\nimport { centerChildren } from '../styles/utils'\r\nimport { PlayArrow, Pause } from '@material-ui/icons'\r\n\r\ntype TProps = ReturnType<typeof mapState> & typeof actionCreators\r\n\r\nlet interval: NodeJS.Timeout = setInterval(() => null, Infinity)\r\n\r\nconst CStopwatch = (props: TProps) => {\r\n  useEffect(() => {\r\n    clearInterval(interval)\r\n\r\n    interval = setInterval(() => {\r\n      if (!props.stopWatch.paused) {\r\n        props.tickStopwatch()\r\n      }\r\n    }, 1000)\r\n  })\r\n\r\n  const { stopWatch, reset } = props\r\n  return (\r\n    <div style={{ margin: 10 }}>\r\n      <div\r\n        style={{\r\n          textAlign: 'center',\r\n          fontSize: 28,\r\n          marginBottom: 10,\r\n          color: stopWatch.time >= stopWatch.highest ? '#FFD700' : 'black'\r\n        }}\r\n      >\r\n        {toDaysHHMMSS(stopWatch.time)}\r\n      </div>\r\n      <Transition\r\n        items={stopWatch.time < stopWatch.highest}\r\n        from={{ opacity: 0 }}\r\n        enter={{ opacity: 1 }}\r\n        leave={{ opacity: 0 }}\r\n      >\r\n        {show => {\r\n          const style: CSSProperties = {\r\n            fontSize: 28,\r\n            color: '#444',\r\n            marginBottom: 10\r\n          }\r\n          return (\r\n            show &&\r\n            (transitionStyles => (\r\n              <div style={{ ...style, ...transitionStyles, ...centerChildren }}>\r\n                Best: {toDaysHHMMSS(stopWatch.highest)}\r\n              </div>\r\n            ))\r\n          )\r\n        }}\r\n      </Transition>\r\n      <div style={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n        <Button onClick={() => reset()} style={{ marginRight: 4 }}>\r\n          Reset\r\n        </Button>\r\n        <Button onClick={props.toggleStopwatch} color=\"secondary\">\r\n          {stopWatch.paused ? (\r\n            <PlayArrow style={{ marginRight: 4 }} />\r\n          ) : (\r\n            <Pause style={{ marginRight: 4 }} />\r\n          )}\r\n          {stopWatch.paused ? 'Start' : 'Stop'}\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  stopWatch: state.pomodoro.stopWatch\r\n})\r\n\r\nconst actionCreators = {\r\n  tickStopwatch: tickStopwatchA,\r\n  toggleStopwatch: toggleStopwatchA,\r\n  reset: resetStopwatchA\r\n}\r\n\r\nexport const Stopwatch = connect(\r\n  mapState,\r\n  actionCreators\r\n)(CStopwatch)\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  withStyles,\r\n  createStyles,\r\n  Theme,\r\n  WithStyles,\r\n  DialogTitle,\r\n  IconButton,\r\n  Tabs,\r\n  Tab,\r\n  Card\r\n} from '@material-ui/core'\r\nimport { Close, Settings } from '@material-ui/icons'\r\nimport { toggleTimerA, tickA } from '../../store/actions/pomodoro'\r\nimport { toDaysHHMMSS } from '../../utils/convertToTime'\r\nimport { Swal } from './Swal'\r\nimport { Controls } from './Controls'\r\nimport { Display } from './Display'\r\nimport { Stopwatch } from './Stopwatch'\r\nimport { TState } from '../../types/state'\r\nimport { getProjectIdFromTaskId, getAllTasks } from '../../utils/utilities'\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    card: {\r\n      position: 'fixed',\r\n      bottom: theme.spacing(4),\r\n      outline: 'none',\r\n      left: theme.spacing(4),\r\n      maxWidth: 700,\r\n      minWidth: 300,\r\n      zIndex: 1099,\r\n      backgroundColor: '#f2f2f2'\r\n    },\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500]\r\n    }\r\n  })\r\n// i do not\r\ninterface OwnProps {\r\n  open: boolean\r\n  stateFunc(next: boolean): void\r\n}\r\ntype TProps = ReturnType<typeof mapState> &\r\n  typeof actionCreators &\r\n  OwnProps &\r\n  WithStyles<typeof styles>\r\n\r\nlet interval: NodeJS.Timeout = setInterval(() => null, Infinity)\r\n\r\nconst CPomodoro = (props: TProps) => {\r\n  const [tab, setTab] = useState(0)\r\n\r\n  const pomodoro = props.pomodoro\r\n\r\n  React.useEffect(() => {\r\n    clearInterval(interval)\r\n\r\n    interval = setInterval(() => {\r\n      if (!pomodoro.paused) {\r\n        if (pomodoro.selectedTaskId && pomodoro.working) {\r\n          props.tick({\r\n            taskId: pomodoro.selectedTaskId,\r\n            projectId: getProjectIdFromTaskId(\r\n              props.projects,\r\n              pomodoro.selectedTaskId\r\n            )\r\n          })\r\n        } else {\r\n          props.tick({})\r\n        }\r\n      }\r\n\r\n      // set tab title\r\n\r\n      document.title = pomodoro.paused\r\n        ? 'Mantella'\r\n        : `${pomodoro.working ? 'Work ' : 'Break '} ${toDaysHHMMSS(\r\n            pomodoro.currSeconds - 1\r\n          )}`\r\n    }, 1000)\r\n  })\r\n\r\n  const toggleWorking = () => {\r\n    props.toggleTimer()\r\n  }\r\n\r\n  const { open, classes, stateFunc } = props\r\n  const time = toDaysHHMMSS(pomodoro.currSeconds)\r\n\r\n  Swal(pomodoro, stateFunc, () => toggleWorking())\r\n\r\n  return (\r\n    <div>\r\n      {open && (\r\n        <Card className={classes.card}>\r\n          <DialogTitle>Pomodoro</DialogTitle>\r\n          <IconButton\r\n            className={classes.closeButton}\r\n            onClick={() => stateFunc(false)}\r\n          >\r\n            <Close />\r\n          </IconButton>\r\n          {tab === 0 && (\r\n            <Display toggleWorking={() => toggleWorking()} timeLeft={time} />\r\n          )}\r\n          {tab === 1 && <Controls />}\r\n          {tab === 2 && <Stopwatch />}\r\n          <Tabs value={tab} onChange={(e, v: number) => setTab(v)}>\r\n            <Tab label=\"Clock\" />\r\n            <Tab icon={<Settings />} />\r\n            <Tab label=\"Stopwatch\" />\r\n          </Tabs>\r\n        </Card>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  pomodoro: state.pomodoro,\r\n  projects: state.projects,\r\n  tasks: getAllTasks(state.projects)\r\n})\r\n\r\nconst actionCreators = {\r\n  toggleTimer: toggleTimerA,\r\n  tick: tickA\r\n}\r\n\r\nexport const Pomodoro = connect(\r\n  mapState,\r\n  actionCreators\r\n)(withStyles(styles)(CPomodoro))\r\n","import { TPomodoro } from '../../types/state'\r\nimport Dialog from 'sweetalert'\r\n\r\nconst WORK_DONE_MESSAGE =\r\n  'Take a break! Make some chili! Good job kiddo, really proud of you man <3'\r\nconst BREAK_DONE_MESSAGE =\r\n  'You fat, obese, loser, good people do not need breaks, they are more productive than you. I mean, what the heck were you even doing? Watching a dumb movie, a youtube video about how container ships work, come on man.'\r\n\r\nexport const Swal = (\r\n  pomodoro: TPomodoro,\r\n  stateFunc: (b: boolean) => void,\r\n  toggleWorking: () => void\r\n) => {\r\n  if (pomodoro.currSeconds === 0) {\r\n    const toggleButtonText = `Start ${pomodoro.working ? 'Break' : 'Working'}`\r\n    const title = `${pomodoro.working ? 'Work' : 'Break'} Completed`\r\n    const text = pomodoro.working ? WORK_DONE_MESSAGE : BREAK_DONE_MESSAGE\r\n    const icon = pomodoro.working ? 'success' : 'warning'\r\n    Dialog({\r\n      title,\r\n      text,\r\n      icon,\r\n      // value is passed to .then\r\n      buttons: {\r\n        stop: { text: 'Stop Pomodoro', value: 'stop' },\r\n        toggle: {\r\n          text: toggleButtonText,\r\n          value: 'toggle'\r\n        }\r\n      }\r\n      // .then will return what button they clicked\r\n    }).then((value: 'stop' | 'toggle') => {\r\n      switch (value) {\r\n        case 'stop':\r\n          stateFunc(false)\r\n          break\r\n        case 'toggle':\r\n          toggleWorking()\r\n          break\r\n        default:\r\n          break\r\n      }\r\n    })\r\n  }\r\n}\r\n","import { createStyles, Theme } from '@material-ui/core'\r\n\r\nexport const formStyles = (theme: Theme) =>\r\n  createStyles({\r\n    layout: {\r\n      width: 'auto',\r\n      [theme.breakpoints.up(524)]: {\r\n        width: 500,\r\n        marginLeft: 'auto',\r\n        marginRight: 'auto'\r\n      }\r\n    },\r\n    paper: {\r\n      marginTop: 8,\r\n      display: 'flex',\r\n      flexDirection: 'column', // prevent all from being on one line\r\n      alignItems: 'center',\r\n      padding: `${theme.spacing(2, 3, 3)}`\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      width: 48,\r\n      height: 48,\r\n      backgroundColor: theme.palette.secondary.main\r\n    },\r\n    submit: {\r\n      marginTop: theme.spacing(3)\r\n    }\r\n  })\r\n","import { TVariant } from '../../types/state'\r\n\r\nexport type TOpenSnackbar = {\r\n  type: 'OPEN_SNACKBAR'\r\n  message: string\r\n  variant: TVariant\r\n}\r\nexport type TCloseSnackbar = { type: 'CLOSE_SNACKBAR' }\r\n\r\nexport type SnackbarAction = TOpenSnackbar | TCloseSnackbar\r\n\r\nexport const closeSnackbarA = (): TCloseSnackbar => ({\r\n  type: 'CLOSE_SNACKBAR'\r\n})\r\n\r\nexport const openSnackbarA = (\r\n  message: string,\r\n  variant: TVariant\r\n): TOpenSnackbar => ({\r\n  type: 'OPEN_SNACKBAR',\r\n  message,\r\n  variant\r\n})\r\n","import { TProject } from './../../types/project'\r\n\r\nexport const setProjectsA = (projects: TProject[]) => ({\r\n  type: 'SET_PROJECTS',\r\n  projects\r\n})\r\n\r\nexport const setProjectA = (args: {\r\n  id: string\r\n  newProj: TProject | null\r\n}) => ({\r\n  type: 'SET_PROJECT',\r\n  id: args.id,\r\n  project: args.newProj\r\n})\r\n\r\nexport const selectMemberA = (args: { projectId: string; id: string }) => ({\r\n  type: 'SELECT_MEMBER',\r\n  id: args.id,\r\n  projectId: args.projectId\r\n})\r\n\r\nexport type ProjectAction =\r\n  | ReturnType<typeof setProjectsA>\r\n  | ReturnType<typeof setProjectA>\r\n  | ReturnType<typeof selectMemberA>\r\n","import { UserFieldsFragment } from './../graphql/types'\r\nimport { TState } from '../types/state'\r\nimport { RTDispatch } from '../types/types'\r\nimport axios from 'axios'\r\nimport { setProjectsA } from '../store/actions/project'\r\n\r\n/**\r\n * occurs when user authenticates\r\n */\r\n\r\nexport const fetchQuery = async <T = any>(\r\n  queryString: string,\r\n  variables?: T\r\n) => {\r\n  const axiosFunc = await axios.post(\r\n    `/graphql`,\r\n    {\r\n      query: queryString,\r\n      variables\r\n    },\r\n    { withCredentials: true }\r\n  )\r\n\r\n  const data = await axiosFunc.data\r\n\r\n  return data.data\r\n}\r\n\r\nexport const initializeAuthState = (user: UserFieldsFragment) => {\r\n  return (dispatch: RTDispatch, getState: () => TState) => {\r\n    if (user && user.projects) {\r\n      dispatch(setProjectsA(user.projects))\r\n    }\r\n  }\r\n}\r\n","import { UserFieldsFragment } from './../../graphql/types'\r\nimport { RTDispatch } from '../../types/types'\r\nimport { TState, TAuthUser } from '../../types/state'\r\nimport { openSnackbarA } from './snackbar'\r\nimport { initializeAuthState } from '../../API/initialize'\r\n\r\nexport const transformUser = (user: UserFieldsFragment): TAuthUser => ({\r\n  username: user.username,\r\n  profileImg: user.profileImg || '',\r\n  joinedIds: user.projects.map(proj =>\r\n    typeof proj === 'string' ? proj : (proj.id as string)\r\n  ),\r\n  id: user.id as string,\r\n  email: user.email\r\n})\r\n\r\nexport const registerA = (user: UserFieldsFragment) => {\r\n  return (dispatch: RTDispatch, getState: () => TState) => {\r\n    if (user) {\r\n      const authUser = transformUser(user)\r\n\r\n      dispatch(openSnackbarA('Registered! Welcome To Mantella!', 'success'))\r\n\r\n      dispatch({ type: 'REGISTER', user: authUser })\r\n\r\n      dispatch(initializeAuthState(user))\r\n    } else {\r\n      dispatch(openSnackbarA('Could not Register', 'error'))\r\n    }\r\n  }\r\n}\r\n\r\nexport const loginA = (user: UserFieldsFragment) => {\r\n  return (dispatch: RTDispatch, getState: () => TState) => {\r\n    if (user) {\r\n      const authUser = transformUser(user)\r\n\r\n      dispatch({ type: 'LOGIN', user: authUser })\r\n      dispatch(openSnackbarA('Logged in Successfully', 'success'))\r\n\r\n      dispatch(initializeAuthState(user))\r\n    } else {\r\n      dispatch(openSnackbarA('Could not Login', 'error'))\r\n    }\r\n  }\r\n}\r\n\r\nexport type TRegister = {\r\n  type: 'REGISTER'\r\n  user: TAuthUser\r\n}\r\n\r\nexport type TLogin = {\r\n  type: 'LOGIN'\r\n  user: TAuthUser\r\n}\r\nexport type UserAction = TRegister | TLogin\r\n","import gql from 'graphql-tag'\r\n\r\nexport type GQLExec = <T>(variables: T) => any\r\n\r\nexport const taskFields = gql`\r\n  fragment taskFields on Task {\r\n    points\r\n\r\n    progress\r\n\r\n    id\r\n    dueDate\r\n    color\r\n    subTasks {\r\n      name\r\n      completed\r\n      id\r\n    }\r\n    recurrance {\r\n      interval\r\n      nextDue\r\n    }\r\n    comments {\r\n      id\r\n      comment\r\n      dateAdded\r\n      lastEdited\r\n    }\r\n    timeWorkedOn\r\n    name\r\n  }\r\n`\r\n\r\nexport const profileFields = gql`\r\n  fragment ProfileFields on Profile {\r\n    id\r\n    profileImg\r\n    username\r\n    email\r\n    projects\r\n  }\r\n`\r\n\r\nexport const listFields = gql`\r\n  fragment listFields on List {\r\n    id\r\n    name\r\n    taskIds\r\n  }\r\n`\r\n\r\nexport const projectFields = gql`\r\n  ${taskFields}\r\n  ${listFields}\r\n  fragment projectFields on Project {\r\n    security {\r\n      public\r\n      assignedUsers\r\n    }\r\n    ownerId\r\n    lists {\r\n      ...listFields\r\n    }\r\n\r\n    users\r\n    tasks {\r\n      ...taskFields\r\n    }\r\n    id\r\n    name\r\n  }\r\n`\r\n\r\nexport const userFields = gql`\r\n  ${projectFields}\r\n  fragment userFields on User {\r\n    id\r\n    profileImg\r\n    username\r\n    email\r\n    projects {\r\n      ...projectFields\r\n    }\r\n  }\r\n`\r\n","import gql from 'graphql-tag'\r\nimport { userFields } from '../fragments'\r\n\r\nexport const GQL_LOGIN = gql`\r\n  ${userFields}\r\n  mutation login($email: String!, $password: String!) {\r\n    login(email: $email, password: $password) {\r\n      user {\r\n        ...userFields\r\n      }\r\n    }\r\n  }\r\n`\r\nexport const GQL_REGISTER = gql`\r\n  ${userFields}\r\n  mutation register($username: String!, $password: String!, $email: String!) {\r\n    register(username: $username, password: $password, email: $email) {\r\n      user {\r\n        ...userFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_LOGIN_WITH_COOKIE = gql`\r\n  ${userFields}\r\n  mutation loginWithCookie {\r\n    loginWithCookie {\r\n      user {\r\n        ...userFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_LOGOUT = gql`\r\n  mutation logout {\r\n    logout {\r\n      message\r\n    }\r\n  }\r\n`\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  Paper,\r\n  Grid,\r\n  Button,\r\n  withStyles,\r\n  WithStyles,\r\n  Avatar,\r\n  Typography,\r\n  IconButton,\r\n  TextField,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { LockOpen } from '@material-ui/icons'\r\nimport { formStyles } from '../styles/formStyles'\r\nimport { openSnackbarA } from '../../store/actions/snackbar'\r\nimport { Link } from 'react-router-dom'\r\nimport Helmet from 'react-helmet'\r\nimport { registerA, loginA } from '../../store/actions/auth'\r\nimport { Mutation, MutationResult } from 'react-apollo'\r\nimport {\r\n  MutationResolvers,\r\n  RegisterMutation,\r\n  LoginMutation\r\n} from '../../graphql/types'\r\nimport { GQL_REGISTER, GQL_LOGIN } from '../../graphql/mutations/auth'\r\n\r\ntype OwnProps = {\r\n  authType: 'Register' | 'Login'\r\n}\r\n// I <3 Mantella\r\ntype TProps = WithStyles<typeof formStyles> & typeof actionCreators & OwnProps\r\n\r\nconst Auth = ({ authType, openSnackbar, classes, register, login }: TProps) => {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [confirmText, setConfirmText] = useState('')\r\n  const [username, setUsername] = useState('')\r\n\r\n  return (\r\n    <div style={{ margin: 20 }}>\r\n      <Helmet>\r\n        <style type=\"text/css\">{` body { background-color: #1d364c; }`}</style>\r\n        <meta\r\n          content=\"Get started with Mantella today, totally free!\"\r\n          name={'description'}\r\n        />\r\n      </Helmet>\r\n      <main className={classes.layout}>\r\n        <Mutation\r\n          onCompleted={(data: any) => {\r\n            if (authType === 'Register') {\r\n              const registerData: RegisterMutation = data\r\n              if (\r\n                registerData !== null &&\r\n                registerData.register !== null &&\r\n                registerData.register.user\r\n              ) {\r\n                register(registerData.register.user)\r\n                window.location.hash = '#/dashboard'\r\n              } else {\r\n                openSnackbar(\r\n                  'User with that Email already exists, Sorry!',\r\n                  'error'\r\n                )\r\n              }\r\n            } else if (authType === 'Login') {\r\n              if (data && data.login && data.login.user) {\r\n                login(data.login.user)\r\n                window.location.hash = '#/dashboard'\r\n              } else {\r\n                openSnackbar('Could not login, oopsie!', 'error')\r\n              }\r\n            }\r\n          }}\r\n          onError={(error: any) => {\r\n            openSnackbar('Could not Authenticate!', 'error')\r\n          }}\r\n          mutation={authType === 'Register' ? GQL_REGISTER : GQL_LOGIN}\r\n        >\r\n          {(\r\n            auth: (args: {\r\n              variables:\r\n                | MutationResolvers.LoginArgs\r\n                | MutationResolvers.RegisterArgs\r\n            }) => any,\r\n            result: MutationResult<LoginMutation & RegisterMutation>\r\n          ) => {\r\n            return (\r\n              <form\r\n                autoComplete=\"on\"\r\n                onSubmit={e => {\r\n                  e.preventDefault()\r\n                  if (authType === 'Register') {\r\n                    auth({ variables: { username, password, email } })\r\n                  } else {\r\n                    auth({ variables: { email, password } })\r\n                  }\r\n                }}\r\n              >\r\n                <Paper className={classes.paper}>\r\n                  <Avatar className={classes.avatar}>\r\n                    <LockOpen />\r\n                  </Avatar>\r\n                  <Typography style={{ fontSize: 17 }}>{authType}</Typography>\r\n                  {authType === 'Register' && (\r\n                    <Button\r\n                      component={Link}\r\n                      to=\"/login\"\r\n                      variant=\"outlined\"\r\n                      style={{ marginTop: 10 }}\r\n                    >\r\n                      Login Instead\r\n                    </Button>\r\n                  )}\r\n                  {/* Full Name */}\r\n                  {authType === 'Register' && (\r\n                    <TextField\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      required\r\n                      autoComplete=\"off\"\r\n                      onChange={e => setUsername(e.target.value)}\r\n                      value={username}\r\n                      label=\"Full Name\"\r\n                    />\r\n                  )}\r\n                  <TextField\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                    name=\"email\"\r\n                    required\r\n                    autoComplete=\"on\"\r\n                    value={email}\r\n                    onChange={e => {\r\n                      setEmail(e.target.value)\r\n                    }}\r\n                    label=\"Email\"\r\n                    type=\"email\"\r\n                  />\r\n                  {/* password */}\r\n                  <TextField\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                    required\r\n                    autoComplete=\"on\"\r\n                    label=\"Password\"\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    id=\"password\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                  />\r\n                  {/* confirm password */}\r\n                  {authType === 'Register' && (\r\n                    <TextField\r\n                      type=\"password\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      required\r\n                      autoComplete=\"off\"\r\n                      label=\"Confirm Password\"\r\n                      error={confirmText !== password}\r\n                      value={confirmText}\r\n                      onChange={e => setConfirmText(e.target.value)}\r\n                    />\r\n                  )}\r\n                  {/* submit button */}\r\n                  <Grid\r\n                    container\r\n                    justify=\"center\"\r\n                    style={{ marginTop: '10px' }}\r\n                  >\r\n                    {result.loading && (\r\n                      <CircularProgress style={{ margin: '4px auto' }} />\r\n                    )}\r\n\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"secondary\"\r\n                      fullWidth\r\n                      disabled={\r\n                        authType === 'Register'\r\n                          ? password.trim() === '' || password !== confirmText\r\n                          : false\r\n                      }\r\n                      type=\"submit\"\r\n                      style={{\r\n                        marginTop: 10\r\n                      }}\r\n                    >\r\n                      {authType}\r\n                    </Button>\r\n                  </Grid>\r\n                  <Grid\r\n                    container\r\n                    style={{ marginTop: 15 }}\r\n                    alignContent=\"space-between\"\r\n                  >\r\n                    <IconButton>\r\n                      <img\r\n                        src=\"https://cdn4.iconfinder.com/data/icons/new-google-logo-2015/400/new-google-favicon-512.png\"\r\n                        style={{ height: 50, width: 50 }}\r\n                      />\r\n                    </IconButton>\r\n                    <IconButton style={{ marginLeft: 8 }}>\r\n                      <img\r\n                        src=\"https://cdn4.iconfinder.com/data/icons/social-media-icons-the-circle-set/48/facebook_circle-512.png\"\r\n                        style={{ height: 50, width: 50 }}\r\n                      />\r\n                    </IconButton>\r\n                    <IconButton style={{ marginLeft: 8 }}>\r\n                      <img\r\n                        src=\"https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-social-github-512.png\"\r\n                        style={{ height: 50, width: 50 }}\r\n                      />\r\n                    </IconButton>\r\n                    <IconButton style={{ marginLeft: 8 }}>\r\n                      <img\r\n                        src=\"https://cdn3.iconfinder.com/data/icons/social-icons-5/607/Twitterbird.png\"\r\n                        style={{ height: 50, width: 50 }}\r\n                      />\r\n                    </IconButton>\r\n                  </Grid>\r\n                </Paper>\r\n              </form>\r\n            )\r\n          }}\r\n        </Mutation>\r\n      </main>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst actionCreators = {\r\n  openSnackbar: openSnackbarA,\r\n  register: registerA,\r\n  login: loginA\r\n}\r\n\r\nexport const AuthRender = withStyles(formStyles)(\r\n  connect(\r\n    null,\r\n    actionCreators\r\n  )(Auth)\r\n)\r\n","import gql from 'graphql-tag'\r\n\r\nimport { projectFields } from '../fragments'\r\n\r\nexport const GQL_CREATE_PROJECT = gql`\r\n  ${projectFields}\r\n\r\n  mutation createProject($name: String!) {\r\n    createProject(name: $name) {\r\n      ...projectFields\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_DELETE_PROJECT = gql`\r\n  mutation deleteProject($id: String!) {\r\n    deleteProject(id: $id) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_EDIT_PROJECT = gql`\r\n  ${projectFields}\r\n\r\n  mutation editProject($id: String!, $newProj: ProjectInput!) {\r\n    editProject(newProj: $newProj, id: $id) {\r\n      ...projectFields\r\n    }\r\n  }\r\n`\r\n","import * as React from 'react'\r\n\r\nimport {\r\n  withStyles,\r\n  WithStyles,\r\n  Avatar,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  CircularProgress\r\n} from '@material-ui/core'\r\nimport { formStyles } from '../styles/formStyles'\r\nimport { CalendarTodayRounded } from '@material-ui/icons'\r\nimport { connect } from 'react-redux'\r\nimport { Change } from '../../types/types'\r\nimport { TState } from '../../types/state'\r\nimport { useState } from 'react'\r\nimport { openSnackbarA } from '../../store/actions/snackbar'\r\nimport { useMutation } from 'react-apollo'\r\nimport {\r\n  CreateProjectMutation,\r\n  CreateProjectMutationVariables\r\n} from '../../graphql/types'\r\nimport { GQL_CREATE_PROJECT } from '../../graphql/mutations/project'\r\nimport { setProjectA } from '../../store/actions/project'\r\n\r\ntype CreateProjectProps = WithStyles<typeof formStyles> &\r\n  typeof actionCreators &\r\n  ReturnType<typeof mapState>\r\n\r\nconst CCreateProject = (props: CreateProjectProps) => {\r\n  const [name, setName] = useState('')\r\n\r\n  const [createProjectExec, { loading }] = useMutation<\r\n    CreateProjectMutation,\r\n    CreateProjectMutationVariables\r\n  >(GQL_CREATE_PROJECT, {\r\n    onCompleted: ({ createProject }) => {\r\n      if (createProject && createProject.id) {\r\n        props.setProject({\r\n          id: createProject.id,\r\n          newProj: createProject\r\n        })\r\n\r\n        window.location.hash = '#/project/' + createProject!.id\r\n        props.openSnackbar('Project Created Successfully', 'success')\r\n      } else {\r\n        props.openSnackbar('Project Could Not Be Created', 'warning')\r\n      }\r\n    },\r\n    onError: (error: any) => {\r\n      props.openSnackbar('Error when creating project', 'error')\r\n    }\r\n  })\r\n\r\n  const { classes } = props\r\n\r\n  return (\r\n    <>\r\n      <main style={{ margin: 'auto' }} className={classes.layout}>\r\n        <form\r\n          onSubmit={e => {\r\n            e.preventDefault()\r\n\r\n            if (props.user) {\r\n              createProjectExec({\r\n                variables: {\r\n                  name: name || 'Unnamed Project'\r\n                }\r\n              })\r\n            } else {\r\n              props.openSnackbar(\"You havn't logged in, silly goose\", 'warning')\r\n            }\r\n          }}\r\n        >\r\n          <div className={classes.paper}>\r\n            <Avatar className={classes.avatar}>\r\n              <CalendarTodayRounded />\r\n            </Avatar>\r\n            <Typography style={{ fontSize: 17 }}>Create Project</Typography>\r\n            {loading && <CircularProgress style={{ margin: '4px auto' }} />}\r\n            <div style={{ display: 'flex', width: '100%' }}>\r\n              <TextField\r\n                autoFocus\r\n                label=\"Project Name\"\r\n                value={name}\r\n                fullWidth\r\n                onChange={(e: Change) => setName(e.target.value)}\r\n                required\r\n              />\r\n              <div style={{ marginLeft: 12, marginTop: 'auto' }}>\r\n                <Button\r\n                  style={{ marginTop: 'auto' }}\r\n                  variant=\"contained\"\r\n                  color=\"secondary\"\r\n                  type=\"submit\"\r\n                >\r\n                  Create\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </main>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  user: state.user\r\n})\r\nconst actionCreators = {\r\n  openSnackbar: openSnackbarA,\r\n  setProject: setProjectA\r\n}\r\n\r\nexport const CreateProject = connect(\r\n  mapState,\r\n  actionCreators\r\n)(withStyles(formStyles)(CCreateProject))\r\n","import React from 'react'\r\nimport './styles.css'\r\nimport { Link } from 'react-router-dom'\r\nimport { Button } from '@material-ui/core'\r\nimport { TState } from '../../types/state'\r\nimport { connect } from 'react-redux'\r\n\r\nconst mapState = (state: TState) => ({\r\n  user: state.user\r\n})\r\n\r\ntype TProps = ReturnType<typeof mapState>\r\n\r\nexport const NoMatch = connect(mapState)((props: TProps) => (\r\n  <div className=\"all\">\r\n    <section className=\"error-container\">\r\n      <span className=\"four\">\r\n        <span className=\"screen-reader-text\">4</span>\r\n      </span>\r\n      <span className=\"zero\">\r\n        <span className=\"screen-reader-text\">0</span>\r\n      </span>\r\n      <span className=\"four\">\r\n        <span className=\"screen-reader-text\">4</span>\r\n      </span>\r\n      <div style={{ marginLeft: 'auto', marginRight: 'auto' }}>\r\n        <Button\r\n          color=\"secondary\"\r\n          style={{ width: 250 }}\r\n          to={props.user ? '/dashboard' : '/'}\r\n          component={Link}\r\n          variant=\"contained\"\r\n        >\r\n          Home\r\n        </Button>\r\n      </div>\r\n    </section>\r\n  </div>\r\n))\r\n","import React from 'react'\r\nimport {\r\n  Paper,\r\n  Table,\r\n  TableHead,\r\n  TableRow,\r\n  TableCell,\r\n  TableBody\r\n} from '@material-ui/core'\r\nimport { Check, Close, Traffic } from '@material-ui/icons'\r\n\r\nconst tableHeadData: string[] = ['Feature', 'Mantella', 'Trello', 'KanbanFlow']\r\n\r\nconst features = [\r\n  // first in array is feature name, second is for Mantella, third is trello, fourth is kanbanFlow\r\n  ['Subtasks', 'CHECK', 'CHECK', 'CHECK'],\r\n  ['UI/UX', 'Material', 'Minimal', 'NO'],\r\n  ['Multiple Projects', 'CHECK', 'CHECK', 'CHECK'],\r\n  ['Filtering', 'CHECK', 'CHECK', 'CHECK'],\r\n  ['Recurring Tasks', 'CHECK', 'CHECK', 'CHECK'],\r\n  ['Collapse Columns', 'CHECK', 'CHECK', 'NO'],\r\n  ['Mobile Friendly', 'WIP', 'CHECK', 'CHECK'],\r\n  ['Attach Photos', 'NO', 'PRO', 'CHECK'],\r\n  ['Comments', 'CHECK', 'NO', 'CHECK'],\r\n  ['Links', 'NO', 'NO', 'CHECK'],\r\n  ['Export as JSON', 'CHECK', 'NO', 'NO']\r\n]\r\n\r\nconst styles = {\r\n  paper: {\r\n    maxWidth: 1000,\r\n    margin: '20px 0',\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto',\r\n    padding: 16,\r\n    paddingBottom: 48\r\n  } as React.CSSProperties\r\n}\r\n\r\nexport const FeatureTable = () => (\r\n  <Paper style={styles.paper}>\r\n    <Table>\r\n      <TableHead>\r\n        <TableRow>\r\n          {tableHeadData.map((val, i) => (\r\n            <TableCell key={i}>{val}</TableCell>\r\n          ))}\r\n        </TableRow>\r\n      </TableHead>\r\n      <TableBody>\r\n        {features.map((feature, i) => (\r\n          <TableRow key={i}>\r\n            {feature.map((val, e) => (\r\n              <TableCell key={e}>\r\n                {val === 'CHECK' ? (\r\n                  <Check style={{ color: '#00CC00' }} />\r\n                ) : val === 'NO' ? (\r\n                  <Close style={{ color: '#cc0000' }} />\r\n                ) : val === 'WIP' ? (\r\n                  <Traffic style={{ color: 'orange' }} />\r\n                ) : val === 'PRO' ? (\r\n                  'Premium'\r\n                ) : (\r\n                  val\r\n                )}\r\n              </TableCell>\r\n            ))}\r\n          </TableRow>\r\n        ))}\r\n      </TableBody>\r\n    </Table>\r\n  </Paper>\r\n)\r\n","import React from 'react'\r\nimport { Icon, Paper } from '@material-ui/core'\r\n\r\nconst galleryOptions = [\r\n  {\r\n    name: 'Dividers',\r\n    description:\r\n      'divide tasks in different task lists or swimlanes for maximum efficiency',\r\n    icon: 'view_quilt'\r\n  },\r\n  {\r\n    name: 'Private tasks',\r\n    description:\r\n      'Not everyone needs access to a task, assign tasks to teams or specific members',\r\n    icon: 'lock'\r\n  },\r\n  {\r\n    name: 'Time tracking',\r\n    description: 'Get detailed statistics of what has been done',\r\n    icon: 'timer'\r\n  },\r\n  {\r\n    name: 'Board settings',\r\n    description: 'Manage members and admins, customize the app',\r\n    icon: 'settings'\r\n  },\r\n  {\r\n    name: 'Targets',\r\n    description:\r\n      'Set goals for certain members, teams, or for the entire project',\r\n    icon: 'check_box'\r\n  },\r\n  {\r\n    name: 'Calendar',\r\n    description:\r\n      'Get an overview of due dates and manage your time accordingly',\r\n    icon: 'calendar_today'\r\n  },\r\n  {\r\n    name: 'Task Board',\r\n    description: 'Get an overview of what has to be done',\r\n    icon: 'view_list'\r\n  },\r\n  {\r\n    name: 'Issue Tracking',\r\n    icon: 'bug_report',\r\n    description: 'Assign importance to tasks and assign bugs to teams'\r\n  },\r\n  {\r\n    name: 'Recurring Tasks',\r\n    icon: 'repeat',\r\n    description: 'Get reminders for tasks that must be done on a routine basis'\r\n  }\r\n]\r\n\r\nexport const FeatureGallery = () => {\r\n  return (\r\n    <Paper style={{ padding: 16, maxWidth: 1000, margin: '12px auto' }}>\r\n      <div\r\n        style={{\r\n          display: 'flex',\r\n          flexDirection: 'row',\r\n          flexWrap: 'wrap'\r\n        }}\r\n      >\r\n        {galleryOptions.map((galleryOption, i) => (\r\n          <div key={i} style={{ flex: 1, display: 'flex' }}>\r\n            <div\r\n              style={{\r\n                margin: 8,\r\n                minWidth: 250,\r\n                flex: 1,\r\n                borderRadius: 4,\r\n                padding: 8,\r\n                flexDirection: 'column',\r\n                alignItems: 'start',\r\n                justifyContent: 'start'\r\n              }}\r\n            >\r\n              <div\r\n                style={{\r\n                  flexDirection: 'row',\r\n                  display: 'flex',\r\n                  alignItems: 'center'\r\n                }}\r\n              >\r\n                <Icon\r\n                  style={{ fontSize: 36, marginRight: 4, color: '#224885' }}\r\n                >\r\n                  {galleryOption.icon}\r\n                </Icon>\r\n                <p style={{ fontWeight: 700, fontSize: 22, color: '#224885' }}>\r\n                  {galleryOption.name}\r\n                </p>\r\n              </div>\r\n              <div style={{ marginTop: 8 }}>{galleryOption.description}</div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </Paper>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { withStyles, Theme, createStyles } from '@material-ui/core/styles'\r\nimport { Typography, WithStyles, Button } from '@material-ui/core'\r\nimport { FeatureTable } from './FeatureTable'\r\nimport { Helmet } from 'react-helmet'\r\nimport { FeatureGallery } from './FeatureGallery'\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    heroContent: {\r\n      minHeight: 180,\r\n      padding: 40,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between',\r\n      backgroundColor: 'white',\r\n      position: 'relative',\r\n      flexDirection: 'column',\r\n    },\r\n    heroTitle: {\r\n      fontSize: 64,\r\n      textAlign: 'center',\r\n    },\r\n    kayLink: {\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      marginTop: 16,\r\n      marginBottom: 16,\r\n      textAlign: 'center',\r\n      minHeight: 368\r\n    }\r\n  })\r\n\r\ntype TProps = WithStyles<typeof styles>\r\n\r\nexport const About = withStyles(styles)((props: TProps) => {\r\n  const { classes } = props\r\n\r\n  return (\r\n    <div>\r\n      <Helmet>\r\n        <style type=\"text/css\">{` body { background-color: #1d364c; } h4 { color: white !important; }`}</style>\r\n        <script\r\n          type=\"text/javascript\"\r\n          src=\"https://platform.linkedin.com/badges/js/profile.js\"\r\n          async\r\n          defer\r\n        />\r\n        <meta\r\n          name=\"description\"\r\n          content=\"Mantella is the most innovative open-source task manager and kanban Board!\"\r\n        />\r\n      </Helmet>\r\n      <div className={classes.heroContent}>\r\n        <Typography variant=\"h2\" className={classes.heroTitle}>\r\n          Mantella  It's Free\r\n        </Typography>\r\n        <div style={{display:'flex'}}>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            size=\"large\"\r\n            onClick={() => (location.hash = '#/register')}\r\n            style={{ marginTop: 'auto' }}\r\n          >\r\n            Sign up today\r\n          </Button>\r\n          <a onClick={() => (location.hash = '#/login')} style={{height: '100%', fontSize: 18, color: 'blue', textDecoration: 'underline', margin: 'auto 12px', cursor: 'pointer' }}>Login instead?</a>\r\n        </div>\r\n      </div>\r\n      <div style={{ margin: '20px 0' }}>\r\n        <Typography variant=\"h4\" align=\"center\" gutterBottom>\r\n          The Team\r\n        </Typography>\r\n        <div className={classes.kayLink}>\r\n          <div\r\n            className=\"LI-profile-badge\"\r\n            data-version=\"v1\"\r\n            data-size=\"large\"\r\n            data-locale=\"en_US\"\r\n            data-type=\"vertical\"\r\n            data-theme=\"dark\"\r\n            data-vanity=\"austin-kay-4a823b139\"\r\n          >\r\n            <a\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"LI-simple-link\"\r\n              href=\"https://www.linkedin.com/in/austin-kay-4a823b139?trk=profile-badge\"\r\n            >\r\n              Austin Kay - Builder\r\n            </a>\r\n          </div>\r\n        </div>\r\n        <Typography style={{ marginTop: 20 }} variant=\"h4\" align=\"center\">\r\n          Features\r\n        </Typography>\r\n        <FeatureTable />\r\n        <FeatureGallery />\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useState } from 'react'\r\nimport {\r\n  TextField,\r\n  List,\r\n  ListSubheader,\r\n  ListItem,\r\n  ListItemText,\r\n  Theme,\r\n  createStyles,\r\n  withStyles,\r\n  WithStyles,\r\n  Button,\r\n  Typography\r\n} from '@material-ui/core'\r\nimport { Link, withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { formalize } from '../../utils/utilities'\r\nimport { TState } from '../../types/state'\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    list: {\r\n      backgroundColor: '#FAFAFA',\r\n      margin: '25px auto 0px auto',\r\n      borderRadius: 0,\r\n      width: '100%'\r\n    }\r\n  })\r\n\r\ntype OwnProps = {\r\n  variant?: 'menu'\r\n  noButton?: true\r\n  onClick?(): void\r\n}\r\n\r\ntype TProps = ReturnType<typeof mapState> &\r\n  WithStyles<typeof styles> &\r\n  OwnProps &\r\n  RouteComponentProps\r\n\r\nconst CProjectSearch = (props: TProps) => {\r\n  const [search, setSearch] = useState('')\r\n\r\n  const { classes } = props\r\n\r\n  let projects = [...Object.values(props.projects)]\r\n\r\n  projects = projects.filter(project => {\r\n    const myString: string = formalize(project.name)\r\n    const searchInput = formalize(search)\r\n\r\n    return myString.indexOf(searchInput) > -1\r\n  })\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1000, marginLeft: 'auto', marginRight: 'auto', minWidth: 280 }}>\r\n      {props.variant !== 'menu' && (\r\n        <Typography align=\"center\" style={{ marginBottom: 10 }} variant=\"h4\">\r\n          Projects\r\n        </Typography>\r\n      )}\r\n      <TextField\r\n        autoFocus={props.variant === 'menu' ? true : undefined}\r\n        style={{ borderRadius: '0%' }}\r\n        fullWidth\r\n        label=\"Filter by Name or Category\"\r\n        variant={props.variant === 'menu' ? ('standard' as any) : 'outlined'}\r\n        value={search}\r\n        onChange={e => setSearch(e.target.value)}\r\n      />\r\n      <List\r\n        className={classes.list}\r\n        subheader={<ListSubheader component=\"div\">Projects</ListSubheader>}\r\n      >\r\n        {projects.map((project, i) => {\r\n          const isLink = project.id === ('create-project' as any)\r\n          const urlPrefix = isLink ? '' : '/project/'\r\n          return (\r\n            <div key={project.id} style={{ whiteSpace: 'nowrap' }}>\r\n              <ListItem\r\n                button\r\n                disabled={\r\n                  props.location.pathname.split('/project/')[1] === project.id\r\n                }\r\n                to={urlPrefix + project.id.toString()}\r\n                onClick={props.onClick}\r\n                component={Link}\r\n              >\r\n                <ListItemText primary={project.name} />\r\n              </ListItem>\r\n            </div>\r\n          )\r\n        })}\r\n      </List>\r\n      <div style={{ marginTop: 20 }}>\r\n        {!props.noButton && (\r\n          <Button\r\n            variant=\"outlined\"\r\n            color=\"primary\"\r\n            to=\"/create-project\"\r\n            component={Link}\r\n            fullWidth\r\n          >\r\n            Create Project\r\n          </Button>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => {\r\n  return {\r\n    projects: state.projects\r\n  }\r\n}\r\n\r\nexport const ProjectFinder = withRouter(\r\n  connect(mapState)(withStyles(styles)(CProjectSearch))\r\n)\r\n","import React, { useState } from 'react'\r\nimport withStyles from '@material-ui/core/styles/withStyles'\r\nimport { withRouter, RouteComponentProps } from 'react-router-dom'\r\nimport Grid from '@material-ui/core/Grid'\r\nimport Typography from '@material-ui/core/Typography'\r\nimport Toolbar from '@material-ui/core/Toolbar'\r\nimport AppBar from '@material-ui/core/AppBar'\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport MenuIcon from '@material-ui/icons/Menu'\r\nimport {\r\n  Theme,\r\n  WithStyles,\r\n  createStyles,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Drawer,\r\n  Tab,\r\n  Avatar,\r\n  Tooltip,\r\n  Button,\r\n  Menu\r\n} from '@material-ui/core'\r\nimport { Trail } from 'react-spring/renderprops'\r\nimport {\r\n  HowToReg,\r\n  PieChart,\r\n  CalendarToday,\r\n  Help,\r\n  Settings\r\n} from '@material-ui/icons'\r\nimport { Link as NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../types/state'\r\nimport { ProjectFinder } from './ProjectFinder/ProjectFinder'\r\n\r\n/**\r\n * @todo Refresh changing tab is kinda slow\r\n * @todo make it have a Drawer for the Header with all the different links on mobile (have a button as well as being swipable)\r\n */\r\n\r\nconst noAuthItems = [\r\n  {\r\n    label: 'About',\r\n    pathname: '/',\r\n    menuIcon: Help\r\n  },\r\n  {\r\n    label: 'Login',\r\n    pathname: '/login',\r\n    menuIcon: HowToReg\r\n  },\r\n  {\r\n    label: 'Register',\r\n    pathname: '/register',\r\n    menuIcon: HowToReg\r\n  }\r\n]\r\n\r\nconst authItems = [\r\n  { label: 'Settings', pathname: '/settings', menuIcon: Settings },\r\n  {\r\n    label: 'Dashboard',\r\n    pathname: '/dashboard',\r\n    menuIcon: PieChart\r\n  },\r\n  {\r\n    label: 'Calendar',\r\n    pathname: '/calendar',\r\n    menuIcon: CalendarToday\r\n  }\r\n]\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    appBar: {\r\n      position: 'relative',\r\n      boxShadow: 'none',\r\n      borderBottom: `1px solid ${theme.palette.grey['100']}`,\r\n      backgroundColor: 'white'\r\n    },\r\n    inline: {\r\n      display: 'inline'\r\n    },\r\n    flex: {\r\n      display: 'flex'\r\n    },\r\n    link: {\r\n      textDecoration: 'none',\r\n      color: 'inherit'\r\n    },\r\n    tagline: {\r\n      display: 'inline-block',\r\n      marginLeft: 10\r\n    },\r\n    iconContainer: {\r\n      display: 'none',\r\n      [theme.breakpoints.down('md')]: {\r\n        display: 'block',\r\n        marginLeft: 'auto'\r\n      }\r\n    },\r\n    tabContainer: {\r\n      marginLeft: 'auto',\r\n      [theme.breakpoints.down('md')]: {\r\n        display: 'none'\r\n      }\r\n    },\r\n    tabItem: {\r\n      paddingTop: 20,\r\n      paddingBottom: 20,\r\n      minWidth: 'auto'\r\n    },\r\n    iconButton: {}\r\n  })\r\n\r\ntype TProps = WithStyles<typeof styles> &\r\n  RouteComponentProps &\r\n  ReturnType<typeof mapState>\r\n\r\nconst Topbar = (props: TProps) => {\r\n  const [drawer, setDrawer] = useState(false)\r\n  const [anchorEl, setAnchorEl] = useState(null as any)\r\n\r\n  const { classes } = props\r\n\r\n  const MenuItems = props.authenticated !== null ? authItems : noAuthItems\r\n\r\n  const value = MenuItems.map(menuItem => menuItem.pathname).indexOf(\r\n    props.location.pathname\r\n  )\r\n\r\n  return (\r\n    <>\r\n      <AppBar position=\"absolute\" color=\"default\" className={classes.appBar}>\r\n        <Toolbar style={{ minHeight: 64, padding: '0px 24px' }}>\r\n          <Grid container spacing={3} alignItems=\"center\">\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              style={{ alignItems: 'center' }}\r\n              className={classes.flex}\r\n            >\r\n              {props.authenticated !== null && (\r\n                <>\r\n                  <Button\r\n                    style={{\r\n                      margin: 'auto 25px auto 0px',\r\n                      paddingTop: 8,\r\n                      paddingBottom: 8\r\n                    }}\r\n                    color=\"primary\"\r\n                    variant=\"outlined\"\r\n                    onClick={e => setAnchorEl(e.currentTarget)}\r\n                  >\r\n                    <MenuIcon />\r\n                    <span style={{ marginLeft: 5 }}>Projects</span>\r\n                  </Button>\r\n                  <Menu\r\n                    anchorEl={anchorEl}\r\n                    open={Boolean(anchorEl)}\r\n                    onClose={() => setAnchorEl(null)}\r\n                  >\r\n                    <div style={{ outline: 'none', margin: 10 }}>\r\n                      <ProjectFinder variant=\"menu\" />\r\n                    </div>\r\n                  </Menu>\r\n                </>\r\n              )}\r\n              <div className={classes.inline}>\r\n                <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n                  <Trail\r\n                    items={'Kanban Brawn'}\r\n                    from={{ transform: 'translate3d(0,-40px,0)' }}\r\n                    to={{ transform: 'translate3d(0,0px,0)' }}\r\n                  >\r\n                    {item => trailProps => (\r\n                      <a\r\n                        target=\"_blank\"\r\n                        href=\"https://github.com/conradkay/Mantella\"\r\n                        style={{\r\n                          ...trailProps,\r\n                          color: 'black',\r\n                          textDecoration: 'none',\r\n                          paddingRight: 5\r\n                        }}\r\n                        className={classes.tagline}\r\n                      >\r\n                        Mantella\r\n                      </a>\r\n                    )}\r\n                  </Trail>\r\n                </Typography>\r\n              </div>\r\n              <React.Fragment>\r\n                <div className={classes.iconContainer}>\r\n                  <IconButton\r\n                    onClick={() => setDrawer(true)}\r\n                    className={classes.iconButton}\r\n                  >\r\n                    <MenuIcon />\r\n                  </IconButton>\r\n                </div>\r\n\r\n                <div className={classes.tabContainer}>\r\n                  <Tabs\r\n                    value={value === -1 ? false : value}\r\n                    indicatorColor=\"primary\"\r\n                    textColor=\"primary\"\r\n                  >\r\n                    {MenuItems.map((item, index) => (\r\n                      <Tab\r\n                        disabled={location.hash.slice(1) === item.pathname}\r\n                        style={{ minWidth: 96 }}\r\n                        key={index}\r\n                        to={item.pathname}\r\n                        component={NavLink}\r\n                        classes={{ root: classes.tabItem }}\r\n                        label={item.label}\r\n                      />\r\n                    ))}\r\n                  </Tabs>\r\n                </div>\r\n\r\n                {props.authenticated !== null && (\r\n                  <>\r\n                    <Tooltip title={`${props.authenticated.username}`}>\r\n                      <Avatar\r\n                        style={{\r\n                          margin: 'auto 10px',\r\n                          backgroundColor: '#0061ff'\r\n                        }}\r\n                      >\r\n                        {props.authenticated.username[0].toUpperCase()}\r\n                      </Avatar>\r\n                    </Tooltip>\r\n                  </>\r\n                )}\r\n              </React.Fragment>\r\n            </Grid>\r\n          </Grid>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer anchor=\"right\" open={drawer} onClose={() => setDrawer(false)}>\r\n        <div style={{ width: 'auto' }}>\r\n          <List>\r\n            {MenuItems.map((menuItem, index) => (\r\n              <ListItem\r\n                onClick={() => setDrawer(false)}\r\n                to={menuItem.pathname}\r\n                component={NavLink}\r\n                button\r\n                key={index}\r\n              >\r\n                <ListItemIcon>\r\n                  <menuItem.menuIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary={menuItem.label} />\r\n              </ListItem>\r\n            ))}\r\n          </List>\r\n        </div>\r\n      </Drawer>\r\n    </>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState) => ({\r\n  authenticated: state.user\r\n})\r\n\r\nconst Routed = withRouter(connect(mapState)(Topbar))\r\n\r\nexport const Header = withStyles(styles)(Routed)\r\n","import * as React from 'react'\r\nimport {\r\n  withStyles,\r\n  createStyles,\r\n  Theme,\r\n  SnackbarContent,\r\n  Snackbar,\r\n  IconButton,\r\n  WithStyles\r\n} from '@material-ui/core'\r\n\r\nimport { connect } from 'react-redux'\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle'\r\nimport WarningIcon from '@material-ui/icons/Warning'\r\nimport ErrorIcon from '@material-ui/icons/Error'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { closeSnackbarA } from '../../store/actions/snackbar'\r\nimport { TVariant } from '../../types/state'\r\nimport { TState } from '../../types/state'\r\nimport { Info } from '@material-ui/icons'\r\n\r\n/**\r\n * @description used in snackbarRoot to determine how to display snackbar based on state.snackbar.variant\r\n * @returns {JSX inline style} whether or not to load an error icon with red or success + green etc.\r\n */\r\ntype Classes = {\r\n  success: string\r\n  warning: string\r\n  error: string\r\n  standard: string\r\n}\r\nconst getClassSnackbarVariant = (variant: TVariant, classes: Classes) => {\r\n  if (variant === 'success') {\r\n    return classes.success\r\n  } else if (variant === 'warning') {\r\n    return classes.warning\r\n  } else if (variant === 'error') {\r\n    return classes.error\r\n  } else {\r\n    return classes.standard\r\n  }\r\n}\r\n\r\nconst FULL_WIDTH_POINT_PX = 960\r\nconst AUTO_HIDE_POINT_MS = 3000\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    success: { backgroundColor: '#43A047' }, // what a nice green\r\n    warning: { backgroundColor: '#FFA000' },\r\n    standard: {},\r\n    error: { backgroundColor: theme.palette.error.dark },\r\n    close: { width: 24, height: 24 },\r\n    message: { display: 'flex', alignItems: 'center' },\r\n    icon: { fontSize: 20, marginRight: theme.spacing(1) },\r\n    snackbar: {\r\n      [theme.breakpoints.down(FULL_WIDTH_POINT_PX)]: {\r\n        marginBottom: '0px !important'\r\n      }\r\n    }\r\n  })\r\n\r\ntype TProps = WithStyles<typeof styles> &\r\n  ReturnType<typeof mapState> &\r\n  typeof actionCreators\r\n\r\nconst SnackbarComponent = (props: TProps) => {\r\n  // Find what Icon to use for snackbar by variant\r\n  const variantIcon = {\r\n    success: CheckCircleIcon,\r\n    warning: WarningIcon,\r\n    error: ErrorIcon,\r\n    standard: Info\r\n  }\r\n  const { classes, open, message, variant, closeSnackbar } = props\r\n  const backgroundClass: string = getClassSnackbarVariant(variant, classes)\r\n\r\n  const Icon = variantIcon[variant]\r\n  return (\r\n    <Snackbar\r\n      anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n      open={open}\r\n      style={{ marginBottom: 20 }}\r\n      className={classes.snackbar}\r\n      autoHideDuration={AUTO_HIDE_POINT_MS}\r\n      onClose={closeSnackbar}\r\n    >\r\n      <SnackbarContent\r\n        className={backgroundClass}\r\n        message={\r\n          <span className={classes.message}>\r\n            <Icon className={classes.icon} />\r\n            <span style={{ marginLeft: 15, fontSize: 15 }}>{message}</span>\r\n          </span>\r\n        }\r\n        action={[\r\n          <IconButton\r\n            key=\"close\"\r\n            color=\"inherit\"\r\n            className={classes.icon}\r\n            onClick={closeSnackbar}\r\n          >\r\n            <CloseIcon className={classes.close} />\r\n          </IconButton>\r\n        ]}\r\n      />\r\n    </Snackbar>\r\n  )\r\n}\r\n\r\nconst mapState = ({ snackbar }: TState) => ({\r\n  open: snackbar.open,\r\n  message: snackbar.message,\r\n  variant: snackbar.variant\r\n})\r\n\r\nconst actionCreators = {\r\n  closeSnackbar: closeSnackbarA\r\n}\r\n\r\nexport const SnackbarRoot = connect(\r\n  mapState,\r\n  actionCreators\r\n)(withStyles(styles)(SnackbarComponent))\r\n","import ApolloClient from 'apollo-client'\r\n\r\nimport { ApolloLink } from 'apollo-link'\r\n\r\nimport { onError } from 'apollo-link-error'\r\n\r\nimport { HttpLink } from 'apollo-link-http'\r\n\r\nimport { InMemoryCache } from 'apollo-cache-inmemory'\r\n\r\nexport const client = new ApolloClient({\r\n  connectToDevTools: true,\r\n  link: ApolloLink.from([\r\n    onError(({ graphQLErrors, networkError }) => {\r\n      if (graphQLErrors) {\r\n        graphQLErrors.map(({ message, locations, path }) =>\r\n          console.error(\r\n            `GQL ERROR: Message: ${message}, Location: ${locations}, Path: ${path}`\r\n          )\r\n        )\r\n      }\r\n      if (networkError) {\r\n        console.error(`[Network error]: ${networkError}`)\r\n      }\r\n    }),\r\n    new HttpLink({\r\n      uri: `/graphql`,\r\n      credentials: 'include'\r\n    })\r\n  ]),\r\n  cache: new InMemoryCache()\r\n})\r\n","import { Route, Redirect, RouteProps } from 'react-router'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../types/state'\r\nimport React from 'react'\r\n\r\nconst mapState = (state: TState) => ({\r\n  user: state.user\r\n})\r\n\r\ntype TProps = ReturnType<typeof mapState> & {\r\n  component: any\r\n  componentProps: any\r\n} & RouteProps\r\n\r\nexport const PrivateRoute = connect(mapState)(\r\n  ({ component: PropComponent, componentProps, user, ...rest }: TProps) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          user !== null ? (\r\n            <PropComponent\r\n              params={props.match.params}\r\n              {...(componentProps as (typeof PropComponent)['props'])}\r\n            />\r\n          ) : (\r\n            <Redirect to=\"/login\" />\r\n          )\r\n        }\r\n      />\r\n    )\r\n  }\r\n)\r\nexport const PublicOnlyRoute = connect(mapState)(\r\n  ({ component: PropComponent, componentProps, user, ...rest }: TProps) => {\r\n    return (\r\n      <Route\r\n        {...rest}\r\n        render={props =>\r\n          user === null ? (\r\n            <PropComponent\r\n              {...componentProps}\r\n              params={props.match.params}\r\n              {...componentProps}\r\n            />\r\n          ) : (\r\n            <Redirect to=\"/dashboard\" />\r\n          )\r\n        }\r\n      />\r\n    )\r\n  }\r\n)\r\n","export const setListA = (args: {\r\n  id: string\r\n  projectId: string\r\n  newList: { taskIds?: string[]; name?: string } | null\r\n}) => ({\r\n  type: 'SET_LIST',\r\n  id: args.id,\r\n  projectId: args.projectId,\r\n  newList: args.newList\r\n})\r\n\r\nexport type ListAction = ReturnType<typeof setListA>\r\n\r\n// lol\r\n","import gql from 'graphql-tag'\r\nimport { projectFields } from '../fragments'\r\n\r\nexport const GQL_CREATE_LIST = gql`\r\n  ${projectFields}\r\n\r\n  mutation createList($name: String!, $projId: String!) {\r\n    createList(projId: $projId, name: $name) {\r\n      project {\r\n        ...projectFields\r\n      }\r\n      list {\r\n        ...listFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_DELETE_LIST = gql`\r\n  mutation deleteList($projectId: String!, $id: String!) {\r\n    deleteList(projId: $projectId, id: $id) {\r\n      id\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_EDIT_LIST = gql`\r\n  ${projectFields}\r\n\r\n  mutation editList($id: String!, $projectId: String!, $newList: ListInput!) {\r\n    editList(listId: $id, projId: $projectId, newList: $newList) {\r\n      list {\r\n        ...listFields\r\n      }\r\n      project {\r\n        ...projectFields\r\n      }\r\n    }\r\n  }\r\n`\r\n","import * as React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogContentText,\r\n  TextField,\r\n  DialogActions,\r\n  Button,\r\n  Theme,\r\n  createStyles,\r\n  WithStyles,\r\n  IconButton,\r\n  withStyles\r\n} from '@material-ui/core'\r\nimport { Close } from '@material-ui/icons'\r\nimport { Change } from '../../types/types'\r\nimport { setListA } from '../../store/actions/list'\r\nimport { TProject } from '../../types/project'\r\nimport { useState } from 'react'\r\nimport {\r\n  CreateListMutation,\r\n  CreateListMutationVariables\r\n} from '../../graphql/types'\r\nimport { GQL_CREATE_LIST } from '../../graphql/mutations/list'\r\nimport { useMutation } from 'react-apollo'\r\n\r\ninterface OwnProps {\r\n  project: TProject\r\n  onClose(): void\r\n}\r\n\r\ntype CreateColumnProps = typeof actionCreators &\r\n  OwnProps &\r\n  WithStyles<typeof styles>\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    closeButton: {\r\n      position: 'absolute',\r\n      right: theme.spacing(1),\r\n      top: theme.spacing(1),\r\n      color: theme.palette.grey[500]\r\n    }\r\n  })\r\n\r\nconst CCreateColumn = (props: CreateColumnProps) => {\r\n  const { project, onClose, classes } = props\r\n\r\n  const [name, setName] = useState('')\r\n\r\n  const [createListExec] = useMutation<\r\n    CreateListMutation,\r\n    CreateListMutationVariables\r\n  >(GQL_CREATE_LIST, {\r\n    onCompleted: ({ createList }) => {\r\n      props.setList({\r\n        id: createList.list!.id,\r\n        projectId: props.project.id,\r\n        newList: {\r\n          taskIds: [],\r\n          name: createList.list!.name || 'List'\r\n        }\r\n      })\r\n    }\r\n  })\r\n\r\n  return (\r\n    <Dialog open={true} onClose={onClose}>\r\n      <form\r\n        onSubmit={e => {\r\n          e.preventDefault()\r\n\r\n          createListExec({\r\n            variables: {\r\n              name: name || 'List',\r\n              projId: project.id\r\n            }\r\n          })\r\n    \r\n          onClose()\r\n        }}\r\n      >\r\n        <DialogTitle>Create List</DialogTitle>\r\n        <IconButton className={classes.closeButton} onClick={onClose}>\r\n          <Close />\r\n        </IconButton>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Lists should contain either a type or date of task. Ex: \"Amanda\",\r\n            \"Expert Tasks\", or \"Writing\"\r\n          </DialogContentText>\r\n          <TextField\r\n            required\r\n            autoFocus\r\n            margin=\"dense\"\r\n            label=\"List Name\"\r\n            value={name}\r\n            onChange={({ target }: Change) => setName(target.value)}\r\n            fullWidth\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button  onClick={onClose} color=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button  variant=\"contained\" color=\"primary\" type=\"submit\">\r\n            Create\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nconst actionCreators = {\r\n  setList: setListA\r\n}\r\n\r\nexport const CreateColumn = connect(\r\n  null,\r\n  actionCreators\r\n)(withStyles(styles)(CCreateColumn))\r\n","import React from 'react'\r\nimport {\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  Button,\r\n  DialogActions,\r\n  Typography,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar\r\n} from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport { TProject } from '../../types/project'\r\nimport { setProjectA } from '../../store/actions/project'\r\nimport { Delete } from '@material-ui/icons'\r\nimport {\r\n  DeleteProjectMutation,\r\n  DeleteProjectMutationVariables\r\n} from '../../graphql/types'\r\nimport { GQL_DELETE_PROJECT } from '../../graphql/mutations/project'\r\nimport { useMutation } from 'react-apollo'\r\n\r\ntype TProps = {\r\n  onClose: () => void\r\n  project: TProject\r\n} & typeof actionCreators\r\n\r\nconst CProjectSettings = (props: TProps) => {\r\n  const [hasClicked, setClicked] = React.useState(false)\r\n\r\n  const [deleteProjectExec] = useMutation<\r\n    DeleteProjectMutation,\r\n    DeleteProjectMutationVariables\r\n  >(GQL_DELETE_PROJECT, {\r\n    onCompleted: ({ deleteProject }) => {\r\n      if (deleteProject && deleteProject.id) {\r\n        props.setProject({ id: deleteProject.id, newProj: null })\r\n      }\r\n    }\r\n  })\r\n\r\n  /*\r\n  const [setCommentExec] = useMutation<\r\n    SetCommentMutation,\r\n    SetCommentMutationVariables\r\n  >(GQL_SET_COMMENT, {\r\n    onCompleted: ({ setComment }) => {}\r\n  })\r\n\r\n  const [setSubtaskExec] = useMutation<\r\n    SetSubtaskMutation,\r\n    SetSubtaskMutationVariables\r\n  >(GQL_SET_SUBTASK, {\r\n    onCompleted: ({ setSubtask }) => {}\r\n  })\r\n  */\r\n\r\n  return (\r\n    <Dialog onClose={props.onClose} open={true}>\r\n      <div style={{ minWidth: '500px' }} />\r\n      <DialogTitle>Project Settings</DialogTitle>\r\n      <DialogContent>\r\n        <Typography style={{ fontSize: 20 }}>\r\n          <span style={{ color: 'red', marginRight: 8 }}>Danger Zone!</span>\r\n        </Typography>\r\n        <ListItem>\r\n          <ListItemAvatar>\r\n            <Delete />\r\n          </ListItemAvatar>\r\n          <ListItemText\r\n            primary=\"Delete this project\"\r\n            secondary=\"Once deleted, projects cannot be restored\"\r\n          />\r\n          <Button\r\n            size=\"medium\"\r\n            onClick={() => {\r\n              if (hasClicked) {\r\n                deleteProjectExec({ variables: { id: props.project.id } })\r\n              } else {\r\n                setClicked(true)\r\n              }\r\n            }}\r\n            color=\"primary\"\r\n            variant={hasClicked ? 'contained' : 'outlined'}\r\n            style={{ marginLeft: 16, maxHeight: 36, marginTop: 'auto' }}\r\n          >\r\n            {hasClicked ? 'Confirm' : 'Delete'}\r\n          </Button>\r\n        </ListItem>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={props.onClose}>Continue</Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nconst actionCreators = {\r\n  setProject: setProjectA\r\n}\r\n\r\nexport const ProjectSettings = connect(\r\n  null,\r\n  actionCreators\r\n)(CProjectSettings)\r\n","import { isBefore } from 'date-fns'\r\nimport { isArray } from 'lodash'\r\n\r\nexport const hasPassed = (date?: Date | [Date, Date]): boolean => {\r\n  if (isArray(date)) {\r\n    return (date as any)[1]\r\n  }\r\n  return date ? isBefore(date, new Date()) : false\r\n}\r\n","import { format } from 'date-fns'\r\nimport { hasPassed } from './hasPassed'\r\nimport { TTask } from '../types/project'\r\nimport { toDaysHHMMSS } from './convertToTime'\r\nimport { formatDistance } from 'date-fns'\r\n\r\n// Jan 1st 12:02 am\r\nconst baseFormat = (date: Date): string => format(date, 'MMM do h:mm a')\r\n\r\nconst overdueFormat = (date: Date): string => {\r\n  return 'Overdue by ' + formatDistance( new Date(), date)\r\n}\r\n\r\nconst god = (date: Date, hasOver?: boolean): string => {\r\n  return hasPassed(date) && hasOver\r\n    ? overdueFormat(date)\r\n    : 'Due ' + baseFormat(date)\r\n}\r\n\r\nexport const formatDueDate = (task: TTask, hasOverDue?: boolean): string => {\r\n  if (!task.dueDate) {\r\n    return ''\r\n  }\r\n\r\n  if (!task.recurrance) {\r\n    return god(new Date(task.dueDate), hasOverDue)\r\n  }\r\n\r\n  if (task.recurrance.interval) {\r\n    return `Due every ${toDaysHHMMSS(\r\n      task.recurrance.interval!,\r\n      true\r\n    )} next: ${god(new Date(task.dueDate), hasOverDue)}`\r\n  }\r\n\r\n  return god(new Date(task.dueDate), hasOverDue)\r\n}\r\n","import { cloneDeep } from 'lodash'\r\nimport { TSubtask, TTask } from './../../types/project'\r\n\r\nexport const setTaskA = (args: {\r\n  id: string\r\n  newTask: TTask | null\r\n  projectId: string\r\n}) => ({\r\n  type: 'SET_TASK',\r\n  id: args.id,\r\n  projectId: args.projectId,\r\n  newTask: args.newTask ? cloneDeep({ ...args.newTask }) : null\r\n})\r\n\r\nexport const setSubtaskA = (args: {id: string, newSubtask: TSubtask, projectId: string, taskId: string}) => ({\r\n  type: 'SET_SUBTASK',\r\n  id: args.id, projectId: args.projectId,\r\n  newSubtask: args.newSubtask, taskId: args.taskId\r\n})\r\n\r\nexport type TaskAction = ReturnType<typeof setTaskA> | ReturnType<typeof setSubtaskA>\r\n","import { projectFields, taskFields } from './../fragments'\r\nimport gql from 'graphql-tag'\r\n\r\nexport const GQL_SET_SUBTASK = gql`\r\n  ${taskFields}\r\n\r\n  mutation setSubtask(\r\n    $projId: String!\r\n    $taskId: String!\r\n    $subtaskId: String\r\n    $info: SubtaskInfo\r\n  ) {\r\n    setSubtask(\r\n      projId: $projId\r\n      taskId: $taskId\r\n      subtaskId: $subtaskId\r\n      info: $info\r\n    ) {\r\n      ...taskFields\r\n    }\r\n  }\r\n`\r\nexport const GQL_SET_COMMENT = gql`\r\n  ${taskFields}\r\n\r\n  mutation setComment(\r\n    $projId: String!\r\n    $taskId: String!\r\n    $commentId: String\r\n    $description: String\r\n  ) {\r\n    setComment(\r\n      projId: $projId\r\n      taskId: $taskId\r\n      commentId: $commentId\r\n      description: $description\r\n    ) {\r\n      ...taskFields\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_CREATE_TASK = gql`\r\n  ${projectFields}\r\n\r\n  mutation createTask(\r\n    $taskInfo: TaskInput!\r\n    $projId: String!\r\n    $listId: String!\r\n  ) {\r\n    createTask(taskInfo: $taskInfo, projId: $projId, listId: $listId) {\r\n      project {\r\n        ...projectFields\r\n      }\r\n\r\n      task {\r\n        ...taskFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_EDIT_TASK = gql`\r\n  ${projectFields}\r\n\r\n  mutation editTask($projId: String!, $taskId: String!, $newTask: TaskInput!) {\r\n    editTask(projId: $projId, taskId: $taskId, task: $newTask) {\r\n      project {\r\n        ...projectFields\r\n      }\r\n      task {\r\n        ...taskFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_DELETE_TASK = gql`\r\n  ${projectFields}\r\n\r\n  mutation deleteTask($projId: String!, $taskId: String!) {\r\n    deleteTask(projId: $projId, id: $taskId) {\r\n      project {\r\n        ...projectFields\r\n      }\r\n    }\r\n  }\r\n`\r\n\r\nexport const GQL_DRAG_TASK = gql`\r\n  ${projectFields}\r\n\r\n  mutation dragTask(\r\n    $oldListId: String!\r\n    $newListId: String!\r\n    $newIndex: Int!\r\n    $id: String!\r\n    $newProgress: Int!\r\n    $projectId: String!\r\n  ) {\r\n    dragTask(\r\n      oldListId: $oldListId\r\n      newListId: $newListId\r\n      newIndex: $newIndex\r\n      id: $id\r\n      newProgress: $newProgress\r\n      projectId: $projectId\r\n    ) {\r\n      task {\r\n        ...taskFields\r\n      }\r\n      project {\r\n        ...projectFields\r\n      }\r\n    }\r\n  }\r\n`\r\n","import React, { useState, useEffect, useRef } from 'react'\r\nimport { TTask, TSubtask } from '../../../types/project'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../../types/state'\r\nimport {\r\n  selectPomodoroTaskA,\r\n  toggleTimerA\r\n} from '../../../store/actions/pomodoro'\r\nimport {\r\n  LinearProgress,\r\n  Badge,\r\n  createStyles,\r\n  WithStyles,\r\n  withStyles,\r\n  IconButton\r\n} from '@material-ui/core'\r\nimport { DraggableProvided, DraggableStateSnapshot } from 'react-beautiful-dnd'\r\nimport { formatDueDate } from '../../../utils/formatDueDate'\r\nimport { toDaysHHMMSS } from '../../../utils/convertToTime'\r\nimport {\r\n  CheckBox,\r\n  CheckBoxOutlineBlankOutlined,\r\n  PlayArrow,\r\n  Pause,\r\n  Comment,\r\n  List\r\n} from '@material-ui/icons'\r\n// import {GQL_SET_SUBTASK} from '../../../graphql/mutations/task'\r\nimport { hasPassed } from '../../../utils/hasPassed'\r\nimport { Transition, animated } from 'react-spring/renderprops'\r\nimport { TProject } from '../../../types/project'\r\nimport { selectMemberA } from '../../../store/actions/project'\r\nimport { setSubtaskA } from '../../../store/actions/task'\r\nimport { GQL_SET_SUBTASK } from '../../../graphql/mutations/task'\r\nimport { useMutation } from 'react-apollo'\r\nimport { SetSubtaskMutation, SetSubtaskMutationVariables } from '../../../graphql/types'\r\n\r\nconst useInterval = (callback: () => void, delay: number) => {\r\n  const savedCallback = useRef(undefined as any)\r\n\r\n  // Remember the latest callback.\r\n  useEffect(() => {\r\n    savedCallback.current = callback\r\n  })\r\n\r\n  // Set up the interval.\r\n  useEffect(() => {\r\n    function tick() {\r\n      savedCallback.current()\r\n    }\r\n    if (delay !== null) {\r\n      const id = setInterval(tick, delay)\r\n      return () => clearInterval(id)\r\n    }\r\n    return\r\n  }, [delay])\r\n}\r\n\r\nexport const SubtaskMap = ({\r\n  subTasks,\r\n  onCheckbox,\r\n  taskId,\r\n  show\r\n}: {\r\n  subTasks: TSubtask[]\r\n  onCheckbox: (newSub: TSubtask) => void\r\n  taskId: string\r\n  show: boolean\r\n}) => (\r\n  <div style={{ marginLeft: 30 }}>\r\n    <Transition\r\n      initial={null}\r\n      native\r\n      items={show ? subTasks : []}\r\n      keys={\r\n        show\r\n          ? subTasks.map(subTask => subTask.id)\r\n          : []\r\n      }\r\n      from={{ opacity: 1, height: 0, overflow: 'hidden' }}\r\n      enter={{ opacity: 1, height: 'auto' }}\r\n      leave={{ opacity: 0, height: 0, overflow: 'hidden' }}\r\n    >\r\n      {subTask => props => (\r\n        <animated.div\r\n          style={{\r\n            display: 'flex',\r\n            alignItems: 'center',\r\n            ...props\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              marginTop: 6\r\n            }}\r\n          >\r\n            {subTask.completed ? (\r\n              <CheckBox\r\n                onClick={e => {\r\n                  e.stopPropagation()\r\n                  onCheckbox({...subTask, completed: false})\r\n                }}\r\n              />\r\n            ) : (\r\n              <CheckBoxOutlineBlankOutlined\r\n                onClick={e => {\r\n                  e.stopPropagation()\r\n                  onCheckbox({...subTask, completed: true})\r\n                }}\r\n              />\r\n            )}\r\n          </div>\r\n          <span style={{ marginLeft: 8 }}>{subTask.name}</span>\r\n        </animated.div>\r\n      )}\r\n    </Transition>\r\n  </div>\r\n)\r\n\r\ninterface OwnProps {\r\n  project: TProject\r\n  task: TTask\r\n  provided: DraggableProvided\r\n  snapshot: DraggableStateSnapshot\r\n  openFunc(): void\r\n}\r\n\r\nconst styles = () =>\r\n  createStyles({\r\n    badgeColor: {\r\n      backgroundColor: '#4caf50'\r\n    },\r\n    badge: {\r\n      marginTop: 15,\r\n      marginRight: 15\r\n      // position: 'relative'\r\n    },\r\n    input: {\r\n      cursor: 'inherit',\r\n      position: 'absolute',\r\n      opacity: 0,\r\n      width: '100%',\r\n      height: '100%',\r\n      top: 0,\r\n      left: 0,\r\n      margin: 0,\r\n      padding: 0\r\n    },\r\n    play: {\r\n      padding: 6,\r\n      marginRight: 2,\r\n      color: 'rgba(0, 0, 0, 0.54)'\r\n    }\r\n  })\r\n\r\ntype TaskProps = OwnProps &\r\n  ReturnType<typeof mapState> &\r\n  typeof actionCreators &\r\n  WithStyles<typeof styles>\r\n\r\nconst CBaseTask = (props: TaskProps) => {\r\n  const [showComments, setShowComments] = useState(false)\r\n  const [showSubTasks, setShowSubTasks] = useState(true)\r\n\r\n  const [formatDate, setFormatDate] = useState(formatDueDate(props.task, true))\r\n\r\n  if (formatDueDate(props.task, true) !== formatDate) {\r\n    setFormatDate(formatDueDate(props.task, true))\r\n  }\r\n  useInterval(() => {\r\n    if (props.task.dueDate) {\r\n      setFormatDate(formatDueDate(props.task, true))\r\n    }\r\n  }, 1000)\r\n\r\n  const { task, isSelectingTask, provided, snapshot, openFunc } = props\r\n  const MIN_HEIGHT = 20\r\n\r\n  const border = '1px solid rgba(0, 0, 0, 0.12)'\r\n\r\n  const [setSubtaskExec] = useMutation<SetSubtaskMutation, SetSubtaskMutationVariables>(GQL_SET_SUBTASK, {\r\n    onCompleted: ({setSubtask}) => {\r\n      if(setSubtask) {\r\n\r\n      }\r\n      else {\r\n        console.log('no subtask returned')\r\n      }\r\n    },\r\n    onError: () => {}\r\n  })\r\n\r\n  return task ? (\r\n    <div style={{ width: '100%' }}>\r\n      <div\r\n        id={task.id.toString()}\r\n        ref={provided ? provided.innerRef : undefined}\r\n        {...provided.draggableProps}\r\n        {...provided.dragHandleProps}\r\n        style={{\r\n          minHeight: MIN_HEIGHT,\r\n          backgroundColor: task.color ? task.color : 'white',\r\n          border,\r\n          borderBottom: 'border',\r\n          ...provided.draggableProps.style,\r\n          color: snapshot ? (snapshot.isDragging ? 'gray' : 'black') : 'black',\r\n          outline: 'none'\r\n        }}\r\n        onClick={() => {\r\n          /* if (project && project.selectingMember) {\r\n            props.stopSelectingMember({\r\n              id: project.selectingMember,\r\n              projectId: project.id\r\n            })\r\n          } else */ if (\r\n            isSelectingTask\r\n          ) {\r\n            props.selectPomodoroTask(task.id.toString())\r\n          } else {\r\n            openFunc()\r\n          }\r\n        }}\r\n      >\r\n        <Badge\r\n          classes={{\r\n            colorSecondary: props.classes.badgeColor,\r\n            badge: props.classes.badge\r\n          }}\r\n          color={'primary'}\r\n          badgeContent={task.points}\r\n          style={{\r\n            width: '100%',\r\n            display: 'flex',\r\n            minHeight: MIN_HEIGHT,\r\n            outline: 'none'\r\n          }}\r\n        >\r\n          <div style={{ margin: 4, width: '100%', display: 'block' }}>\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                alignItems: 'center'\r\n              }}\r\n            >\r\n              <span\r\n                id={task.id}\r\n                style={{\r\n                  fontSize: 18,\r\n                  maxWidth: '94%',\r\n                  color:\r\n                    snapshot && snapshot.isDragging\r\n                      ? 'gray'\r\n                      : hasPassed(\r\n                          task.dueDate ? new Date(task.dueDate) : undefined\r\n                        ) && task.progress !== 2\r\n                      ? '#d32f24'\r\n                      : 'black',\r\n                  marginLeft: 4,\r\n                  marginTop: 4\r\n                }}\r\n              >\r\n                <div style={{ display: 'flex' }}>\r\n                  {task.name ? task.name : 'Unnamed Task'}\r\n                </div>\r\n              </span>\r\n            </div>\r\n            <SubtaskMap\r\n              show={showSubTasks}\r\n              subTasks={task.subTasks}\r\n              taskId={task.id}\r\n              onCheckbox={(newSub: TSubtask) => {\r\n                props.setSubtask({taskId: task.id, projectId: props.project.id, id: newSub.id, newSubtask: newSub})\r\n                setSubtaskExec({variables: {projId: props.project.id, taskId: task.id, subtaskId: newSub.id, info: {name: newSub.name, completed: newSub.completed}}})\r\n              }}\r\n            />\r\n\r\n            {task.comments.length !== 0 && (\r\n              <Transition\r\n                initial={null}\r\n                items={showComments}\r\n                from={{ height: 0, overflow: 'hidden' }}\r\n                enter={{ height: 'auto' }}\r\n                leave={{ height: 0, overflow: 'hidden' }}\r\n              >\r\n                {show =>\r\n                  show &&\r\n                  (style => (\r\n                    <animated.div style={{ marginLeft: 6, ...style }}>\r\n                      <div\r\n                        style={{\r\n                          paddingTop: 10,\r\n                          paddingBottom: 10,\r\n                          borderRadius: '.8rem'\r\n                        }}\r\n                      >\r\n                        {task.comments.map(comment => (\r\n                          <div key={comment.id} style={{ color: 'black' }}>\r\n                            <span style={{ color: 'rgba(0, 0, 0, 0.70)' }}>\r\n                              {\r\n                                formatDueDate(\r\n                                  {\r\n                                    ...task,\r\n                                    dueDate: comment.dateAdded,\r\n                                    recurrance: undefined\r\n                                  },\r\n                                  false\r\n                                ).split('Due')[1]\r\n                              }\r\n                            </span>\r\n                            {'  -  '}\r\n                            {comment.comment}\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    </animated.div>\r\n                  ))\r\n                }\r\n              </Transition>\r\n            )}\r\n            {task.dueDate && task.progress !== 2 && (\r\n              <>\r\n                <div style={{ marginLeft: 6 }}>{formatDate}</div>\r\n              </>\r\n            )}\r\n\r\n            <div\r\n              style={{\r\n                display: 'flex',\r\n                cursor: 'pointer'\r\n              }}\r\n            >\r\n              {Object.values(task.comments).length !== 0 && (\r\n                <IconButton\r\n                  className={props.classes.play}\r\n                  onClick={e => {\r\n                    e.stopPropagation()\r\n                    setShowComments(!showComments)\r\n                  }}\r\n                >\r\n                  <Comment />\r\n                </IconButton>\r\n              )}\r\n              {Object.values(task.subTasks).length !== 0 && (\r\n                <IconButton\r\n                  style={{ marginRight: 8 }}\r\n                  className={props.classes.play}\r\n                  onClick={e => {\r\n                    // eventually have it toggle icon based on current showSubtasks(same with comments)\r\n                    e.stopPropagation()\r\n                    setShowSubTasks(!showSubTasks)\r\n                  }}\r\n                >\r\n                  <List />\r\n                </IconButton>\r\n              )}\r\n              {task.timeWorkedOn !== 0 && (\r\n                <span style={{ alignSelf: 'center' }}>\r\n                  Worked on for {toDaysHHMMSS(task.timeWorkedOn, true)}\r\n                </span>\r\n              )}\r\n              {!props.isCurrentTask ? (\r\n                <PlayArrow\r\n                  style={{ marginLeft: 'auto' }}\r\n                  className={props.classes.play}\r\n                  onClick={e => {\r\n                    e.stopPropagation()\r\n                    props.selectPomodoroTask(task.id)\r\n                    props.toggleTimer()\r\n                  }}\r\n                />\r\n              ) : (\r\n                <Pause\r\n                  style={{ marginLeft: 'auto' }}\r\n                  className={props.classes.play}\r\n                  onClick={e => {\r\n                    e.stopPropagation()\r\n                    props.selectPomodoroTask(task.id)\r\n                    props.toggleTimer()\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n          </div>\r\n        </Badge>\r\n        {task.subTasks.length !== 0 && (\r\n          <LinearProgress\r\n            style={{\r\n              borderRadius: 0\r\n            }}\r\n            variant=\"determinate\"\r\n            color=\"secondary\"\r\n            value={\r\n              task.progress === 2\r\n                ? 100\r\n                : (task.subTasks.filter(subTask => subTask.completed).length /\r\n                    task.subTasks.length) *\r\n                  100\r\n            }\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  ) : null\r\n}\r\n\r\nconst mapState = (state: TState, ownProps: OwnProps) => ({\r\n  isSelectingTask: state.pomodoro.selectingTask,\r\n  isCurrentTask: state.pomodoro.selectedTaskId === ownProps.task.id.toString(),\r\n  pomodoro: state.pomodoro\r\n})\r\n\r\nconst actionCreators = {\r\n  selectPomodoroTask: selectPomodoroTaskA,\r\n  stopSelectingMember: selectMemberA,\r\n  toggleTimer: toggleTimerA,\r\n  selectMember: selectMemberA,\r\n  setSubtask: setSubtaskA\r\n}\r\n\r\nexport const BaseTask = withStyles(styles)(\r\n  connect(\r\n    mapState,\r\n    actionCreators\r\n  )(CBaseTask)\r\n)\r\n","export const colors = {\r\n  White: '#FFFFFF',\r\n  Blue: '#c3ddff', // RUSSIA #1, or is this Merica?\r\n  Red: '#ffccd6',\r\n  Yellow: '#ffffe0',\r\n  Orange: '#ffe7b6',\r\n  Purple: '#e2d2f2',\r\n  cyan: '#dbfff2',\r\n  Green: '#dcffc2',\r\n  Magenta: '#ffe8ff',\r\n  Brown: '#f1d6c2'\r\n}\r\n\r\nexport type TColor = typeof colors\r\n","import {\r\n  Select,\r\n  MenuItem,\r\n  FormControl,\r\n  FormHelperText\r\n} from '@material-ui/core'\r\n\r\nimport React from 'react'\r\n\r\nimport { colors } from '../../colors'\r\nimport uuidv1 from 'uuid/v1'\r\n\r\ntype OwnProps = {\r\n  color: string\r\n  hasAllOption?: boolean\r\n  onChange(color: string): void\r\n}\r\n\r\nexport const ChooseColor = (props: OwnProps) => {\r\n  const { hasAllOption } = props\r\n  const gradientNames = `linear-gradient(to right, ${Object.values(colors)\r\n    .slice(1)\r\n    .join(', ')})`\r\n\r\n  return (\r\n    <FormControl fullWidth>\r\n      <Select\r\n        fullWidth\r\n        value={props.color}\r\n        onChange={(e: any) => props.onChange(e.target.value)}\r\n      >\r\n        {hasAllOption && (\r\n          <MenuItem\r\n            value=\"all\"\r\n            selected={false}\r\n            style={{\r\n              background: gradientNames\r\n            }}\r\n          >\r\n            Any\r\n          </MenuItem>\r\n        )}\r\n        {Object.keys(colors).map((key: any, i) => (\r\n          <MenuItem\r\n            selected={false}\r\n            style={{ backgroundColor: (colors as any)[key] || 'white' }}\r\n            key={uuidv1()}\r\n            value={(colors as any)[key]}\r\n          >\r\n            {key}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>Color</FormHelperText>\r\n    </FormControl>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, FormControl, FormHelperText, IconButton, MenuItem, Select, TextField } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport { GQL_CREATE_TASK } from '../../../graphql/mutations/task'\r\nimport { CreateTaskMutation, CreateTaskMutationVariables } from '../../../graphql/types'\r\nimport {useMutation} from 'react-apollo'\r\nimport { setProjectA } from '../../../store/actions/project'\r\nimport { Close } from '@material-ui/icons'\r\nimport { ChooseColor } from '../../utils/chooseColor'\r\nimport { TProject } from '../../../types/project'\r\nimport { DateTimePicker } from 'react-widgets'\r\nconst actionCreators = {\r\n  setProject: setProjectA\r\n}\r\n\r\ntype OwnProps = {\r\n  onClose: () => void\r\n  project: TProject\r\n  columnId: string\r\n  listId: string\r\n}\r\n\r\ntype TProps = OwnProps & typeof actionCreators\r\n\r\nexport const CreateTask = connect(\r\n  null,\r\n  actionCreators\r\n)((props: TProps) => {\r\n  const [name, setName] = useState('')\r\n  const [color, setColor] = useState('#FFFFFF')\r\n  const [points, setPoints] = useState(0)\r\n  const [listId, setListId] = useState(props.project.lists[0].id)\r\n  const [dueDate, setDueDate] = useState(undefined as undefined | Date)\r\n  const [createTaskExec] = useMutation<\r\n    CreateTaskMutation,\r\n    CreateTaskMutationVariables\r\n  >(GQL_CREATE_TASK, {\r\n    onCompleted: ({ createTask }) => {\r\n      if (createTask && createTask.task && createTask.project) {\r\n        props.setProject({\r\n          id: createTask.project.id,\r\n          newProj: createTask.project\r\n        })\r\n      }\r\n      props.onClose()\r\n    },\r\n    onError: () => props.onClose()\r\n  })\r\n\r\n  return (\r\n    <Dialog open={true} onClose={() => props.onClose()}>\r\n      <form\r\n        onSubmit={e => {\r\n          e.preventDefault()\r\n\r\n          createTaskExec({\r\n            variables: {\r\n              projId: props.project.id,\r\n              listId: listId,\r\n              taskInfo: {\r\n                points,\r\n                color,\r\n                name,\r\n                dueDate: dueDate ? dueDate.toString() : undefined\r\n              }\r\n            }\r\n          })\r\n        }}\r\n      >\r\n        <DialogTitle>Create Task</DialogTitle>\r\n        <IconButton style={{ position: 'absolute',\r\n      right: 8,\r\n      top: 8,\r\n      color: 'gray' }} onClick={() => props.onClose()}>\r\n          <Close />\r\n        </IconButton>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Tasks should be a small chunk of what you need to do.\r\n            For example, if you needed to create a Youtube thumbnail, the first\r\n            task would be: \"Create Title\"\r\n          </DialogContentText>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'flex-end',\r\n              flex: '0 0 auto',\r\n              marginTop: 12\r\n            }}\r\n          >\r\n            <TextField\r\n              style={{ margin: '0 4px' }}\r\n              required\r\n              autoFocus\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              label=\"Title\"\r\n              value={name}\r\n              onChange={({ target }) =>\r\n                setName(target.value)\r\n              }\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              style={{ margin: '0 4px', width: '33%' }}\r\n              required\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              label=\"Points\"\r\n              value={points}\r\n              type=\"number\"\r\n              onChange={e => {\r\n                e.persist() // for some reason it unfocuses without this!\r\n                if (parseInt(e.target.value) >= 0) {\r\n                  setPoints(parseInt(e.target.value))\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={{ display: 'flex', marginTop: 20 }}>\r\n            <ChooseColor\r\n              color={color || '#FFFFFF'}\r\n              onChange={(color: string) => {\r\n                setColor(color)\r\n              }}\r\n            />\r\n\r\n            <div style={{ width: 24 }} />\r\n\r\n            <FormControl fullWidth>\r\n              <Select\r\n                fullWidth\r\n                value={listId}\r\n                onChange={e => {\r\n                  setListId(e.target.value as any)\r\n                }}\r\n              >\r\n                {props.project.lists.map((list, i) => {\r\n                  return (\r\n                    <MenuItem key={list.id} value={list.id}>\r\n                      <pre>\r\n                        <em>{list.name}</em>\r\n                      </pre>\r\n                    </MenuItem>\r\n                  )\r\n                })}\r\n              </Select>\r\n              <FormHelperText>Task's List</FormHelperText>\r\n            </FormControl>\r\n          </div>\r\n          <div style={{ display: 'flex', marginTop: 20 }}>\r\n            <DateTimePicker\r\n            dropUp\r\n              containerClassName=\"fullwidth\"\r\n              value={dueDate}\r\n              onChange={(date) => {\r\n                setDueDate(date)\r\n              }}\r\n            />\r\n          </div>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => props.onClose()} color=\"secondary\">\r\n            Cancel\r\n          </Button>\r\n          <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n            Create Task\r\n          </Button>\r\n        </DialogActions>\r\n      </form>\r\n    </Dialog>\r\n    \r\n  )\r\n})","import React, { useState } from 'react'\r\nimport { TList, TProject } from '../../../types/project'\r\nimport { Droppable, Draggable } from 'react-beautiful-dnd'\r\nimport { BaseTask } from '../Task/Base'\r\nimport {\r\n  IconButton,\r\n  Menu as MuiMenu,\r\n  MenuItem\r\n} from '@material-ui/core'\r\nimport { id } from '../../../utils/utilities'\r\nimport { CreateTask } from '../Task/Create'\r\nimport { Menu, Add } from '@material-ui/icons'\r\n\r\ntype OwnProps = {\r\n  progress: number // 0, 1, or 2\r\n  list: TList\r\n  project: TProject\r\n  collapseList: (id: string) => void\r\n  collapsedLists: string[]\r\n  openFunc: (id: string) => void\r\n  deleteList: (id: string) => void\r\n}\r\ntype TProps = OwnProps\r\n\r\nexport const ProjectCell = (props: TProps) => {\r\n  let tasks = props.list.taskIds\r\n    .map(taskId => props.project.tasks[id(props.project.tasks, taskId)])\r\n    .filter(task => {\r\n      return task.progress === props.progress\r\n    })\r\n\r\n  if (props.progress === 2) {\r\n    tasks = tasks\r\n  }\r\n\r\n  const [creating, setCreating] = useState('')\r\n  const [anchorEl, setAnchorEl] = useState(null as any)\r\n  const [deletingList, setDeletingList] = useState(null as any)\r\n\r\n  return (\r\n    <td\r\n      style={{\r\n        borderRight: `1px ${props.progress !== 2 ? 'dashed' : 'solid'} #aebacc`,\r\n        borderBottom:\r\n          props.project.lists.findIndex(list => props.list.id === list.id) ===\r\n          props.project.lists.length - 1\r\n            ? '1px solid #aebacc'\r\n            : undefined,\r\n        borderTop: '1px solid #aebacc',\r\n        borderLeft:\r\n          props.progress === 0\r\n            ? `1px ${props.progress ? 'dashed' : 'solid'} #aebacc`\r\n            : undefined,\r\n        width: '100%',\r\n        padding: props.collapsedLists.includes(props.list.id) ? '0px 8px' : 8,\r\n        maxHeight: props.collapsedLists.includes(props.list.id) ? 100 : '60vh',\r\n        overflowY: 'auto'\r\n      }}\r\n    >\r\n      {props.progress === 0 && (\r\n        <div style={{ display: 'flex', margin: 4 }}>\r\n          {props.collapsedLists.includes(props.list.id) && (\r\n            <h2\r\n              style={{\r\n                fontSize: 16,\r\n                margin: 'auto 8px auto 0px',\r\n                color: 'gray'\r\n              }}\r\n            >\r\n              [Collapsed]\r\n            </h2>\r\n          )}\r\n          <h2 style={{ margin: 'auto 0px', fontSize: 18 }}>\r\n            {props.list.name}\r\n          </h2>\r\n          <IconButton\r\n            onClick={e => setAnchorEl(e.currentTarget)}\r\n            style={{ marginLeft: 'auto' }}\r\n          >\r\n            <Menu />\r\n          </IconButton>\r\n          {!props.collapsedLists.includes(props.list.id) && (\r\n        <IconButton\r\n          color=\"primary\"\r\n          style={{ marginLeft: 8}}\r\n          onClick={() => setCreating('string') /* TODO: add columns */}\r\n        >\r\n          <Add />\r\n        </IconButton>\r\n      )}\r\n          <MuiMenu\r\n            id=\"simple-menu\"\r\n            anchorEl={anchorEl}\r\n            open={Boolean(anchorEl)}\r\n            onClose={() => setAnchorEl(null)}\r\n          >\r\n            <MenuItem\r\n              onClick={() => {\r\n                setAnchorEl(null)\r\n                props.collapseList(props.list.id)\r\n              }}\r\n            >\r\n              {props.collapsedLists.includes(props.list.id) ? 'Uncollapse' : 'Collapse'}\r\n            </MenuItem>\r\n            <MenuItem\r\n              onClick={() => {\r\n                setAnchorEl(null)\r\n              }}\r\n            >\r\n              Edit\r\n            </MenuItem>\r\n            <MenuItem\r\n              onClick={() => {\r\n                if (deletingList && props.project.lists.length > 1) {\r\n                  setAnchorEl(null)\r\n                  props.deleteList(props.list.id)\r\n                } else {\r\n                  setDeletingList(true)\r\n                  setTimeout(() => setDeletingList(false), 4000) // dont have confirm message forever\r\n                }\r\n              }}\r\n            >\r\n              {/* TODO:  when they click, make text red and say confirm */}\r\n              {deletingList ? (\r\n                <div style={{ color: 'red', fontWeight: 500 }}>Confirm</div>\r\n              ) : (\r\n                'Delete'\r\n              )}\r\n            </MenuItem>\r\n          </MuiMenu>\r\n        </div>\r\n      )}\r\n      <Droppable\r\n        isDropDisabled={props.collapsedLists.includes(props.list.id)}\r\n        droppableId={`${props.list.id}DIVIDER${props.progress}`}\r\n      >\r\n        {(dropProvided, dropSnapshot) => {\r\n          return (\r\n            <div\r\n              style={{\r\n                flexDirection: 'column',\r\n                display: 'flex',\r\n                minHeight: props.collapsedLists.includes(props.list.id)\r\n                  ? 0\r\n                  : 78,\r\n                height: `calc(100% - ${props.progress ? '78px' : '178px'})`,\r\n                backgroundColor: 'white',\r\n                paddingBottom: props.collapsedLists.includes(props.list.id) ? 0 : 78 // needed for dragging to bottom of list\r\n              }}\r\n              {...dropProvided.droppableProps}\r\n              ref={dropProvided.innerRef}\r\n            >\r\n              {!props.collapsedLists.includes(props.list.id)\r\n                ? tasks.map((task, i) => (\r\n                    <Draggable draggableId={task.id} index={i} key={task.id}>\r\n                      {(dragProvided, dragSnapshot) => (\r\n                        <BaseTask\r\n                          openFunc={() => props.openFunc(task.id)}\r\n                          project={props.project}\r\n                          task={task}\r\n                          provided={dragProvided}\r\n                          snapshot={dragSnapshot}\r\n                        />\r\n                      )}\r\n                    </Draggable>\r\n                  ))\r\n                : null}\r\n              {dropProvided.placeholder}\r\n            </div>\r\n          )\r\n        }}\r\n      </Droppable>\r\n      {creating && (\r\n        <CreateTask\r\n          onClose={() => setCreating('')}\r\n          project={props.project}\r\n          listId={props.project.lists[0].id}\r\n          columnId={creating}\r\n        />\r\n      )}\r\n    </td>\r\n  )\r\n}\r\n","import React, { useState } from 'react'\r\nimport {\r\n  Dialog,\r\n  TextField,\r\n  Button,\r\n  DialogTitle,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText,\r\n  Typography,\r\n  Checkbox,\r\n  IconButton\r\n} from '@material-ui/core'\r\nimport uuid from 'uuid'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../../types/state'\r\nimport { id, getAllListsArr } from '../../../utils/utilities'\r\nimport {\r\n  GQL_EDIT_TASK,\r\n  GQL_DRAG_TASK,\r\n  GQL_SET_SUBTASK,\r\n  GQL_SET_COMMENT\r\n} from '../../../graphql/mutations/task'\r\nimport { useMutation } from 'react-apollo'\r\n\r\nimport {\r\n  EditTaskMutation,\r\n  EditTaskMutationVariables,\r\n  DragTaskMutation,\r\n  DragTaskMutationVariables,\r\n  SetSubtaskMutation,\r\n  SetSubtaskMutationVariables,\r\n  SetCommentMutation,\r\n  SetCommentMutationVariables\r\n} from '../../../graphql/types'\r\nimport { setTaskA } from '../../../store/actions/task'\r\nimport { ChooseColor } from '../../utils/chooseColor'\r\nimport { setProjectA } from '../../../store/actions/project'\r\nimport DateTimePicker from 'react-widgets/lib/DateTimePicker'\r\nimport { Add, Delete } from '@material-ui/icons'\r\nimport { formatDueDate } from '../../../utils/formatDueDate'\r\nimport { cloneDeep } from 'lodash'\r\n\r\nconst mapState = (state: TState, ownProps: OwnProps) => {\r\n  const project = state.projects[id(state.projects, ownProps.projectId)]\r\n\r\n  return {\r\n    task: project.tasks[id(project.tasks, ownProps.taskId)],\r\n    projects: state.projects\r\n  }\r\n}\r\n\r\nconst actionCreators = {\r\n  setTask: setTaskA,\r\n  setProject: setProjectA\r\n}\r\n\r\ntype OwnProps = {\r\n  onClose: () => void\r\n  taskId: string\r\n  projectId: string\r\n}\r\n\r\ntype TProps = OwnProps & ReturnType<typeof mapState> & typeof actionCreators\r\n\r\nexport const EditTaskModal = connect(\r\n  mapState,\r\n  actionCreators\r\n)((props: TProps) => {\r\n  // apply changes locally (not in store) immediately, then when submit do on store and server\r\n  const [task, setTask] = useState(cloneDeep(props.task))\r\n\r\n  const [setSubtaskExec] = useMutation<\r\n    SetSubtaskMutation,\r\n    SetSubtaskMutationVariables\r\n  >(GQL_SET_SUBTASK, {\r\n    onCompleted: ({ setSubtask }) => {\r\n      props.setTask({\r\n        id: setSubtask.id,\r\n        projectId: props.projectId,\r\n        newTask: { ...setSubtask }\r\n      })\r\n    }\r\n  })\r\n\r\n  const [setCommentExec] = useMutation<\r\n    SetCommentMutation,\r\n    SetCommentMutationVariables\r\n  >(GQL_SET_COMMENT, {\r\n    onCompleted: ({ setComment }) => {\r\n      setTask({\r\n        ...setComment\r\n      })\r\n\r\n      props.setTask({\r\n        id: setComment.id,\r\n        projectId: props.projectId,\r\n        newTask: { ...setComment }\r\n      })\r\n    }\r\n  })\r\n\r\n  const [editTaskExec] = useMutation<\r\n    EditTaskMutation,\r\n    EditTaskMutationVariables\r\n  >(GQL_EDIT_TASK, {\r\n    variables: {\r\n      taskId: props.taskId,\r\n      newTask: {\r\n        name: task.name,\r\n        points: task.points,\r\n        dueDate: task.dueDate,\r\n        // recurrance: task.recurrance,\r\n        color: task.color\r\n      },\r\n      projId: props.projectId\r\n    }\r\n  })\r\n  const [dragTaskExec] = useMutation<\r\n    DragTaskMutation,\r\n    DragTaskMutationVariables\r\n  >(GQL_DRAG_TASK, {\r\n    onCompleted: ({ dragTask }) => {\r\n      props.setProject({ id: dragTask.project.id, newProj: dragTask.project })\r\n    }\r\n  })\r\n\r\n  const project = props.projects[id(props.projects, props.projectId)]\r\n\r\n  const ownerListId = project.lists.find(list =>\r\n    list.taskIds.includes(task.id)\r\n  )!.id\r\n\r\n  const [listId, setListId] = useState(ownerListId)\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open onClose={() => props.onClose()}>\r\n        <form\r\n          onSubmit={e => {\r\n            props.setTask({\r\n              id: props.task.id,\r\n              projectId: props.projectId,\r\n              newTask: task\r\n            })\r\n\r\n            console.log(task)\r\n\r\n            editTaskExec()\r\n            if (listId !== ownerListId) {\r\n              let newIndex = 0\r\n\r\n              const tasksInNewProgress = project.tasks.filter(filterTask => {\r\n                return (\r\n                  project.lists[id(project.lists, listId)].taskIds.includes(\r\n                    task.id\r\n                  ) && task.progress === filterTask.progress\r\n                )\r\n              })\r\n\r\n              if (tasksInNewProgress.length) {\r\n                const indexesInList = tasksInNewProgress.map(tasko => {\r\n                  return project.lists[\r\n                    id(project.lists, listId)\r\n                  ].taskIds.indexOf(tasko.id)\r\n                })\r\n                const lowest = Math.min(...indexesInList)\r\n                newIndex = lowest\r\n              }\r\n\r\n              dragTaskExec({\r\n                variables: {\r\n                  oldListId: ownerListId,\r\n                  newListId: listId,\r\n                  newIndex, // this is only correct in first progress\r\n                  id: task.id,\r\n                  newProgress: task.progress,\r\n                  projectId: props.projectId\r\n                }\r\n              })\r\n            }\r\n            e.preventDefault()\r\n            props.onClose()\r\n          }}\r\n          style={{\r\n            minWidth: 550,\r\n            minHeight: 450,\r\n            padding: '0px 16px',\r\n            paddingBottom: 12\r\n          }}\r\n        >\r\n          <DialogTitle style={{ paddingLeft: '0px' }}>Edit Task</DialogTitle>\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              alignItems: 'center',\r\n              justifyContent: 'flex-end',\r\n              flex: '0 0 auto'\r\n            }}\r\n          >\r\n            <TextField\r\n              style={{ margin: '0 4px' }}\r\n              required\r\n              autoFocus\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              label=\"Title\"\r\n              value={task.name}\r\n              onChange={({ target }) =>\r\n                setTask({ ...task, name: target.value })\r\n              }\r\n              fullWidth\r\n            />\r\n            <TextField\r\n              style={{ margin: '0 4px', width: '33%' }}\r\n              required\r\n              fullWidth\r\n              variant=\"outlined\"\r\n              label=\"Points\"\r\n              value={task.points}\r\n              type=\"number\"\r\n              onChange={e => {\r\n                e.persist() // for some reason it unfocuses without this!\r\n                if (parseInt(e.target.value) >= 0) {\r\n                  setTask({ ...task, points: parseInt(e.target.value) })\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n          <div style={{ display: 'flex', marginTop: 8 }}>\r\n            <ChooseColor\r\n              color={task.color || '#FFFFFF'}\r\n              onChange={(color: string) => {\r\n                setTask({ ...task, color })\r\n              }}\r\n            />\r\n\r\n            <div style={{ width: 24 }} />\r\n\r\n            <FormControl fullWidth>\r\n              <Select\r\n                fullWidth\r\n                value={listId}\r\n                onChange={e => {\r\n                  setListId(e.target.value as any)\r\n                }}\r\n              >\r\n                {getAllListsArr(props.projects).map((list, i) => {\r\n                  return (\r\n                    <MenuItem key={list.id} value={list.id}>\r\n                      <pre>\r\n                        <em>{list.name}</em> of{' '}\r\n                        {\r\n                          props.projects[id(props.projects, props.projectId)]\r\n                            .name\r\n                        }\r\n                      </pre>\r\n                    </MenuItem>\r\n                  )\r\n                })}\r\n              </Select>\r\n              <FormHelperText>Task's List</FormHelperText>\r\n            </FormControl>\r\n          </div>\r\n          <div style={{ display: 'flex', marginTop: 8 }}>\r\n            <DateTimePicker\r\n              containerClassName=\"fullwidth\"\r\n              value={task.dueDate ? new Date(task.dueDate) : undefined}\r\n              onChange={(date: Date | undefined) => {\r\n                setTask({\r\n                  ...task,\r\n                  dueDate: date ? date.toString() : null\r\n                })\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <Typography\r\n            style={{\r\n              marginTop: 12,\r\n              fontSize: 22\r\n            }}\r\n            variant=\"subtitle1\"\r\n          >\r\n            Subtasks\r\n          </Typography>\r\n          {task.subTasks.map((subTask, i) => (\r\n            <div key={subTask.id} style={{ display: 'flex', marginTop: 8 }}>\r\n              <Checkbox\r\n                style={{ marginRight: 10, width: 32, height: 32 }}\r\n                disableRipple\r\n                checked={task.subTasks[i].completed}\r\n                onChange={e => {\r\n                  const subTasks = [...task.subTasks]\r\n                  const newCompleteStatus = !subTasks[i].completed\r\n                  subTasks[i].completed = newCompleteStatus\r\n                  setTask({ ...task, subTasks })\r\n\r\n                  setSubtaskExec({\r\n                    variables: {\r\n                      projId: props.projectId,\r\n                      taskId: props.task.id,\r\n                      subtaskId: subTask.id,\r\n                      info: {\r\n                        name: task.subTasks[i].name,\r\n                        completed: newCompleteStatus\r\n                      }\r\n                    }\r\n                  })\r\n                }}\r\n              />\r\n              <TextField\r\n                key={subTask.id}\r\n                margin=\"none\"\r\n                required\r\n                fullWidth\r\n                label={`Subtask ${i}`}\r\n                value={task.subTasks[i].name}\r\n                onBlur={e => {\r\n                  setSubtaskExec({\r\n                    variables: {\r\n                      projId: props.projectId,\r\n                      taskId: props.task.id,\r\n                      subtaskId: subTask.id,\r\n                      info: {\r\n                        name: task.subTasks[i].name,\r\n                        completed: subTask.completed\r\n                      }\r\n                    }\r\n                  })\r\n                }}\r\n                onChange={e => {\r\n                  setTask({\r\n                    ...task,\r\n                    subTasks: [\r\n                      ...task.subTasks.slice(0, i),\r\n                      { ...task.subTasks[i], name: e.target.value },\r\n                      ...task.subTasks.slice(i + 1)\r\n                    ]\r\n                  })\r\n                }}\r\n              />\r\n              <IconButton\r\n                style={{\r\n                  marginLeft: 10,\r\n                  width: 48,\r\n                  height: 48,\r\n                  marginTop: 'auto'\r\n                }}\r\n                onClick={() => {\r\n                  setTask({\r\n                    ...task,\r\n                    subTasks: task.subTasks.filter((sub) => sub.id !== task.subTasks[i].id)\r\n                  })\r\n                  setSubtaskExec({\r\n                    variables: {\r\n                      projId: props.projectId,\r\n                      taskId: props.task.id,\r\n                      subtaskId: subTask.id,\r\n                      info: null // means we are deleting\r\n                    }\r\n                  })\r\n                }}\r\n              >\r\n                <Delete />\r\n              </IconButton>\r\n            </div>\r\n          ))}\r\n          <Button\r\n            variant=\"outlined\"\r\n            style={{\r\n              marginTop: 8,\r\n              marginBottom: 8,\r\n              marginLeft: 'auto'\r\n            }}\r\n            onClick={() => {\r\n              const subTaskId = uuid()\r\n              setTask({\r\n                ...task,\r\n                subTasks: [...task.subTasks, {id: subTaskId, completed: false, name: 'Subtask Name' }]\r\n              })\r\n\r\n              setSubtaskExec({\r\n                variables: {\r\n                  projId: props.projectId,\r\n                  taskId: props.task.id,\r\n                  subtaskId: subTaskId,\r\n                  info: {\r\n                    name: 'Subtask Name',\r\n                    completed: false\r\n                  }\r\n                }\r\n              })\r\n            }}\r\n          >\r\n            <Add style={{ marginRight: 8 }} />\r\n            add subtask\r\n          </Button>\r\n\r\n          <Typography\r\n            style={{\r\n              marginTop: 12,\r\n              fontSize: 22\r\n            }}\r\n            variant=\"subtitle1\"\r\n          >\r\n            Comments\r\n          </Typography>\r\n          {task.comments.map((comment, i) => (\r\n            <div key={comment.id} style={{ marginTop: 8, display: 'flex' }}>\r\n              <TextField\r\n                key={comment.id}\r\n                margin=\"dense\"\r\n                onBlur={e => {\r\n                  setCommentExec({\r\n                    variables: {\r\n                      projId: props.projectId,\r\n                      taskId: props.task.id,\r\n                      commentId: comment.id,\r\n                      description: task.comments[i].comment\r\n                    }\r\n                  })\r\n                }}\r\n                required\r\n                placeholder=\"Comment Name\"\r\n                fullWidth\r\n                value={task.comments[i].comment}\r\n                label={formatDueDate({\r\n                  ...task,\r\n                  dueDate: comment.dateAdded,\r\n                  recurrance: undefined\r\n                }).slice(4)}\r\n                onChange={e => {\r\n                  const newComments = [...task.comments]\r\n                  newComments[i].comment = e.target.value\r\n\r\n                  setTask({\r\n                    ...task,\r\n                    comments: newComments\r\n                  })\r\n                }}\r\n              />\r\n              <IconButton\r\n                style={{\r\n                  marginLeft: 10,\r\n                  marginTop: 'auto',\r\n                  width: 48,\r\n                  height: 48\r\n                }}\r\n                onClick={() => {\r\n                  setCommentExec({\r\n                    variables: {\r\n                      projId: props.projectId,\r\n                      taskId: props.task.id,\r\n                      commentId: comment.id\r\n                    }\r\n                  })\r\n                }}\r\n              >\r\n                <Delete />\r\n              </IconButton>\r\n            </div>\r\n          ))}\r\n          <Button\r\n            variant=\"outlined\"\r\n            onClick={() => {\r\n              setCommentExec({\r\n                variables: {\r\n                  projId: props.projectId,\r\n                  taskId: props.task.id,\r\n                  description: 'Comment'\r\n                }\r\n              })\r\n            }}\r\n            style={{ marginTop: 8 }}\r\n          >\r\n            <Add style={{ marginRight: 8 }} />\r\n            Add Comment\r\n          </Button>\r\n\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              marginTop: 8,\r\n              justifyContent: 'flex-end'\r\n            }}\r\n          >\r\n            <Button color=\"secondary\" type=\"submit\" variant=\"contained\">\r\n              Save\r\n            </Button>\r\n          </div>\r\n        </form>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n})\r\n","import React, { useState } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport {\r\n  WithStyles,\r\n  withStyles,\r\n  Theme,\r\n  createStyles,\r\n  Tooltip,\r\n  Paper,\r\n  AppBar,\r\n  Toolbar,\r\n  IconButton,\r\n  Fab,\r\n  TableBody\r\n} from '@material-ui/core'\r\nimport { TState } from '../../types/state'\r\nimport { selectMemberA, setProjectA } from '../../store/actions/project'\r\nimport { CreateColumn } from './CreateColumn'\r\nimport { Add, FilterList, Settings, Equalizer } from '@material-ui/icons'\r\nimport { DragDropContext, DropResult } from 'react-beautiful-dnd'\r\nimport { NoMatch } from '../NoMatch/NoMatch'\r\nimport Helmet from 'react-helmet'\r\nimport { ProjectSettings } from './ProjectSettings'\r\nimport {\r\n  EditProjectMutation,\r\n  EditProjectMutationVariables,\r\n  DragTaskMutation,\r\n  DragTaskMutationVariables,\r\n  DeleteListMutation,\r\n  DeleteListMutationVariables\r\n} from '../../graphql/types'\r\nimport { openSnackbarA } from '../../store/actions/snackbar'\r\nimport { GQL_EDIT_PROJECT } from '../../graphql/mutations/project'\r\nimport { id } from '../../utils/utilities'\r\nimport { ProjectCell } from './Cell/ProjectCell'\r\nimport { cloneDeep } from 'apollo-utilities'\r\nimport { GQL_DRAG_TASK } from '../../graphql/mutations/task'\r\nimport { useMutation } from 'react-apollo'\r\n\r\nimport { EditTaskModal } from './Task/Edit'\r\nimport { setListA } from '../../store/actions/list'\r\nimport { GQL_DELETE_LIST } from '../../graphql/mutations/list'\r\n\r\n/**\r\n * @todo add a filter menu with color, column, due date, label\r\n */\r\n\r\ntype OwnProps = {\r\n  params: {\r\n    id: string\r\n  }\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    fab: {\r\n      position: 'fixed',\r\n      bottom: theme.spacing(2),\r\n      right: theme.spacing(2)\r\n    },\r\n    tooltip: {\r\n      fontSize: 18\r\n    },\r\n    appbar: {},\r\n    input: {\r\n      overflow: 'hidden',\r\n      whiteSpace: 'nowrap',\r\n      textOverflow: 'ellipsis',\r\n      minWidth: '20%',\r\n      fontSize: 18,\r\n      outline: 'none',\r\n      backgroundColor: '#f5f5f5',\r\n      borderRadius: 4,\r\n      width: 'auto',\r\n      padding: 8,\r\n      border: '1px solid transparent',\r\n      '&:hover': {\r\n        backgroundColor: 'white'\r\n      },\r\n      '&:focus': {\r\n        borderColor: '#27b6ba'\r\n      }\r\n    }\r\n  })\r\n\r\ntype TProps = ReturnType<typeof mapState> &\r\n  typeof actionCreators &\r\n  OwnProps &\r\n  WithStyles<typeof styles>\r\n\r\nexport const getMobile = (window: Window) => {\r\n  return window.innerWidth <= 1000\r\n}\r\n\r\nexport type TFilterData = {\r\n  dueDate: {\r\n    start: Date\r\n    end: Date\r\n  }\r\n  color?: string // what if we have a multiselect? string is the key of colors object\r\n  points?: number\r\n}\r\n\r\nconst CProject = (props: TProps) => {\r\n  const [editingTaskId, setEditingTaskId] = useState('')\r\n  const [settings, setSettings] = useState(false)\r\n  const [dialogOpen, setDialogOpen] = useState(false)\r\n  const [isMobile, setIsMobile] = useState(getMobile(window))\r\n  const [collapsedLists, setCollapsedLists] = useState([] as string[])\r\n\r\n  if (isMobile) {\r\n  }\r\n\r\n  const [name, setName] = useState(\r\n    props.project ? props.project.name : undefined\r\n  )\r\n\r\n  const [deleteListExec] = useMutation<\r\n    DeleteListMutation,\r\n    DeleteListMutationVariables\r\n  >(GQL_DELETE_LIST, {})\r\n\r\n  const [dragTaskExec] = useMutation<\r\n    DragTaskMutation,\r\n    DragTaskMutationVariables\r\n  >(GQL_DRAG_TASK, {})\r\n\r\n  const draggo = (vars: DragTaskMutationVariables) => {\r\n    dragTaskExec({ variables: vars })\r\n  }\r\n\r\n  const onDragEnd = (result: DropResult) => {\r\n    if (!result.destination) {\r\n      return\r\n    }\r\n    if (\r\n      result.source.droppableId === result.destination.droppableId &&\r\n      result.source.index === result.destination.index\r\n    ) {\r\n      return\r\n    }\r\n\r\n    const [[fromListId], [toListId, toProgress]] = [\r\n      result.source.droppableId.split('DIVIDER'),\r\n      result.destination.droppableId.split('DIVIDER')\r\n    ]\r\n\r\n    const editProject = cloneDeep(props.project)\r\n\r\n    const fromList = editProject.lists[id(editProject.lists, fromListId)]\r\n\r\n    const toList = editProject.lists[id(editProject.lists, toListId)]\r\n\r\n    // react-beautiful-dnd will not give accurate index, because each droppable has only the tasks with the same progress/column\r\n    let actualIndex =\r\n      result.destination.index +\r\n      props.project.tasks.reduce((accum, task) => {\r\n        if (\r\n          task.progress < parseInt(toProgress, 10) &&\r\n          toList.taskIds.includes(task.id)\r\n        ) {\r\n          return accum + 1\r\n        }\r\n        return accum\r\n      }, 0)\r\n\r\n    if (\r\n      fromList.id === toList.id &&\r\n      props.project.tasks[id(props.project.tasks, result.draggableId)]\r\n        .progress !== parseInt(toProgress, 10)\r\n    ) {\r\n      const addingLater =\r\n        actualIndex >\r\n        fromList.taskIds.findIndex(taskId => taskId === result.draggableId)\r\n\r\n      if (addingLater) {\r\n        actualIndex -= 1\r\n      }\r\n    }\r\n\r\n    if (actualIndex < 0) {\r\n      actualIndex = 0\r\n    }\r\n\r\n    // remove old taskId instance\r\n    fromList.taskIds = fromList.taskIds.filter(\r\n      taskId => taskId !== result.draggableId\r\n    )\r\n\r\n    // add new taskId instance\r\n    toList.taskIds.splice(actualIndex, 0, result.draggableId)\r\n\r\n    // change tasks column\r\n    editProject.tasks[\r\n      id(editProject.tasks, result.draggableId)\r\n    ].progress = parseInt(toProgress, 10)\r\n\r\n    // mutate store to save changes\r\n    props.setProject({ id: props.project.id, newProj: editProject })\r\n\r\n    draggo({\r\n      id: result.draggableId,\r\n      newIndex: actualIndex,\r\n      oldListId: fromListId,\r\n      newListId: toListId,\r\n      newProgress: parseInt(toProgress),\r\n      projectId: props.project.id\r\n    })\r\n\r\n    return\r\n  }\r\n\r\n  const [windowWidth, setWindowWidth] = useState(window.innerWidth)\r\n\r\n  React.useEffect(() => {\r\n    window.addEventListener('resize', () => {\r\n      setIsMobile(getMobile(window))\r\n      setWindowWidth(window.innerWidth)\r\n    })\r\n\r\n    return () =>\r\n      window.removeEventListener('resize', () => {\r\n        setIsMobile(getMobile(window))\r\n        setWindowWidth(window.innerWidth)\r\n      })\r\n  }, [])\r\n\r\n  const [editProjectExec] = useMutation<\r\n    EditProjectMutation,\r\n    EditProjectMutationVariables\r\n  >(GQL_EDIT_PROJECT, {})\r\n\r\n  const { classes, project } = props\r\n  if (project) {\r\n    return (\r\n      <div>\r\n        <Helmet>\r\n          <style type=\"text/css\">{` body { background-color: #1d364c; }`}</style>\r\n          <meta\r\n            name={'description'}\r\n            content={'Projects help you become stronk'}\r\n          />\r\n        </Helmet>\r\n        <AppBar color=\"default\" className={classes.appbar} position=\"static\">\r\n          <Toolbar>\r\n            <input\r\n              style={{ width: `${windowWidth - 300}px` }}\r\n              className={classes.input}\r\n              value={name}\r\n              onBlur={() =>\r\n                editProjectExec({\r\n                  variables: {\r\n                    newProj: { name: name || 'newname' },\r\n                    id: project.id\r\n                  }\r\n                })\r\n              }\r\n              onChange={(e: any) => setName(e.target.value)}\r\n            />\r\n            <div style={{ marginLeft: 'auto' }}>\r\n              <IconButton onClick={() => null}>\r\n                <FilterList />\r\n              </IconButton>\r\n              <IconButton\r\n                onClick={() => setSettings(true)}\r\n                style={{ marginLeft: 8 }}\r\n              >\r\n                <Settings />\r\n              </IconButton>\r\n              <IconButton style={{ marginLeft: 8 }}>\r\n                <Equalizer />\r\n              </IconButton>\r\n            </div>\r\n          </Toolbar>\r\n        </AppBar>\r\n        <Paper\r\n          style={{\r\n            margin: 20,\r\n            padding: 20,\r\n            paddingBottom: 80,\r\n            minHeight: 'calc(100vh - 328px)'\r\n          }}\r\n        >\r\n          <DragDropContext onDragEnd={onDragEnd}>\r\n            <table\r\n              style={{\r\n                tableLayout: 'fixed',\r\n                width: '100%',\r\n                borderCollapse: 'separate'\r\n              }}\r\n            >\r\n              <TableBody>\r\n                <tr style={{ display: 'flex' }}>\r\n                  {[0, 1, 2].map(col => (\r\n                    <td\r\n                      key={col}\r\n                      style={{\r\n                        width: '100%',\r\n                        backgroundColor: '#f2f2f2',\r\n                        borderLeft: col ? 'none' : '1px solid #aebacc',\r\n                        borderRight: '1px solid #aebacc',\r\n                        borderTop: '1px solid #aebacc',\r\n                        textAlign: 'center',\r\n                        padding: 8,\r\n                        fontSize: 20\r\n                      }}\r\n                    >\r\n                      {col === 0\r\n                        ? 'No Progress'\r\n                        : col === 1\r\n                        ? 'In Progress'\r\n                        : 'Complete'}\r\n                    </td>\r\n                  ))}\r\n                </tr>\r\n                {project.lists.map(list => (\r\n                  <tr\r\n                    style={{\r\n                      verticalAlign: 'top',\r\n                      display: 'flex'\r\n                    }}\r\n                    key={list.id}\r\n                  >\r\n                    {[0, 1, 2].map((progress, i) => (\r\n                      <ProjectCell\r\n                        deleteList={listId => {\r\n                          props.setList({\r\n                            id: listId,\r\n                            projectId: props.project.id,\r\n                            newList: null\r\n                          })\r\n                          deleteListExec({\r\n                            variables: {\r\n                              projectId: props.project.id,\r\n                              id: list.id\r\n                            }\r\n                          })\r\n                        }}\r\n                        collapseList={listId => {\r\n                          if (collapsedLists.includes(listId)) {\r\n                            setCollapsedLists(\r\n                              collapsedLists.filter(lId => listId !== lId)\r\n                            )\r\n                          } else {\r\n                            setCollapsedLists([...collapsedLists, listId])\r\n                          }\r\n                        }}\r\n                        collapsedLists={collapsedLists}\r\n                        openFunc={(tId: string) => setEditingTaskId(tId)}\r\n                        key={i}\r\n                        progress={progress}\r\n                        list={list}\r\n                        project={project}\r\n                      />\r\n                    ))}\r\n                  </tr>\r\n                ))}\r\n              </TableBody>\r\n            </table>\r\n          </DragDropContext>\r\n\r\n          {dialogOpen && (\r\n            <CreateColumn\r\n              onClose={() => setDialogOpen(false)}\r\n              project={project}\r\n            />\r\n          )}\r\n        </Paper>\r\n\r\n        <Tooltip\r\n          placement=\"left\"\r\n          classes={{ tooltip: classes.tooltip }}\r\n          title=\"Add List\"\r\n        >\r\n          <Fab\r\n            onClick={() => setDialogOpen(true)}\r\n            color=\"primary\"\r\n            className={classes.fab}\r\n          >\r\n            <Add />\r\n          </Fab>\r\n        </Tooltip>\r\n        {settings && (\r\n          <ProjectSettings\r\n            project={props.project}\r\n            onClose={() => setSettings(false)}\r\n          />\r\n        )}\r\n        {editingTaskId && (\r\n          <EditTaskModal\r\n            taskId={editingTaskId}\r\n            onClose={() => setEditingTaskId('')}\r\n            projectId={props.project.id}\r\n          />\r\n        )}\r\n      </div>\r\n    )\r\n  }\r\n  return <NoMatch />\r\n}\r\n\r\nconst mapState = (state: TState, ownProps: OwnProps) => {\r\n  return {\r\n    project: state.projects[id(state.projects, ownProps.params.id)]\r\n  }\r\n}\r\n\r\nconst actionCreators = {\r\n  setProject: setProjectA,\r\n  selectMember: selectMemberA,\r\n  openSnackbar: openSnackbarA,\r\n  setList: setListA\r\n}\r\n\r\nexport const Project = withStyles(styles)(\r\n  connect(\r\n    mapState,\r\n    actionCreators\r\n  )(CProject)\r\n)\r\n","import React from 'react'\r\nimport {\r\n  Theme,\r\n  createStyles,\r\n  WithStyles,\r\n  withStyles,\r\n  ListSubheader,\r\n  ListItem,\r\n  ListItemText,\r\n  Button\r\n} from '@material-ui/core'\r\nimport { List } from '@material-ui/core'\r\n\r\nimport { Helmet } from 'react-helmet'\r\nimport { connect } from 'react-redux'\r\nimport { Mutation, MutationResult } from 'react-apollo'\r\nimport { openSnackbarA } from '../../store/actions/snackbar'\r\nimport { LogoutMutation, LogoutMutationVariables } from '../../graphql/types'\r\nimport { GQL_LOGOUT } from '../../graphql/mutations/auth'\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    root: {\r\n      maxWidth: 1000,\r\n      marginLeft: 'auto',\r\n      marginRight: 'auto',\r\n      backgroundColor: theme.palette.background.paper,\r\n      width: '95%',\r\n      marginTop: 50\r\n    }\r\n  })\r\n\r\ntype TProps = WithStyles<typeof styles> & typeof actionCreators\r\n\r\nconst CSettings = (props: TProps) => {\r\n  const { classes } = props\r\n  return (\r\n    <>\r\n      <div>\r\n        <Helmet>\r\n          <style>{'body { background-color: #eeeeee; }'}</style>\r\n        </Helmet>\r\n        <List\r\n          subheader={<ListSubheader>Data</ListSubheader>}\r\n          className={classes.root}\r\n        >\r\n          <ListItem>\r\n            <ListItemText\r\n              primary=\"Signout\"\r\n              secondary=\"This action cannot be undone\"\r\n            />\r\n            <Mutation\r\n              mutation={GQL_LOGOUT}\r\n              onCompleted={() => {\r\n                location.href = '#/'\r\n                location.reload()\r\n              }}\r\n              onError={() => {\r\n                props.openSnackbar('You are stuck here forever, oops!', 'error')\r\n              }}\r\n            >\r\n              {(\r\n                logout: (args: { variables: LogoutMutationVariables }) => any,\r\n                result: MutationResult<LogoutMutation>\r\n              ) => {\r\n                return (\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={() => logout({ variables: {} })}\r\n                    style={{\r\n                      marginLeft: 'auto'\r\n                    }}\r\n                  >\r\n                    Signout\r\n                  </Button>\r\n                )\r\n              }}\r\n            </Mutation>\r\n          </ListItem>\r\n        </List>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nconst actionCreators = {\r\n  openSnackbar: openSnackbarA\r\n}\r\n\r\nexport const Settings = connect(\r\n  null,\r\n  { ...actionCreators }\r\n)(withStyles(styles)(CSettings))\r\n","import React from 'react'\r\nimport Chart from 'chart.js'\r\n\r\n/**\r\n * Section 1: A chart about a project,\r\n * Section 2: A list of overdue Tasks, or can be toggled to assigned tasks,\r\n * Section 3(full-width): A calendar\r\n */\r\n\r\nconst randInt = (max: number) => {\r\n  return Math.floor(Math.random() * Math.floor(max))\r\n}\r\nconst genNums = (amount: number) => {\r\n  const result = []\r\n\r\n  for (let i = 0; i < amount; i++) {\r\n    result.push(randInt(100))\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nconst backgroundColor = [\r\n  'rgba(255, 99, 132, 0.2)',\r\n  'rgba(255, 159, 64, 0.2)',\r\n  'rgba(255, 205, 86, 0.2)',\r\n  'rgba(75, 192, 192, 0.2)',\r\n  'rgba(54, 162, 235, 0.2)',\r\n  'rgba(153, 102, 255, 0.2)',\r\n  'rgba(201, 203, 207, 0.2)'\r\n]\r\n\r\nconst borderColor = [\r\n  'rgb(255, 99, 132)',\r\n  'rgb(255, 159, 64)',\r\n  'rgb(255, 205, 86)',\r\n  'rgb(75, 192, 192)',\r\n  'rgb(54, 162, 235)',\r\n  'rgb(153, 102, 255)',\r\n  'rgb(201, 203, 207)'\r\n]\r\n\r\nexport const Dashboard = () => {\r\n  const chartRef = React.useRef()\r\n\r\n  React.useEffect(() => {\r\n    const myChartRef = (chartRef.current as any).getContext('2d')\r\n\r\n    /* tslint:disable-next-line */\r\n    const chart = new Chart(myChartRef, {\r\n      type: 'bar',\r\n      data: {\r\n        labels: [\r\n          'January',\r\n          'February',\r\n          'March',\r\n          'April',\r\n          'May',\r\n          'June',\r\n          'July'\r\n        ],\r\n        datasets: [\r\n          {\r\n            label: 'Nice Graph Courtesy of Austin Kay',\r\n            data: genNums(7),\r\n            fill: false,\r\n            backgroundColor,\r\n            borderColor,\r\n            borderWidth: 1\r\n          }\r\n        ]\r\n      },\r\n      options: {\r\n        scales: { yAxes: [{ ticks: { beginAtZero: true, max: 100 } }] }\r\n      }\r\n    })\r\n\r\n    const interval = setInterval(() => {\r\n      chart.data.datasets![0].data = genNums(7)\r\n\r\n      chart!.update()\r\n    }, 2000)\r\n\r\n    return () => clearInterval(interval)\r\n  })\r\n\r\n  return (\r\n    <>\r\n      <div style={{ maxWidth: '50%', margin: 20 }}>\r\n        <canvas id=\"myChart\" ref={chartRef as any} />\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import { Droppable, Draggable } from 'react-beautiful-dnd'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../types/state'\r\nimport { getDate, getDay, isPast, addHours } from 'date-fns'\r\nimport { BaseTask } from '../Project/Task/Base'\r\n// import { TaskModal } from '../TaskModal/TaskModal'\r\nimport { Theme, WithStyles, withStyles } from '@material-ui/core'\r\nimport { getProjectIdFromTaskId, id } from '../../utils/utilities'\r\nimport React from 'react'\r\n\r\ntype OwnProps = {\r\n  day: Date\r\n  index: 0 | 1 | 2 | 3 | 4 | 5 | 6\r\n  filteringProjects: string[]\r\n}\r\n\r\nfunction sameDay(d1: Date, d2: Date) {\r\n  return (\r\n    d1.getFullYear() === d2.getFullYear() &&\r\n    d1.getMonth() === d2.getMonth() &&\r\n    d1.getDate() === d2.getDate()\r\n  )\r\n}\r\n\r\nconst names = ['Sun', 'Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat']\r\n\r\nconst styles = (theme: Theme) => ({})\r\n\r\ntype TProps = OwnProps & ReturnType<typeof mapState> & WithStyles<typeof styles>\r\n\r\nconst CWeekDay = (props: TProps) => {\r\n  const { day, tasks, index } = props\r\n  const hasPassed = isPast(addHours(day, 20))\r\n  const withDate = tasks.filter(\r\n    task =>\r\n      task.dueDate !== undefined &&\r\n      getDate(new Date(task.dueDate!)) === getDate(day)\r\n  )\r\n  if (withDate.length) {\r\n    withDate.sort(\r\n      (a, b) => new Date(a.dueDate!).getTime() - new Date(b.dueDate!).getTime()\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        borderRight: index !== 6 ? '1px solid #e0e0e0' : undefined,\r\n        flex: '1 0 calc(1000px / 7)',\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          position: 'absolute',\r\n          fontSize: '3.2rem',\r\n          fontWeight: 300,\r\n          margin: '0 0 0 .8rem',\r\n          paddingBottom: '.4rem',\r\n          color: sameDay(day, new Date()) ? '#4285f4' : '#555'\r\n        }}\r\n      >\r\n        {day.getDate()}\r\n        <div style={{ fontSize: '1.3rem' }}>{names[getDay(day)]}</div>\r\n      </div>\r\n      <Droppable\r\n        isDropDisabled={hasPassed}\r\n        droppableId={day.getTime().toString()}\r\n      >\r\n        {(provided, snapshot) => (\r\n          <div\r\n            style={{\r\n              backgroundColor: snapshot.isDraggingOver ? '#bae3ff' : 'white',\r\n              transition: 'background-color .2s ease',\r\n              height: '100%'\r\n            }}\r\n            {...provided.droppableProps}\r\n            ref={provided.innerRef}\r\n          >\r\n            {withDate.map((task, i) => (\r\n              <Draggable\r\n                key={task.id}\r\n                index={i}\r\n                draggableId={task.id.toString()}\r\n              >\r\n                {(prov, snap) => (\r\n                  <div style={{paddingTop: i ? 0 : 93}}>\r\n                  <BaseTask\r\n                    project={\r\n                      props.projects[\r\n                        id(\r\n                          props.projects,\r\n                          getProjectIdFromTaskId(props.projects, task.id)\r\n                        )\r\n                      ]\r\n                    }\r\n                    openFunc={() => null}\r\n                    provided={prov}\r\n                    snapshot={snap}\r\n                    task={task}\r\n                  />\r\n                  </div>\r\n                )}\r\n              </Draggable>\r\n            ))}\r\n            {provided.placeholder}\r\n          </div>\r\n        )}\r\n      </Droppable>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapState = (state: TState, ownProps: OwnProps) => ({\r\n  tasks: state.projects.reduce((accum, proj) => {\r\n    return [...accum, ...proj.tasks]\r\n  }, []),\r\n  projects: state.projects\r\n})\r\n\r\nexport const WeekDay = withStyles(styles)(connect(mapState)(CWeekDay))\r\n","import React, { CSSProperties } from 'react'\r\nimport { TProject } from '../../types/project'\r\nimport {\r\n  Select,\r\n  MenuItem,\r\n  IconButton,\r\n  Theme,\r\n  createStyles,\r\n  WithStyles,\r\n  withStyles\r\n} from '@material-ui/core'\r\nimport { NavigateBefore, NavigateNext } from '@material-ui/icons'\r\nimport { format, addDays, subDays } from 'date-fns'\r\n\r\nconst mobilePx = 750\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    nav: {\r\n      [theme.breakpoints.up(mobilePx)]: {\r\n        ...boxStyle\r\n      },\r\n      [theme.breakpoints.down(mobilePx)]: {\r\n        marginRight: 'auto'\r\n      }\r\n    }\r\n  })\r\n\r\ntype OwnProps = {\r\n  projects: TProject[]\r\n  toggleProject: (id: string[]) => void\r\n  currIds: string[]\r\n  startDay: Date\r\n  setDate: (newDay: Date) => void\r\n}\r\n\r\nconst boxStyle: CSSProperties = {\r\n  alignItems: 'center',\r\n  flex: 1,\r\n  display: 'flex',\r\n  justifyContent: 'center'\r\n}\r\n\r\ntype TProps = OwnProps & WithStyles<typeof styles>\r\n\r\nconst CWeekControls = (props: TProps) => {\r\n  const { projects, toggleProject, currIds } = props\r\n\r\n  console.log(props)\r\n  return (\r\n    <div\r\n      style={{\r\n        display: 'flex'\r\n      }}\r\n    >\r\n      <Select\r\n        style={{ maxWidth: '30%', ...boxStyle }}\r\n        value={currIds.length === 0 ? ['-1'] : currIds}\r\n        onChange={e => {\r\n          const withoutAllProjects = (e.target.value as any).filter(\r\n            (num: string) => num !== '-1'\r\n          )\r\n          toggleProject(\r\n            // we dont want the array to even be empty, and we dont want both the All projects and anything else to show at the same time.\r\n            ((e as any).target.value.includes('-1') &&\r\n              !currIds.includes('-1')) ||\r\n              withoutAllProjects.length === 0\r\n              ? ['-1']\r\n              : withoutAllProjects\r\n          )\r\n        }}\r\n        multiple\r\n      >\r\n        <MenuItem value={-1}>All Projects</MenuItem>\r\n        {Object.values(projects).map(project => (\r\n          <MenuItem key={project.id} value={project.id}>\r\n            {project.name}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      <div className={props.classes.nav}>\r\n        <IconButton onClick={() => props.setDate(subDays(props.startDay, 6))}>\r\n          <NavigateBefore />\r\n        </IconButton>\r\n        <span style={{ margin: '10px' }}>\r\n          {`${format(props.startDay, 'MMM d')} - ${format(\r\n            addDays(props.startDay, 6),\r\n            'MMM d'\r\n          )}`}\r\n        </span>\r\n        <IconButton onClick={() => props.setDate(addDays(props.startDay, 8))}>\r\n          <NavigateNext />\r\n        </IconButton>\r\n      </div>\r\n      {window.innerWidth >= mobilePx && <div style={boxStyle} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport const WeekControls = withStyles(styles)(CWeekControls)\r\n","import React, { useState } from 'react'\r\nimport { WithStyles, Theme, createStyles, withStyles } from '@material-ui/core'\r\nimport { setTaskA } from '../../store/actions/task'\r\nimport { connect } from 'react-redux'\r\nimport { TState } from '../../types/state'\r\nimport { DropResult, DragDropContext } from 'react-beautiful-dnd'\r\nimport { subDays, addDays } from 'date-fns'\r\nimport { WeekDay } from './WeekDay'\r\nimport { WeekControls } from './WeekControls'\r\nimport { differenceInCalendarDays } from 'date-fns'\r\nimport { getProjectIdFromTaskId, id } from '../../utils/utilities'\r\n\r\ntype TProps = ReturnType<typeof mapState> &\r\n  typeof actionCreators &\r\n  WithStyles<typeof styles>\r\n\r\n/** Gets the day behind the passed date, the passed date, and the 5 dates after passed date */\r\nconst getDays = (start: Date): Date[] => {\r\n  const result: Date[] = [subDays(start, 1), start]\r\n  for (let i = 0; i < 5; i++) {\r\n    result.push(addDays(start, i + 1)) // start at adding 1 day\r\n  }\r\n\r\n  return result\r\n}\r\n\r\nconst styles = (theme: Theme) =>\r\n  createStyles({\r\n    dragContainer: {\r\n      border: '1px solid #dadce0',\r\n      borderRadius: '.8rem',\r\n      overflowX: 'hidden',\r\n      marginTop: 10\r\n    },\r\n    tasksContainer: {\r\n      minHeight: 200,\r\n      overflowX: 'auto',\r\n      display: 'flex',\r\n      flex: '1 1 auto'\r\n    }\r\n  })\r\n\r\nconst CWeek = withStyles(styles)((props: TProps) => {\r\n  const [filterProjectId, setFilterProjectId] = useState(['-1'])\r\n  const [baseDay, setBaseDay] = useState(new Date())\r\n\r\n  const allTasks = props.projects.reduce((tasks, project) => {\r\n    return [...tasks, ...project.tasks]\r\n  }, [])\r\n\r\n  const weekEmpty = Boolean(allTasks.filter((task) => task.dueDate !== undefined).length)\r\n\r\n  const onDragEnd = (result: DropResult) => {\r\n    const { source, destination, draggableId } = result\r\n\r\n    if (!destination || source.droppableId === destination.droppableId) {\r\n      return // dragging outside boundaries or dropping into the same day\r\n    }\r\n\r\n    const task = allTasks[id(allTasks, draggableId)]\r\n\r\n    const findNewDate = (taskDueDate: string) => {\r\n      const newDay = new Date(parseInt(destination.droppableId))\r\n\r\n      const diff = differenceInCalendarDays(newDay, new Date(taskDueDate))\r\n\r\n      return addDays(new Date(taskDueDate), diff).toString()\r\n    }\r\n\r\n    const newTask = {\r\n      ...task,\r\n      dueDate: findNewDate(allTasks[id(allTasks, draggableId)].dueDate!)\r\n    }\r\n\r\n    props.setTask({\r\n      id: draggableId,\r\n      newTask,\r\n      projectId: getProjectIdFromTaskId(props.projects, draggableId)\r\n    })\r\n  }\r\n\r\n  const days = getDays(baseDay)\r\n  return (\r\n    <>\r\n      <div style={{ margin: 20 }}>\r\n        <WeekControls\r\n          startDay={days[0]}\r\n          currIds={filterProjectId}\r\n          projects={props.projects}\r\n          toggleProject={(projId: string[]) => {\r\n            setFilterProjectId(projId)\r\n          }}\r\n          setDate={(newDay: Date) => setBaseDay(newDay)}\r\n        />\r\n        <DragDropContext onDragEnd={onDragEnd}>\r\n          <div className={props.classes.dragContainer}>\r\n            <div className={props.classes.tasksContainer}>\r\n              {days.map((day, i) => (\r\n                <WeekDay\r\n                  filteringProjects={filterProjectId}\r\n                  day={day}\r\n                  key={i}\r\n                  index={i as any}\r\n                />\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </DragDropContext>\r\n      </div>\r\n      {weekEmpty && (\r\n        <h1 style={{margin: '20px auto', textAlign: 'center'}}>You have no tasks with due dates</h1>\r\n      )}\r\n    </>\r\n  )\r\n})\r\n\r\nconst mapState = (state: TState) => ({\r\n  projects: state.projects\r\n})\r\n\r\nconst actionCreators = {\r\n  setTask: setTaskA\r\n}\r\n\r\nexport const CalendarWeek = connect(\r\n  mapState,\r\n  actionCreators\r\n)(CWeek)\r\n","import React, { CSSProperties, useState } from 'react'\r\nimport { render } from 'react-dom'\r\nimport './index.css'\r\nimport { Provider } from 'react-redux'\r\nimport { MuiThemeProvider } from '@material-ui/core/styles'\r\nimport { Switch, Route, HashRouter } from 'react-router-dom'\r\n\r\nimport { store } from './store/store'\r\nimport { createMuiTheme } from '@material-ui/core/styles'\r\nimport { Pomodoro } from './components/Pomodoro/Pomodoro'\r\nimport { AuthRender } from './components/Auth/Auth'\r\nimport { CreateProject } from './components/createProject/CreateProject'\r\nimport { NoMatch } from './components/NoMatch/NoMatch'\r\nimport { Fab, CircularProgress } from '@material-ui/core'\r\nimport { Timer } from '@material-ui/icons'\r\nimport { About } from './components/Landing/About'\r\n\r\nimport { Header } from './components/Header'\r\n// import { WelcomeDialog } from './components/Welcome/WelcomeDialog'\r\nimport { SnackbarRoot } from './components/utils/SnackbarRoot'\r\nimport { ApolloProvider } from 'react-apollo'\r\nimport { print } from 'graphql'\r\nimport { loginA } from './store/actions/auth'\r\nimport { Mutation } from './graphql/types'\r\nimport { fetchQuery } from './API/initialize'\r\n\r\nconst secondary = '#0336FF'\r\nconst primary = '#00838f'\r\n// const primary = '#f4511e'\r\n// const secondary = '#3f51b5'\r\n\r\n/** @description Material ui theme, used in wrapper.tsx */\r\n\r\nconst theme = createMuiTheme({\r\n  palette: {\r\n    primary: {\r\n      main: primary\r\n    },\r\n    secondary: {\r\n      main: secondary\r\n    }\r\n  }\r\n})\r\n\r\nexport const fabStyle: CSSProperties = {\r\n  position: 'fixed',\r\n  bottom: theme.spacing(2),\r\n  left: theme.spacing(2),\r\n  zIndex: 999\r\n}\r\n\r\nimport { openSnackbarA } from './store/actions/snackbar'\r\nimport { GQL_LOGIN_WITH_COOKIE } from './graphql/mutations/auth'\r\nimport { client } from './apollo'\r\nimport { PublicOnlyRoute, PrivateRoute } from './components/utils/Routing'\r\nimport { Project } from './components/Project/Project'\r\nimport { Settings } from './components/Settings/Settings'\r\nimport { Dashboard } from './components/Dashboard/Dashboard'\r\nimport { CalendarWeek } from './components/Calendar/Week'\r\n\r\nconst Router = () => {\r\n  const [open, setOpen] = useState(false)\r\n  const [loaded, setLoaded] = useState(false)\r\n\r\n  window.onload = async () => {\r\n    try {\r\n      const {\r\n        loginWithCookie\r\n      }: { loginWithCookie: Mutation['loginWithCookie'] } = await fetchQuery(\r\n        print(GQL_LOGIN_WITH_COOKIE)\r\n      )\r\n\r\n      if (loginWithCookie && loginWithCookie.user) {\r\n        store.dispatch(loginA(loginWithCookie.user as any) as any)\r\n      } else {\r\n        store.dispatch(openSnackbarA('Hey there, Welcome!', 'standard'))\r\n      }\r\n\r\n      setLoaded(true)\r\n    } catch (err) {\r\n      setLoaded(true)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <HashRouter>\r\n      <>\r\n        <Header />\r\n        <Pomodoro open={open} stateFunc={(bool: boolean) => setOpen(bool)} />\r\n        {/* <WelcomeDialog /> */}\r\n        {!open && (\r\n          <>\r\n            <Fab\r\n              style={fabStyle}\r\n              color=\"secondary\"\r\n              onClick={() => setOpen(true)}\r\n            >\r\n              <Timer />\r\n            </Fab>\r\n          </>\r\n        )}\r\n        {loaded ? (\r\n          <Switch>\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/settings\"\r\n              component={Settings}\r\n              componentProps={{}}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/calendar\"\r\n              component={CalendarWeek}\r\n              componentProps={{}}\r\n            />\r\n            <PublicOnlyRoute\r\n              exact\r\n              path=\"/login\"\r\n              component={AuthRender}\r\n              componentProps={{ authType: 'Login' }}\r\n            />\r\n            <PublicOnlyRoute\r\n              exact\r\n              path=\"/register\"\r\n              component={AuthRender}\r\n              componentProps={{ authType: 'Register' }}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/create-project\"\r\n              component={CreateProject}\r\n              componentProps={{}}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/project/:id\"\r\n              component={Project}\r\n              componentProps={{}}\r\n            />\r\n            <PrivateRoute\r\n              exact\r\n              path=\"/dashboard\"\r\n              component={Dashboard}\r\n              componentProps={{}}\r\n            />\r\n            <PublicOnlyRoute\r\n              exact\r\n              path=\"/\"\r\n              component={About}\r\n              componentProps={() => ({})}\r\n            />\r\n            <Route component={NoMatch} />\r\n          </Switch>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              position: 'absolute',\r\n              top: 0,\r\n              bottom: 0,\r\n              left: 0,\r\n              right: 0,\r\n              display: 'flex',\r\n              justifyContent: 'space-around'\r\n            }}\r\n          >\r\n            <CircularProgress\r\n              style={{\r\n                width: '128px',\r\n                height: '128px',\r\n                marginRight: 64,\r\n                marginTop: 100\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    </HashRouter>\r\n  )\r\n}\r\n\r\nexport const Wrapper = () => {\r\n  return (\r\n    <Provider store={store}>\r\n      <ApolloProvider client={client}>\r\n        <MuiThemeProvider theme={theme}>\r\n          <SnackbarRoot />\r\n          <Router />\r\n        </MuiThemeProvider>\r\n      </ApolloProvider>\r\n    </Provider>\r\n  )\r\n}\r\n\r\nimport Moment from 'moment'\r\nimport 'react-widgets/dist/css/react-widgets.css'\r\n\r\nconst momentLocalizer = require('react-widgets-moment')\r\n\r\nMoment.locale('en')\r\nmomentLocalizer()\r\n\r\nrender(<Wrapper />, document.getElementById('root'))\r\n"],"sourceRoot":""}